(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const u of document.querySelectorAll('link[rel="modulepreload"]'))a(u);new MutationObserver(u=>{for(const f of u)if(f.type==="childList")for(const p of f.addedNodes)p.tagName==="LINK"&&p.rel==="modulepreload"&&a(p)}).observe(document,{childList:!0,subtree:!0});function l(u){const f={};return u.integrity&&(f.integrity=u.integrity),u.referrerPolicy&&(f.referrerPolicy=u.referrerPolicy),u.crossOrigin==="use-credentials"?f.credentials="include":u.crossOrigin==="anonymous"?f.credentials="omit":f.credentials="same-origin",f}function a(u){if(u.ep)return;u.ep=!0;const f=l(u);fetch(u.href,f)}})();function fg(i){return i&&i.__esModule&&Object.prototype.hasOwnProperty.call(i,"default")?i.default:i}var Tc={exports:{}},xa={};/**
 * @license React
 * react-jsx-runtime.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Rp;function E0(){if(Rp)return xa;Rp=1;var i=Symbol.for("react.transitional.element"),t=Symbol.for("react.fragment");function l(a,u,f){var p=null;if(f!==void 0&&(p=""+f),u.key!==void 0&&(p=""+u.key),"key"in u){f={};for(var g in u)g!=="key"&&(f[g]=u[g])}else f=u;return u=f.ref,{$$typeof:i,type:a,key:p,ref:u!==void 0?u:null,props:f}}return xa.Fragment=t,xa.jsx=l,xa.jsxs=l,xa}var xp;function _0(){return xp||(xp=1,Tc.exports=E0()),Tc.exports}var C=_0(),Sc={exports:{}},Ae={};/**
 * @license React
 * react.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Mp;function C0(){if(Mp)return Ae;Mp=1;var i=Symbol.for("react.transitional.element"),t=Symbol.for("react.portal"),l=Symbol.for("react.fragment"),a=Symbol.for("react.strict_mode"),u=Symbol.for("react.profiler"),f=Symbol.for("react.consumer"),p=Symbol.for("react.context"),g=Symbol.for("react.forward_ref"),y=Symbol.for("react.suspense"),h=Symbol.for("react.memo"),v=Symbol.for("react.lazy"),E=Symbol.for("react.activity"),T=Symbol.iterator;function R(x){return x===null||typeof x!="object"?null:(x=T&&x[T]||x["@@iterator"],typeof x=="function"?x:null)}var N={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},w=Object.assign,z={};function G(x,O,ne){this.props=x,this.context=O,this.refs=z,this.updater=ne||N}G.prototype.isReactComponent={},G.prototype.setState=function(x,O){if(typeof x!="object"&&typeof x!="function"&&x!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,x,O,"setState")},G.prototype.forceUpdate=function(x){this.updater.enqueueForceUpdate(this,x,"forceUpdate")};function Z(){}Z.prototype=G.prototype;function J(x,O,ne){this.props=x,this.context=O,this.refs=z,this.updater=ne||N}var ee=J.prototype=new Z;ee.constructor=J,w(ee,G.prototype),ee.isPureReactComponent=!0;var te=Array.isArray;function ie(){}var X={H:null,A:null,T:null,S:null},fe=Object.prototype.hasOwnProperty;function W(x,O,ne){var ae=ne.ref;return{$$typeof:i,type:x,key:O,ref:ae!==void 0?ae:null,props:ne}}function j(x,O){return W(x.type,O,x.props)}function ge(x){return typeof x=="object"&&x!==null&&x.$$typeof===i}function Re(x){var O={"=":"=0",":":"=2"};return"$"+x.replace(/[=:]/g,function(ne){return O[ne]})}var Te=/\/+/g;function qe(x,O){return typeof x=="object"&&x!==null&&x.key!=null?Re(""+x.key):O.toString(36)}function Ge(x){switch(x.status){case"fulfilled":return x.value;case"rejected":throw x.reason;default:switch(typeof x.status=="string"?x.then(ie,ie):(x.status="pending",x.then(function(O){x.status==="pending"&&(x.status="fulfilled",x.value=O)},function(O){x.status==="pending"&&(x.status="rejected",x.reason=O)})),x.status){case"fulfilled":return x.value;case"rejected":throw x.reason}}throw x}function P(x,O,ne,ae,me){var xe=typeof x;(xe==="undefined"||xe==="boolean")&&(x=null);var De=!1;if(x===null)De=!0;else switch(xe){case"bigint":case"string":case"number":De=!0;break;case"object":switch(x.$$typeof){case i:case t:De=!0;break;case v:return De=x._init,P(De(x._payload),O,ne,ae,me)}}if(De)return me=me(x),De=ae===""?"."+qe(x,0):ae,te(me)?(ne="",De!=null&&(ne=De.replace(Te,"$&/")+"/"),P(me,O,ne,"",function(Rn){return Rn})):me!=null&&(ge(me)&&(me=j(me,ne+(me.key==null||x&&x.key===me.key?"":(""+me.key).replace(Te,"$&/")+"/")+De)),O.push(me)),1;De=0;var at=ae===""?".":ae+":";if(te(x))for(var We=0;We<x.length;We++)ae=x[We],xe=at+qe(ae,We),De+=P(ae,O,ne,xe,me);else if(We=R(x),typeof We=="function")for(x=We.call(x),We=0;!(ae=x.next()).done;)ae=ae.value,xe=at+qe(ae,We++),De+=P(ae,O,ne,xe,me);else if(xe==="object"){if(typeof x.then=="function")return P(Ge(x),O,ne,ae,me);throw O=String(x),Error("Objects are not valid as a React child (found: "+(O==="[object Object]"?"object with keys {"+Object.keys(x).join(", ")+"}":O)+"). If you meant to render a collection of children, use an array instead.")}return De}function K(x,O,ne){if(x==null)return x;var ae=[],me=0;return P(x,ae,"","",function(xe){return O.call(ne,xe,me++)}),ae}function re(x){if(x._status===-1){var O=x._result;O=O(),O.then(function(ne){(x._status===0||x._status===-1)&&(x._status=1,x._result=ne)},function(ne){(x._status===0||x._status===-1)&&(x._status=2,x._result=ne)}),x._status===-1&&(x._status=0,x._result=O)}if(x._status===1)return x._result.default;throw x._result}var _e=typeof reportError=="function"?reportError:function(x){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var O=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof x=="object"&&x!==null&&typeof x.message=="string"?String(x.message):String(x),error:x});if(!window.dispatchEvent(O))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",x);return}console.error(x)},ye={map:K,forEach:function(x,O,ne){K(x,function(){O.apply(this,arguments)},ne)},count:function(x){var O=0;return K(x,function(){O++}),O},toArray:function(x){return K(x,function(O){return O})||[]},only:function(x){if(!ge(x))throw Error("React.Children.only expected to receive a single React element child.");return x}};return Ae.Activity=E,Ae.Children=ye,Ae.Component=G,Ae.Fragment=l,Ae.Profiler=u,Ae.PureComponent=J,Ae.StrictMode=a,Ae.Suspense=y,Ae.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=X,Ae.__COMPILER_RUNTIME={__proto__:null,c:function(x){return X.H.useMemoCache(x)}},Ae.cache=function(x){return function(){return x.apply(null,arguments)}},Ae.cacheSignal=function(){return null},Ae.cloneElement=function(x,O,ne){if(x==null)throw Error("The argument must be a React element, but you passed "+x+".");var ae=w({},x.props),me=x.key;if(O!=null)for(xe in O.key!==void 0&&(me=""+O.key),O)!fe.call(O,xe)||xe==="key"||xe==="__self"||xe==="__source"||xe==="ref"&&O.ref===void 0||(ae[xe]=O[xe]);var xe=arguments.length-2;if(xe===1)ae.children=ne;else if(1<xe){for(var De=Array(xe),at=0;at<xe;at++)De[at]=arguments[at+2];ae.children=De}return W(x.type,me,ae)},Ae.createContext=function(x){return x={$$typeof:p,_currentValue:x,_currentValue2:x,_threadCount:0,Provider:null,Consumer:null},x.Provider=x,x.Consumer={$$typeof:f,_context:x},x},Ae.createElement=function(x,O,ne){var ae,me={},xe=null;if(O!=null)for(ae in O.key!==void 0&&(xe=""+O.key),O)fe.call(O,ae)&&ae!=="key"&&ae!=="__self"&&ae!=="__source"&&(me[ae]=O[ae]);var De=arguments.length-2;if(De===1)me.children=ne;else if(1<De){for(var at=Array(De),We=0;We<De;We++)at[We]=arguments[We+2];me.children=at}if(x&&x.defaultProps)for(ae in De=x.defaultProps,De)me[ae]===void 0&&(me[ae]=De[ae]);return W(x,xe,me)},Ae.createRef=function(){return{current:null}},Ae.forwardRef=function(x){return{$$typeof:g,render:x}},Ae.isValidElement=ge,Ae.lazy=function(x){return{$$typeof:v,_payload:{_status:-1,_result:x},_init:re}},Ae.memo=function(x,O){return{$$typeof:h,type:x,compare:O===void 0?null:O}},Ae.startTransition=function(x){var O=X.T,ne={};X.T=ne;try{var ae=x(),me=X.S;me!==null&&me(ne,ae),typeof ae=="object"&&ae!==null&&typeof ae.then=="function"&&ae.then(ie,_e)}catch(xe){_e(xe)}finally{O!==null&&ne.types!==null&&(O.types=ne.types),X.T=O}},Ae.unstable_useCacheRefresh=function(){return X.H.useCacheRefresh()},Ae.use=function(x){return X.H.use(x)},Ae.useActionState=function(x,O,ne){return X.H.useActionState(x,O,ne)},Ae.useCallback=function(x,O){return X.H.useCallback(x,O)},Ae.useContext=function(x){return X.H.useContext(x)},Ae.useDebugValue=function(){},Ae.useDeferredValue=function(x,O){return X.H.useDeferredValue(x,O)},Ae.useEffect=function(x,O){return X.H.useEffect(x,O)},Ae.useEffectEvent=function(x){return X.H.useEffectEvent(x)},Ae.useId=function(){return X.H.useId()},Ae.useImperativeHandle=function(x,O,ne){return X.H.useImperativeHandle(x,O,ne)},Ae.useInsertionEffect=function(x,O){return X.H.useInsertionEffect(x,O)},Ae.useLayoutEffect=function(x,O){return X.H.useLayoutEffect(x,O)},Ae.useMemo=function(x,O){return X.H.useMemo(x,O)},Ae.useOptimistic=function(x,O){return X.H.useOptimistic(x,O)},Ae.useReducer=function(x,O,ne){return X.H.useReducer(x,O,ne)},Ae.useRef=function(x){return X.H.useRef(x)},Ae.useState=function(x){return X.H.useState(x)},Ae.useSyncExternalStore=function(x,O,ne){return X.H.useSyncExternalStore(x,O,ne)},Ae.useTransition=function(){return X.H.useTransition()},Ae.version="19.2.1",Ae}var Np;function Hc(){return Np||(Np=1,Sc.exports=C0()),Sc.exports}var D=Hc();const zc=fg(D);var Ec={exports:{}},Ma={},_c={exports:{}},Cc={};/**
 * @license React
 * scheduler.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var bp;function A0(){return bp||(bp=1,(function(i){function t(P,K){var re=P.length;P.push(K);e:for(;0<re;){var _e=re-1>>>1,ye=P[_e];if(0<u(ye,K))P[_e]=K,P[re]=ye,re=_e;else break e}}function l(P){return P.length===0?null:P[0]}function a(P){if(P.length===0)return null;var K=P[0],re=P.pop();if(re!==K){P[0]=re;e:for(var _e=0,ye=P.length,x=ye>>>1;_e<x;){var O=2*(_e+1)-1,ne=P[O],ae=O+1,me=P[ae];if(0>u(ne,re))ae<ye&&0>u(me,ne)?(P[_e]=me,P[ae]=re,_e=ae):(P[_e]=ne,P[O]=re,_e=O);else if(ae<ye&&0>u(me,re))P[_e]=me,P[ae]=re,_e=ae;else break e}}return K}function u(P,K){var re=P.sortIndex-K.sortIndex;return re!==0?re:P.id-K.id}if(i.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var f=performance;i.unstable_now=function(){return f.now()}}else{var p=Date,g=p.now();i.unstable_now=function(){return p.now()-g}}var y=[],h=[],v=1,E=null,T=3,R=!1,N=!1,w=!1,z=!1,G=typeof setTimeout=="function"?setTimeout:null,Z=typeof clearTimeout=="function"?clearTimeout:null,J=typeof setImmediate<"u"?setImmediate:null;function ee(P){for(var K=l(h);K!==null;){if(K.callback===null)a(h);else if(K.startTime<=P)a(h),K.sortIndex=K.expirationTime,t(y,K);else break;K=l(h)}}function te(P){if(w=!1,ee(P),!N)if(l(y)!==null)N=!0,ie||(ie=!0,Re());else{var K=l(h);K!==null&&Ge(te,K.startTime-P)}}var ie=!1,X=-1,fe=5,W=-1;function j(){return z?!0:!(i.unstable_now()-W<fe)}function ge(){if(z=!1,ie){var P=i.unstable_now();W=P;var K=!0;try{e:{N=!1,w&&(w=!1,Z(X),X=-1),R=!0;var re=T;try{t:{for(ee(P),E=l(y);E!==null&&!(E.expirationTime>P&&j());){var _e=E.callback;if(typeof _e=="function"){E.callback=null,T=E.priorityLevel;var ye=_e(E.expirationTime<=P);if(P=i.unstable_now(),typeof ye=="function"){E.callback=ye,ee(P),K=!0;break t}E===l(y)&&a(y),ee(P)}else a(y);E=l(y)}if(E!==null)K=!0;else{var x=l(h);x!==null&&Ge(te,x.startTime-P),K=!1}}break e}finally{E=null,T=re,R=!1}K=void 0}}finally{K?Re():ie=!1}}}var Re;if(typeof J=="function")Re=function(){J(ge)};else if(typeof MessageChannel<"u"){var Te=new MessageChannel,qe=Te.port2;Te.port1.onmessage=ge,Re=function(){qe.postMessage(null)}}else Re=function(){G(ge,0)};function Ge(P,K){X=G(function(){P(i.unstable_now())},K)}i.unstable_IdlePriority=5,i.unstable_ImmediatePriority=1,i.unstable_LowPriority=4,i.unstable_NormalPriority=3,i.unstable_Profiling=null,i.unstable_UserBlockingPriority=2,i.unstable_cancelCallback=function(P){P.callback=null},i.unstable_forceFrameRate=function(P){0>P||125<P?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):fe=0<P?Math.floor(1e3/P):5},i.unstable_getCurrentPriorityLevel=function(){return T},i.unstable_next=function(P){switch(T){case 1:case 2:case 3:var K=3;break;default:K=T}var re=T;T=K;try{return P()}finally{T=re}},i.unstable_requestPaint=function(){z=!0},i.unstable_runWithPriority=function(P,K){switch(P){case 1:case 2:case 3:case 4:case 5:break;default:P=3}var re=T;T=P;try{return K()}finally{T=re}},i.unstable_scheduleCallback=function(P,K,re){var _e=i.unstable_now();switch(typeof re=="object"&&re!==null?(re=re.delay,re=typeof re=="number"&&0<re?_e+re:_e):re=_e,P){case 1:var ye=-1;break;case 2:ye=250;break;case 5:ye=1073741823;break;case 4:ye=1e4;break;default:ye=5e3}return ye=re+ye,P={id:v++,callback:K,priorityLevel:P,startTime:re,expirationTime:ye,sortIndex:-1},re>_e?(P.sortIndex=re,t(h,P),l(y)===null&&P===l(h)&&(w?(Z(X),X=-1):w=!0,Ge(te,re-_e))):(P.sortIndex=ye,t(y,P),N||R||(N=!0,ie||(ie=!0,Re()))),P},i.unstable_shouldYield=j,i.unstable_wrapCallback=function(P){var K=T;return function(){var re=T;T=K;try{return P.apply(this,arguments)}finally{T=re}}}})(Cc)),Cc}var wp;function R0(){return wp||(wp=1,_c.exports=A0()),_c.exports}var Ac={exports:{}},Dt={};/**
 * @license React
 * react-dom.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Dp;function x0(){if(Dp)return Dt;Dp=1;var i=Hc();function t(y){var h="https://react.dev/errors/"+y;if(1<arguments.length){h+="?args[]="+encodeURIComponent(arguments[1]);for(var v=2;v<arguments.length;v++)h+="&args[]="+encodeURIComponent(arguments[v])}return"Minified React error #"+y+"; visit "+h+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function l(){}var a={d:{f:l,r:function(){throw Error(t(522))},D:l,C:l,L:l,m:l,X:l,S:l,M:l},p:0,findDOMNode:null},u=Symbol.for("react.portal");function f(y,h,v){var E=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:u,key:E==null?null:""+E,children:y,containerInfo:h,implementation:v}}var p=i.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function g(y,h){if(y==="font")return"";if(typeof h=="string")return h==="use-credentials"?h:""}return Dt.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=a,Dt.createPortal=function(y,h){var v=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!h||h.nodeType!==1&&h.nodeType!==9&&h.nodeType!==11)throw Error(t(299));return f(y,h,null,v)},Dt.flushSync=function(y){var h=p.T,v=a.p;try{if(p.T=null,a.p=2,y)return y()}finally{p.T=h,a.p=v,a.d.f()}},Dt.preconnect=function(y,h){typeof y=="string"&&(h?(h=h.crossOrigin,h=typeof h=="string"?h==="use-credentials"?h:"":void 0):h=null,a.d.C(y,h))},Dt.prefetchDNS=function(y){typeof y=="string"&&a.d.D(y)},Dt.preinit=function(y,h){if(typeof y=="string"&&h&&typeof h.as=="string"){var v=h.as,E=g(v,h.crossOrigin),T=typeof h.integrity=="string"?h.integrity:void 0,R=typeof h.fetchPriority=="string"?h.fetchPriority:void 0;v==="style"?a.d.S(y,typeof h.precedence=="string"?h.precedence:void 0,{crossOrigin:E,integrity:T,fetchPriority:R}):v==="script"&&a.d.X(y,{crossOrigin:E,integrity:T,fetchPriority:R,nonce:typeof h.nonce=="string"?h.nonce:void 0})}},Dt.preinitModule=function(y,h){if(typeof y=="string")if(typeof h=="object"&&h!==null){if(h.as==null||h.as==="script"){var v=g(h.as,h.crossOrigin);a.d.M(y,{crossOrigin:v,integrity:typeof h.integrity=="string"?h.integrity:void 0,nonce:typeof h.nonce=="string"?h.nonce:void 0})}}else h==null&&a.d.M(y)},Dt.preload=function(y,h){if(typeof y=="string"&&typeof h=="object"&&h!==null&&typeof h.as=="string"){var v=h.as,E=g(v,h.crossOrigin);a.d.L(y,v,{crossOrigin:E,integrity:typeof h.integrity=="string"?h.integrity:void 0,nonce:typeof h.nonce=="string"?h.nonce:void 0,type:typeof h.type=="string"?h.type:void 0,fetchPriority:typeof h.fetchPriority=="string"?h.fetchPriority:void 0,referrerPolicy:typeof h.referrerPolicy=="string"?h.referrerPolicy:void 0,imageSrcSet:typeof h.imageSrcSet=="string"?h.imageSrcSet:void 0,imageSizes:typeof h.imageSizes=="string"?h.imageSizes:void 0,media:typeof h.media=="string"?h.media:void 0})}},Dt.preloadModule=function(y,h){if(typeof y=="string")if(h){var v=g(h.as,h.crossOrigin);a.d.m(y,{as:typeof h.as=="string"&&h.as!=="script"?h.as:void 0,crossOrigin:v,integrity:typeof h.integrity=="string"?h.integrity:void 0})}else a.d.m(y)},Dt.requestFormReset=function(y){a.d.r(y)},Dt.unstable_batchedUpdates=function(y,h){return y(h)},Dt.useFormState=function(y,h,v){return p.H.useFormState(y,h,v)},Dt.useFormStatus=function(){return p.H.useHostTransitionStatus()},Dt.version="19.2.1",Dt}var Ip;function M0(){if(Ip)return Ac.exports;Ip=1;function i(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(i)}catch(t){console.error(t)}}return i(),Ac.exports=x0(),Ac.exports}/**
 * @license React
 * react-dom-client.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Up;function N0(){if(Up)return Ma;Up=1;var i=R0(),t=Hc(),l=M0();function a(e){var n="https://react.dev/errors/"+e;if(1<arguments.length){n+="?args[]="+encodeURIComponent(arguments[1]);for(var o=2;o<arguments.length;o++)n+="&args[]="+encodeURIComponent(arguments[o])}return"Minified React error #"+e+"; visit "+n+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function u(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)}function f(e){var n=e,o=e;if(e.alternate)for(;n.return;)n=n.return;else{e=n;do n=e,(n.flags&4098)!==0&&(o=n.return),e=n.return;while(e)}return n.tag===3?o:null}function p(e){if(e.tag===13){var n=e.memoizedState;if(n===null&&(e=e.alternate,e!==null&&(n=e.memoizedState)),n!==null)return n.dehydrated}return null}function g(e){if(e.tag===31){var n=e.memoizedState;if(n===null&&(e=e.alternate,e!==null&&(n=e.memoizedState)),n!==null)return n.dehydrated}return null}function y(e){if(f(e)!==e)throw Error(a(188))}function h(e){var n=e.alternate;if(!n){if(n=f(e),n===null)throw Error(a(188));return n!==e?null:e}for(var o=e,s=n;;){var d=o.return;if(d===null)break;var m=d.alternate;if(m===null){if(s=d.return,s!==null){o=s;continue}break}if(d.child===m.child){for(m=d.child;m;){if(m===o)return y(d),e;if(m===s)return y(d),n;m=m.sibling}throw Error(a(188))}if(o.return!==s.return)o=d,s=m;else{for(var S=!1,_=d.child;_;){if(_===o){S=!0,o=d,s=m;break}if(_===s){S=!0,s=d,o=m;break}_=_.sibling}if(!S){for(_=m.child;_;){if(_===o){S=!0,o=m,s=d;break}if(_===s){S=!0,s=m,o=d;break}_=_.sibling}if(!S)throw Error(a(189))}}if(o.alternate!==s)throw Error(a(190))}if(o.tag!==3)throw Error(a(188));return o.stateNode.current===o?e:n}function v(e){var n=e.tag;if(n===5||n===26||n===27||n===6)return e;for(e=e.child;e!==null;){if(n=v(e),n!==null)return n;e=e.sibling}return null}var E=Object.assign,T=Symbol.for("react.element"),R=Symbol.for("react.transitional.element"),N=Symbol.for("react.portal"),w=Symbol.for("react.fragment"),z=Symbol.for("react.strict_mode"),G=Symbol.for("react.profiler"),Z=Symbol.for("react.consumer"),J=Symbol.for("react.context"),ee=Symbol.for("react.forward_ref"),te=Symbol.for("react.suspense"),ie=Symbol.for("react.suspense_list"),X=Symbol.for("react.memo"),fe=Symbol.for("react.lazy"),W=Symbol.for("react.activity"),j=Symbol.for("react.memo_cache_sentinel"),ge=Symbol.iterator;function Re(e){return e===null||typeof e!="object"?null:(e=ge&&e[ge]||e["@@iterator"],typeof e=="function"?e:null)}var Te=Symbol.for("react.client.reference");function qe(e){if(e==null)return null;if(typeof e=="function")return e.$$typeof===Te?null:e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case w:return"Fragment";case G:return"Profiler";case z:return"StrictMode";case te:return"Suspense";case ie:return"SuspenseList";case W:return"Activity"}if(typeof e=="object")switch(e.$$typeof){case N:return"Portal";case J:return e.displayName||"Context";case Z:return(e._context.displayName||"Context")+".Consumer";case ee:var n=e.render;return e=e.displayName,e||(e=n.displayName||n.name||"",e=e!==""?"ForwardRef("+e+")":"ForwardRef"),e;case X:return n=e.displayName||null,n!==null?n:qe(e.type)||"Memo";case fe:n=e._payload,e=e._init;try{return qe(e(n))}catch{}}return null}var Ge=Array.isArray,P=t.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,K=l.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,re={pending:!1,data:null,method:null,action:null},_e=[],ye=-1;function x(e){return{current:e}}function O(e){0>ye||(e.current=_e[ye],_e[ye]=null,ye--)}function ne(e,n){ye++,_e[ye]=e.current,e.current=n}var ae=x(null),me=x(null),xe=x(null),De=x(null);function at(e,n){switch(ne(xe,n),ne(me,e),ne(ae,null),n.nodeType){case 9:case 11:e=(e=n.documentElement)&&(e=e.namespaceURI)?Km(e):0;break;default:if(e=n.tagName,n=n.namespaceURI)n=Km(n),e=Qm(n,e);else switch(e){case"svg":e=1;break;case"math":e=2;break;default:e=0}}O(ae),ne(ae,e)}function We(){O(ae),O(me),O(xe)}function Rn(e){e.memoizedState!==null&&ne(De,e);var n=ae.current,o=Qm(n,e.type);n!==o&&(ne(me,e),ne(ae,o))}function cn(e){me.current===e&&(O(ae),O(me)),De.current===e&&(O(De),_a._currentValue=re)}var Kt,fn;function Qt(e){if(Kt===void 0)try{throw Error()}catch(o){var n=o.stack.trim().match(/\n( *(at )?)/);Kt=n&&n[1]||"",fn=-1<o.stack.indexOf(`
    at`)?" (<anonymous>)":-1<o.stack.indexOf("@")?"@unknown:0:0":""}return`
`+Kt+e+fn}var yi=!1;function Jn(e,n){if(!e||yi)return"";yi=!0;var o=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var s={DetermineComponentFrameRoot:function(){try{if(n){var Y=function(){throw Error()};if(Object.defineProperty(Y.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(Y,[])}catch(V){var L=V}Reflect.construct(e,[],Y)}else{try{Y.call()}catch(V){L=V}e.call(Y.prototype)}}else{try{throw Error()}catch(V){L=V}(Y=e())&&typeof Y.catch=="function"&&Y.catch(function(){})}}catch(V){if(V&&L&&typeof V.stack=="string")return[V.stack,L.stack]}return[null,null]}};s.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var d=Object.getOwnPropertyDescriptor(s.DetermineComponentFrameRoot,"name");d&&d.configurable&&Object.defineProperty(s.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var m=s.DetermineComponentFrameRoot(),S=m[0],_=m[1];if(S&&_){var A=S.split(`
`),U=_.split(`
`);for(d=s=0;s<A.length&&!A[s].includes("DetermineComponentFrameRoot");)s++;for(;d<U.length&&!U[d].includes("DetermineComponentFrameRoot");)d++;if(s===A.length||d===U.length)for(s=A.length-1,d=U.length-1;1<=s&&0<=d&&A[s]!==U[d];)d--;for(;1<=s&&0<=d;s--,d--)if(A[s]!==U[d]){if(s!==1||d!==1)do if(s--,d--,0>d||A[s]!==U[d]){var B=`
`+A[s].replace(" at new "," at ");return e.displayName&&B.includes("<anonymous>")&&(B=B.replace("<anonymous>",e.displayName)),B}while(1<=s&&0<=d);break}}}finally{yi=!1,Error.prepareStackTrace=o}return(o=e?e.displayName||e.name:"")?Qt(o):""}function Ia(e,n){switch(e.tag){case 26:case 27:case 5:return Qt(e.type);case 16:return Qt("Lazy");case 13:return e.child!==n&&n!==null?Qt("Suspense Fallback"):Qt("Suspense");case 19:return Qt("SuspenseList");case 0:case 15:return Jn(e.type,!1);case 11:return Jn(e.type.render,!1);case 1:return Jn(e.type,!0);case 31:return Qt("Activity");default:return""}}function Io(e){try{var n="",o=null;do n+=Ia(e,o),o=e,e=e.return;while(e);return n}catch(s){return`
Error generating stack: `+s.message+`
`+s.stack}}var Al=Object.prototype.hasOwnProperty,Ua=i.unstable_scheduleCallback,Rl=i.unstable_cancelCallback,Zc=i.unstable_shouldYield,ur=i.unstable_requestPaint,qt=i.unstable_now,cr=i.unstable_getCurrentPriorityLevel,fr=i.unstable_ImmediatePriority,La=i.unstable_UserBlockingPriority,xl=i.unstable_NormalPriority,dr=i.unstable_LowPriority,Pa=i.unstable_IdlePriority,mr=i.log,pr=i.unstable_setDisableYieldValue,bt=null,Lt=null;function dn(e){if(typeof mr=="function"&&pr(e),Lt&&typeof Lt.setStrictMode=="function")try{Lt.setStrictMode(bt,e)}catch{}}var wt=Math.clz32?Math.clz32:Nl,Ml=Math.log,Uo=Math.LN2;function Nl(e){return e>>>=0,e===0?32:31-(Ml(e)/Uo|0)|0}var io=256,Lo=262144,Zt=4194304;function Gt(e){var n=e&42;if(n!==0)return n;switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:return e&261888;case 262144:case 524288:case 1048576:case 2097152:return e&3932160;case 4194304:case 8388608:case 16777216:case 33554432:return e&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return e}}function oo(e,n,o){var s=e.pendingLanes;if(s===0)return 0;var d=0,m=e.suspendedLanes,S=e.pingedLanes;e=e.warmLanes;var _=s&134217727;return _!==0?(s=_&~m,s!==0?d=Gt(s):(S&=_,S!==0?d=Gt(S):o||(o=_&~e,o!==0&&(d=Gt(o))))):(_=s&~m,_!==0?d=Gt(_):S!==0?d=Gt(S):o||(o=s&~e,o!==0&&(d=Gt(o)))),d===0?0:n!==0&&n!==d&&(n&m)===0&&(m=d&-d,o=n&-n,m>=o||m===32&&(o&4194048)!==0)?n:d}function vi(e,n){return(e.pendingLanes&~(e.suspendedLanes&~e.pingedLanes)&n)===0}function qn(e,n){switch(e){case 1:case 2:case 4:case 8:case 64:return n+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return n+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Ti(){var e=Zt;return Zt<<=1,(Zt&62914560)===0&&(Zt=4194304),e}function st(e){for(var n=[],o=0;31>o;o++)n.push(e);return n}function $t(e,n){e.pendingLanes|=n,n!==268435456&&(e.suspendedLanes=0,e.pingedLanes=0,e.warmLanes=0)}function Si(e,n,o,s,d,m){var S=e.pendingLanes;e.pendingLanes=o,e.suspendedLanes=0,e.pingedLanes=0,e.warmLanes=0,e.expiredLanes&=o,e.entangledLanes&=o,e.errorRecoveryDisabledLanes&=o,e.shellSuspendCounter=0;var _=e.entanglements,A=e.expirationTimes,U=e.hiddenUpdates;for(o=S&~o;0<o;){var B=31-wt(o),Y=1<<B;_[B]=0,A[B]=-1;var L=U[B];if(L!==null)for(U[B]=null,B=0;B<L.length;B++){var V=L[B];V!==null&&(V.lane&=-536870913)}o&=~Y}s!==0&&bl(e,s,0),m!==0&&d===0&&e.tag!==0&&(e.suspendedLanes|=m&~(S&~n))}function bl(e,n,o){e.pendingLanes|=n,e.suspendedLanes&=~n;var s=31-wt(n);e.entangledLanes|=n,e.entanglements[s]=e.entanglements[s]|1073741824|o&261930}function hr(e,n){var o=e.entangledLanes|=n;for(e=e.entanglements;o;){var s=31-wt(o),d=1<<s;d&n|e[s]&n&&(e[s]|=n),o&=~d}}function qa(e,n){var o=n&-n;return o=(o&42)!==0?1:Po(o),(o&(e.suspendedLanes|n))!==0?0:o}function Po(e){switch(e){case 2:e=1;break;case 8:e=4;break;case 32:e=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:e=128;break;case 268435456:e=134217728;break;default:e=0}return e}function ft(e){return e&=-e,2<e?8<e?(e&134217727)!==0?32:268435456:8:2}function Vt(){var e=K.p;return e!==0?e:(e=window.event,e===void 0?32:vp(e.type))}function Gn(e,n){var o=K.p;try{return K.p=e,n()}finally{K.p=o}}var Wt=Math.random().toString(36).slice(2),rt="__reactFiber$"+Wt,Tt="__reactProps$"+Wt,dt="__reactContainer$"+Wt,lo="__reactEvents$"+Wt,wl="__reactListeners$"+Wt,Ga="__reactHandles$"+Wt,Dl="__reactResources$"+Wt,Ei="__reactMarker$"+Wt;function Il(e){delete e[rt],delete e[Tt],delete e[lo],delete e[wl],delete e[Ga]}function Xn(e){var n=e[rt];if(n)return n;for(var o=e.parentNode;o;){if(n=o[dt]||o[rt]){if(o=n.alternate,n.child!==null||o!==null&&o.child!==null)for(e=np(e);e!==null;){if(o=e[rt])return o;e=np(e)}return n}e=o,o=e.parentNode}return null}function _i(e){if(e=e[rt]||e[dt]){var n=e.tag;if(n===5||n===6||n===13||n===31||n===26||n===27||n===3)return e}return null}function Kn(e){var n=e.tag;if(n===5||n===26||n===27||n===6)return e.stateNode;throw Error(a(33))}function Ci(e){var n=e[Dl];return n||(n=e[Dl]={hoistableStyles:new Map,hoistableScripts:new Map}),n}function et(e){e[Ei]=!0}var ao=new Set,Ul={};function Vn(e,n){Qn(e,n),Qn(e+"Capture",n)}function Qn(e,n){for(Ul[e]=n,e=0;e<n.length;e++)ao.add(n[e])}var Va=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),so={},ro={};function gr(e){return Al.call(ro,e)?!0:Al.call(so,e)?!1:Va.test(e)?ro[e]=!0:(so[e]=!0,!1)}function Ai(e,n,o){if(gr(n))if(o===null)e.removeAttribute(n);else{switch(typeof o){case"undefined":case"function":case"symbol":e.removeAttribute(n);return;case"boolean":var s=n.toLowerCase().slice(0,5);if(s!=="data-"&&s!=="aria-"){e.removeAttribute(n);return}}e.setAttribute(n,""+o)}}function Ri(e,n,o){if(o===null)e.removeAttribute(n);else{switch(typeof o){case"undefined":case"function":case"symbol":case"boolean":e.removeAttribute(n);return}e.setAttribute(n,""+o)}}function xn(e,n,o,s){if(s===null)e.removeAttribute(o);else{switch(typeof s){case"undefined":case"function":case"symbol":case"boolean":e.removeAttribute(o);return}e.setAttributeNS(n,o,""+s)}}function Ht(e){switch(typeof e){case"bigint":case"boolean":case"number":case"string":case"undefined":return e;case"object":return e;default:return""}}function Ha(e){var n=e.type;return(e=e.nodeName)&&e.toLowerCase()==="input"&&(n==="checkbox"||n==="radio")}function yr(e,n,o){var s=Object.getOwnPropertyDescriptor(e.constructor.prototype,n);if(!e.hasOwnProperty(n)&&typeof s<"u"&&typeof s.get=="function"&&typeof s.set=="function"){var d=s.get,m=s.set;return Object.defineProperty(e,n,{configurable:!0,get:function(){return d.call(this)},set:function(S){o=""+S,m.call(this,S)}}),Object.defineProperty(e,n,{enumerable:s.enumerable}),{getValue:function(){return o},setValue:function(S){o=""+S},stopTracking:function(){e._valueTracker=null,delete e[n]}}}}function Ll(e){if(!e._valueTracker){var n=Ha(e)?"checked":"value";e._valueTracker=yr(e,n,""+e[n])}}function za(e){if(!e)return!1;var n=e._valueTracker;if(!n)return!0;var o=n.getValue(),s="";return e&&(s=Ha(e)?e.checked?"true":"false":e.value),e=s,e!==o?(n.setValue(e),!0):!1}function qo(e){if(e=e||(typeof document<"u"?document:void 0),typeof e>"u")return null;try{return e.activeElement||e.body}catch{return e.body}}var vr=/[\n"\\]/g;function zt(e){return e.replace(vr,function(n){return"\\"+n.charCodeAt(0).toString(16)+" "})}function Pl(e,n,o,s,d,m,S,_){e.name="",S!=null&&typeof S!="function"&&typeof S!="symbol"&&typeof S!="boolean"?e.type=S:e.removeAttribute("type"),n!=null?S==="number"?(n===0&&e.value===""||e.value!=n)&&(e.value=""+Ht(n)):e.value!==""+Ht(n)&&(e.value=""+Ht(n)):S!=="submit"&&S!=="reset"||e.removeAttribute("value"),n!=null?ql(e,S,Ht(n)):o!=null?ql(e,S,Ht(o)):s!=null&&e.removeAttribute("value"),d==null&&m!=null&&(e.defaultChecked=!!m),d!=null&&(e.checked=d&&typeof d!="function"&&typeof d!="symbol"),_!=null&&typeof _!="function"&&typeof _!="symbol"&&typeof _!="boolean"?e.name=""+Ht(_):e.removeAttribute("name")}function uo(e,n,o,s,d,m,S,_){if(m!=null&&typeof m!="function"&&typeof m!="symbol"&&typeof m!="boolean"&&(e.type=m),n!=null||o!=null){if(!(m!=="submit"&&m!=="reset"||n!=null)){Ll(e);return}o=o!=null?""+Ht(o):"",n=n!=null?""+Ht(n):o,_||n===e.value||(e.value=n),e.defaultValue=n}s=s??d,s=typeof s!="function"&&typeof s!="symbol"&&!!s,e.checked=_?e.checked:!!s,e.defaultChecked=!!s,S!=null&&typeof S!="function"&&typeof S!="symbol"&&typeof S!="boolean"&&(e.name=S),Ll(e)}function ql(e,n,o){n==="number"&&qo(e.ownerDocument)===e||e.defaultValue===""+o||(e.defaultValue=""+o)}function xi(e,n,o,s){if(e=e.options,n){n={};for(var d=0;d<o.length;d++)n["$"+o[d]]=!0;for(o=0;o<e.length;o++)d=n.hasOwnProperty("$"+e[o].value),e[o].selected!==d&&(e[o].selected=d),d&&s&&(e[o].defaultSelected=!0)}else{for(o=""+Ht(o),n=null,d=0;d<e.length;d++){if(e[d].value===o){e[d].selected=!0,s&&(e[d].defaultSelected=!0);return}n!==null||e[d].disabled||(n=e[d])}n!==null&&(n.selected=!0)}}function Ba(e,n,o){if(n!=null&&(n=""+Ht(n),n!==e.value&&(e.value=n),o==null)){e.defaultValue!==n&&(e.defaultValue=n);return}e.defaultValue=o!=null?""+Ht(o):""}function ka(e,n,o,s){if(n==null){if(s!=null){if(o!=null)throw Error(a(92));if(Ge(s)){if(1<s.length)throw Error(a(93));s=s[0]}o=s}o==null&&(o=""),n=o}o=Ht(n),e.defaultValue=o,s=e.textContent,s===o&&s!==""&&s!==null&&(e.value=s),Ll(e)}function Mi(e,n){if(n){var o=e.firstChild;if(o&&o===e.lastChild&&o.nodeType===3){o.nodeValue=n;return}}e.textContent=n}var Tr=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function Fa(e,n,o){var s=n.indexOf("--")===0;o==null||typeof o=="boolean"||o===""?s?e.setProperty(n,""):n==="float"?e.cssFloat="":e[n]="":s?e.setProperty(n,o):typeof o!="number"||o===0||Tr.has(n)?n==="float"?e.cssFloat=o:e[n]=(""+o).trim():e[n]=o+"px"}function Ni(e,n,o){if(n!=null&&typeof n!="object")throw Error(a(62));if(e=e.style,o!=null){for(var s in o)!o.hasOwnProperty(s)||n!=null&&n.hasOwnProperty(s)||(s.indexOf("--")===0?e.setProperty(s,""):s==="float"?e.cssFloat="":e[s]="");for(var d in n)s=n[d],n.hasOwnProperty(d)&&o[d]!==s&&Fa(e,d,s)}else for(var m in n)n.hasOwnProperty(m)&&Fa(e,m,n[m])}function Gl(e){if(e.indexOf("-")===-1)return!1;switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var $c=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),q=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function H(e){return q.test(""+e)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":e}function k(){}var Q=null;function se(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),e.nodeType===3?e.parentNode:e}var le=null,$=null;function Xe(e){var n=_i(e);if(n&&(e=n.stateNode)){var o=e[Tt]||null;e:switch(e=n.stateNode,n.type){case"input":if(Pl(e,o.value,o.defaultValue,o.defaultValue,o.checked,o.defaultChecked,o.type,o.name),n=o.name,o.type==="radio"&&n!=null){for(o=e;o.parentNode;)o=o.parentNode;for(o=o.querySelectorAll('input[name="'+zt(""+n)+'"][type="radio"]'),n=0;n<o.length;n++){var s=o[n];if(s!==e&&s.form===e.form){var d=s[Tt]||null;if(!d)throw Error(a(90));Pl(s,d.value,d.defaultValue,d.defaultValue,d.checked,d.defaultChecked,d.type,d.name)}}for(n=0;n<o.length;n++)s=o[n],s.form===e.form&&za(s)}break e;case"textarea":Ba(e,o.value,o.defaultValue);break e;case"select":n=o.value,n!=null&&xi(e,!!o.multiple,n,!1)}}}var he=!1;function ce(e,n,o){if(he)return e(n,o);he=!0;try{var s=e(n);return s}finally{if(he=!1,(le!==null||$!==null)&&(Ms(),le&&(n=le,e=$,$=le=null,Xe(n),e)))for(n=0;n<e.length;n++)Xe(e[n])}}function Se(e,n){var o=e.stateNode;if(o===null)return null;var s=o[Tt]||null;if(s===null)return null;o=s[n];e:switch(n){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(s=!s.disabled)||(e=e.type,s=!(e==="button"||e==="input"||e==="select"||e==="textarea")),e=!s;break e;default:e=!1}if(e)return null;if(o&&typeof o!="function")throw Error(a(231,n,typeof o));return o}var Ce=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Ee=!1;if(Ce)try{var be={};Object.defineProperty(be,"passive",{get:function(){Ee=!0}}),window.addEventListener("test",be,be),window.removeEventListener("test",be,be)}catch{Ee=!1}var ot=null,bi=null,Zn=null;function wi(){if(Zn)return Zn;var e,n=bi,o=n.length,s,d="value"in ot?ot.value:ot.textContent,m=d.length;for(e=0;e<o&&n[e]===d[e];e++);var S=o-e;for(s=1;s<=S&&n[o-s]===d[m-s];s++);return Zn=d.slice(e,1<s?1-s:void 0)}function Di(e){var n=e.keyCode;return"charCode"in e?(e=e.charCode,e===0&&n===13&&(e=13)):e=n,e===10&&(e=13),32<=e||e===13?e:0}function Ii(){return!0}function Vl(){return!1}function Et(e){function n(o,s,d,m,S){this._reactName=o,this._targetInst=d,this.type=s,this.nativeEvent=m,this.target=S,this.currentTarget=null;for(var _ in e)e.hasOwnProperty(_)&&(o=e[_],this[_]=o?o(m):m[_]);return this.isDefaultPrevented=(m.defaultPrevented!=null?m.defaultPrevented:m.returnValue===!1)?Ii:Vl,this.isPropagationStopped=Vl,this}return E(n.prototype,{preventDefault:function(){this.defaultPrevented=!0;var o=this.nativeEvent;o&&(o.preventDefault?o.preventDefault():typeof o.returnValue!="unknown"&&(o.returnValue=!1),this.isDefaultPrevented=Ii)},stopPropagation:function(){var o=this.nativeEvent;o&&(o.stopPropagation?o.stopPropagation():typeof o.cancelBubble!="unknown"&&(o.cancelBubble=!0),this.isPropagationStopped=Ii)},persist:function(){},isPersistent:Ii}),n}var $n={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Go=Et($n),co=E({},$n,{view:0,detail:0}),Sr=Et(co),Hl,zl,fo,Vo=E({},co,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:mo,button:0,buttons:0,relatedTarget:function(e){return e.relatedTarget===void 0?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==fo&&(fo&&e.type==="mousemove"?(Hl=e.screenX-fo.screenX,zl=e.screenY-fo.screenY):zl=Hl=0,fo=e),Hl)},movementY:function(e){return"movementY"in e?e.movementY:zl}}),Hn=Et(Vo),Ui=E({},Vo,{dataTransfer:0}),Mn=Et(Ui),Er=E({},co,{relatedTarget:0}),Bl=Et(Er),Wn=E({},$n,{animationName:0,elapsedTime:0,pseudoElement:0}),Ho=Et(Wn),kl=E({},$n,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),jt=Et(kl),_r=E({},$n,{data:0}),Oa=Et(_r),Cr={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Bt={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Ar={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Wc(e){var n=this.nativeEvent;return n.getModifierState?n.getModifierState(e):(e=Ar[e])?!!n[e]:!1}function mo(){return Wc}var Nn=E({},co,{key:function(e){if(e.key){var n=Cr[e.key]||e.key;if(n!=="Unidentified")return n}return e.type==="keypress"?(e=Di(e),e===13?"Enter":String.fromCharCode(e)):e.type==="keydown"||e.type==="keyup"?Bt[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:mo,charCode:function(e){return e.type==="keypress"?Di(e):0},keyCode:function(e){return e.type==="keydown"||e.type==="keyup"?e.keyCode:0},which:function(e){return e.type==="keypress"?Di(e):e.type==="keydown"||e.type==="keyup"?e.keyCode:0}}),zo=Et(Nn),Ya=E({},Vo,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),_t=Et(Ya),we=E({},co,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:mo}),je=Et(we),po=E({},$n,{propertyName:0,elapsedTime:0,pseudoElement:0}),He=Et(po),mn=E({},Vo,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),pn=Et(mn),Fl=E({},$n,{newState:0,oldState:0}),Rr=Et(Fl),en=[9,13,27,32],bn=Ce&&"CompositionEvent"in window,zn=null;Ce&&"documentMode"in document&&(zn=document.documentMode);var Og=Ce&&"TextEvent"in window&&!zn,jc=Ce&&(!bn||zn&&8<zn&&11>=zn),ef=" ",tf=!1;function nf(e,n){switch(e){case"keyup":return en.indexOf(n.keyCode)!==-1;case"keydown":return n.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function of(e){return e=e.detail,typeof e=="object"&&"data"in e?e.data:null}var Bo=!1;function Yg(e,n){switch(e){case"compositionend":return of(n);case"keypress":return n.which!==32?null:(tf=!0,ef);case"textInput":return e=n.data,e===ef&&tf?null:e;default:return null}}function Jg(e,n){if(Bo)return e==="compositionend"||!bn&&nf(e,n)?(e=wi(),Zn=bi=ot=null,Bo=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(n.ctrlKey||n.altKey||n.metaKey)||n.ctrlKey&&n.altKey){if(n.char&&1<n.char.length)return n.char;if(n.which)return String.fromCharCode(n.which)}return null;case"compositionend":return jc&&n.locale!=="ko"?null:n.data;default:return null}}var Xg={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function lf(e){var n=e&&e.nodeName&&e.nodeName.toLowerCase();return n==="input"?!!Xg[e.type]:n==="textarea"}function af(e,n,o,s){le?$?$.push(s):$=[s]:le=s,n=Ls(n,"onChange"),0<n.length&&(o=new Go("onChange","change",null,o,s),e.push({event:o,listeners:n}))}var Ol=null,Yl=null;function Kg(e){km(e,0)}function Ja(e){var n=Kn(e);if(za(n))return e}function sf(e,n){if(e==="change")return n}var rf=!1;if(Ce){var xr;if(Ce){var Mr="oninput"in document;if(!Mr){var uf=document.createElement("div");uf.setAttribute("oninput","return;"),Mr=typeof uf.oninput=="function"}xr=Mr}else xr=!1;rf=xr&&(!document.documentMode||9<document.documentMode)}function cf(){Ol&&(Ol.detachEvent("onpropertychange",ff),Yl=Ol=null)}function ff(e){if(e.propertyName==="value"&&Ja(Yl)){var n=[];af(n,Yl,e,se(e)),ce(Kg,n)}}function Qg(e,n,o){e==="focusin"?(cf(),Ol=n,Yl=o,Ol.attachEvent("onpropertychange",ff)):e==="focusout"&&cf()}function Zg(e){if(e==="selectionchange"||e==="keyup"||e==="keydown")return Ja(Yl)}function $g(e,n){if(e==="click")return Ja(n)}function Wg(e,n){if(e==="input"||e==="change")return Ja(n)}function jg(e,n){return e===n&&(e!==0||1/e===1/n)||e!==e&&n!==n}var tn=typeof Object.is=="function"?Object.is:jg;function Jl(e,n){if(tn(e,n))return!0;if(typeof e!="object"||e===null||typeof n!="object"||n===null)return!1;var o=Object.keys(e),s=Object.keys(n);if(o.length!==s.length)return!1;for(s=0;s<o.length;s++){var d=o[s];if(!Al.call(n,d)||!tn(e[d],n[d]))return!1}return!0}function df(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function mf(e,n){var o=df(e);e=0;for(var s;o;){if(o.nodeType===3){if(s=e+o.textContent.length,e<=n&&s>=n)return{node:o,offset:n-e};e=s}e:{for(;o;){if(o.nextSibling){o=o.nextSibling;break e}o=o.parentNode}o=void 0}o=df(o)}}function pf(e,n){return e&&n?e===n?!0:e&&e.nodeType===3?!1:n&&n.nodeType===3?pf(e,n.parentNode):"contains"in e?e.contains(n):e.compareDocumentPosition?!!(e.compareDocumentPosition(n)&16):!1:!1}function hf(e){e=e!=null&&e.ownerDocument!=null&&e.ownerDocument.defaultView!=null?e.ownerDocument.defaultView:window;for(var n=qo(e.document);n instanceof e.HTMLIFrameElement;){try{var o=typeof n.contentWindow.location.href=="string"}catch{o=!1}if(o)e=n.contentWindow;else break;n=qo(e.document)}return n}function Nr(e){var n=e&&e.nodeName&&e.nodeName.toLowerCase();return n&&(n==="input"&&(e.type==="text"||e.type==="search"||e.type==="tel"||e.type==="url"||e.type==="password")||n==="textarea"||e.contentEditable==="true")}var ey=Ce&&"documentMode"in document&&11>=document.documentMode,ko=null,br=null,Xl=null,wr=!1;function gf(e,n,o){var s=o.window===o?o.document:o.nodeType===9?o:o.ownerDocument;wr||ko==null||ko!==qo(s)||(s=ko,"selectionStart"in s&&Nr(s)?s={start:s.selectionStart,end:s.selectionEnd}:(s=(s.ownerDocument&&s.ownerDocument.defaultView||window).getSelection(),s={anchorNode:s.anchorNode,anchorOffset:s.anchorOffset,focusNode:s.focusNode,focusOffset:s.focusOffset}),Xl&&Jl(Xl,s)||(Xl=s,s=Ls(br,"onSelect"),0<s.length&&(n=new Go("onSelect","select",null,n,o),e.push({event:n,listeners:s}),n.target=ko)))}function ho(e,n){var o={};return o[e.toLowerCase()]=n.toLowerCase(),o["Webkit"+e]="webkit"+n,o["Moz"+e]="moz"+n,o}var Fo={animationend:ho("Animation","AnimationEnd"),animationiteration:ho("Animation","AnimationIteration"),animationstart:ho("Animation","AnimationStart"),transitionrun:ho("Transition","TransitionRun"),transitionstart:ho("Transition","TransitionStart"),transitioncancel:ho("Transition","TransitionCancel"),transitionend:ho("Transition","TransitionEnd")},Dr={},yf={};Ce&&(yf=document.createElement("div").style,"AnimationEvent"in window||(delete Fo.animationend.animation,delete Fo.animationiteration.animation,delete Fo.animationstart.animation),"TransitionEvent"in window||delete Fo.transitionend.transition);function go(e){if(Dr[e])return Dr[e];if(!Fo[e])return e;var n=Fo[e],o;for(o in n)if(n.hasOwnProperty(o)&&o in yf)return Dr[e]=n[o];return e}var vf=go("animationend"),Tf=go("animationiteration"),Sf=go("animationstart"),ty=go("transitionrun"),ny=go("transitionstart"),iy=go("transitioncancel"),Ef=go("transitionend"),_f=new Map,Ir="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");Ir.push("scrollEnd");function wn(e,n){_f.set(e,n),Vn(n,[e])}var Xa=typeof reportError=="function"?reportError:function(e){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var n=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof e=="object"&&e!==null&&typeof e.message=="string"?String(e.message):String(e),error:e});if(!window.dispatchEvent(n))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",e);return}console.error(e)},hn=[],Oo=0,Ur=0;function Ka(){for(var e=Oo,n=Ur=Oo=0;n<e;){var o=hn[n];hn[n++]=null;var s=hn[n];hn[n++]=null;var d=hn[n];hn[n++]=null;var m=hn[n];if(hn[n++]=null,s!==null&&d!==null){var S=s.pending;S===null?d.next=d:(d.next=S.next,S.next=d),s.pending=d}m!==0&&Cf(o,d,m)}}function Qa(e,n,o,s){hn[Oo++]=e,hn[Oo++]=n,hn[Oo++]=o,hn[Oo++]=s,Ur|=s,e.lanes|=s,e=e.alternate,e!==null&&(e.lanes|=s)}function Lr(e,n,o,s){return Qa(e,n,o,s),Za(e)}function yo(e,n){return Qa(e,null,null,n),Za(e)}function Cf(e,n,o){e.lanes|=o;var s=e.alternate;s!==null&&(s.lanes|=o);for(var d=!1,m=e.return;m!==null;)m.childLanes|=o,s=m.alternate,s!==null&&(s.childLanes|=o),m.tag===22&&(e=m.stateNode,e===null||e._visibility&1||(d=!0)),e=m,m=m.return;return e.tag===3?(m=e.stateNode,d&&n!==null&&(d=31-wt(o),e=m.hiddenUpdates,s=e[d],s===null?e[d]=[n]:s.push(n),n.lane=o|536870912),m):null}function Za(e){if(50<ha)throw ha=0,Fu=null,Error(a(185));for(var n=e.return;n!==null;)e=n,n=e.return;return e.tag===3?e.stateNode:null}var Yo={};function oy(e,n,o,s){this.tag=e,this.key=o,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=n,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=s,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function nn(e,n,o,s){return new oy(e,n,o,s)}function Pr(e){return e=e.prototype,!(!e||!e.isReactComponent)}function jn(e,n){var o=e.alternate;return o===null?(o=nn(e.tag,n,e.key,e.mode),o.elementType=e.elementType,o.type=e.type,o.stateNode=e.stateNode,o.alternate=e,e.alternate=o):(o.pendingProps=n,o.type=e.type,o.flags=0,o.subtreeFlags=0,o.deletions=null),o.flags=e.flags&65011712,o.childLanes=e.childLanes,o.lanes=e.lanes,o.child=e.child,o.memoizedProps=e.memoizedProps,o.memoizedState=e.memoizedState,o.updateQueue=e.updateQueue,n=e.dependencies,o.dependencies=n===null?null:{lanes:n.lanes,firstContext:n.firstContext},o.sibling=e.sibling,o.index=e.index,o.ref=e.ref,o.refCleanup=e.refCleanup,o}function Af(e,n){e.flags&=65011714;var o=e.alternate;return o===null?(e.childLanes=0,e.lanes=n,e.child=null,e.subtreeFlags=0,e.memoizedProps=null,e.memoizedState=null,e.updateQueue=null,e.dependencies=null,e.stateNode=null):(e.childLanes=o.childLanes,e.lanes=o.lanes,e.child=o.child,e.subtreeFlags=0,e.deletions=null,e.memoizedProps=o.memoizedProps,e.memoizedState=o.memoizedState,e.updateQueue=o.updateQueue,e.type=o.type,n=o.dependencies,e.dependencies=n===null?null:{lanes:n.lanes,firstContext:n.firstContext}),e}function $a(e,n,o,s,d,m){var S=0;if(s=e,typeof e=="function")Pr(e)&&(S=1);else if(typeof e=="string")S=u0(e,o,ae.current)?26:e==="html"||e==="head"||e==="body"?27:5;else e:switch(e){case W:return e=nn(31,o,n,d),e.elementType=W,e.lanes=m,e;case w:return vo(o.children,d,m,n);case z:S=8,d|=24;break;case G:return e=nn(12,o,n,d|2),e.elementType=G,e.lanes=m,e;case te:return e=nn(13,o,n,d),e.elementType=te,e.lanes=m,e;case ie:return e=nn(19,o,n,d),e.elementType=ie,e.lanes=m,e;default:if(typeof e=="object"&&e!==null)switch(e.$$typeof){case J:S=10;break e;case Z:S=9;break e;case ee:S=11;break e;case X:S=14;break e;case fe:S=16,s=null;break e}S=29,o=Error(a(130,e===null?"null":typeof e,"")),s=null}return n=nn(S,o,n,d),n.elementType=e,n.type=s,n.lanes=m,n}function vo(e,n,o,s){return e=nn(7,e,s,n),e.lanes=o,e}function qr(e,n,o){return e=nn(6,e,null,n),e.lanes=o,e}function Rf(e){var n=nn(18,null,null,0);return n.stateNode=e,n}function Gr(e,n,o){return n=nn(4,e.children!==null?e.children:[],e.key,n),n.lanes=o,n.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},n}var xf=new WeakMap;function gn(e,n){if(typeof e=="object"&&e!==null){var o=xf.get(e);return o!==void 0?o:(n={value:e,source:n,stack:Io(n)},xf.set(e,n),n)}return{value:e,source:n,stack:Io(n)}}var Jo=[],Xo=0,Wa=null,Kl=0,yn=[],vn=0,Li=null,Bn=1,kn="";function ei(e,n){Jo[Xo++]=Kl,Jo[Xo++]=Wa,Wa=e,Kl=n}function Mf(e,n,o){yn[vn++]=Bn,yn[vn++]=kn,yn[vn++]=Li,Li=e;var s=Bn;e=kn;var d=32-wt(s)-1;s&=~(1<<d),o+=1;var m=32-wt(n)+d;if(30<m){var S=d-d%5;m=(s&(1<<S)-1).toString(32),s>>=S,d-=S,Bn=1<<32-wt(n)+d|o<<d|s,kn=m+e}else Bn=1<<m|o<<d|s,kn=e}function Vr(e){e.return!==null&&(ei(e,1),Mf(e,1,0))}function Hr(e){for(;e===Wa;)Wa=Jo[--Xo],Jo[Xo]=null,Kl=Jo[--Xo],Jo[Xo]=null;for(;e===Li;)Li=yn[--vn],yn[vn]=null,kn=yn[--vn],yn[vn]=null,Bn=yn[--vn],yn[vn]=null}function Nf(e,n){yn[vn++]=Bn,yn[vn++]=kn,yn[vn++]=Li,Bn=n.id,kn=n.overflow,Li=e}var At=null,tt=null,Ve=!1,Pi=null,Tn=!1,zr=Error(a(519));function qi(e){var n=Error(a(418,1<arguments.length&&arguments[1]!==void 0&&arguments[1]?"text":"HTML",""));throw Ql(gn(n,e)),zr}function bf(e){var n=e.stateNode,o=e.type,s=e.memoizedProps;switch(n[rt]=e,n[Tt]=s,o){case"dialog":Ue("cancel",n),Ue("close",n);break;case"iframe":case"object":case"embed":Ue("load",n);break;case"video":case"audio":for(o=0;o<ya.length;o++)Ue(ya[o],n);break;case"source":Ue("error",n);break;case"img":case"image":case"link":Ue("error",n),Ue("load",n);break;case"details":Ue("toggle",n);break;case"input":Ue("invalid",n),uo(n,s.value,s.defaultValue,s.checked,s.defaultChecked,s.type,s.name,!0);break;case"select":Ue("invalid",n);break;case"textarea":Ue("invalid",n),ka(n,s.value,s.defaultValue,s.children)}o=s.children,typeof o!="string"&&typeof o!="number"&&typeof o!="bigint"||n.textContent===""+o||s.suppressHydrationWarning===!0||Jm(n.textContent,o)?(s.popover!=null&&(Ue("beforetoggle",n),Ue("toggle",n)),s.onScroll!=null&&Ue("scroll",n),s.onScrollEnd!=null&&Ue("scrollend",n),s.onClick!=null&&(n.onclick=k),n=!0):n=!1,n||qi(e,!0)}function wf(e){for(At=e.return;At;)switch(At.tag){case 5:case 31:case 13:Tn=!1;return;case 27:case 3:Tn=!0;return;default:At=At.return}}function Ko(e){if(e!==At)return!1;if(!Ve)return wf(e),Ve=!0,!1;var n=e.tag,o;if((o=n!==3&&n!==27)&&((o=n===5)&&(o=e.type,o=!(o!=="form"&&o!=="button")||oc(e.type,e.memoizedProps)),o=!o),o&&tt&&qi(e),wf(e),n===13){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(a(317));tt=tp(e)}else if(n===31){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(a(317));tt=tp(e)}else n===27?(n=tt,Zi(e.type)?(e=uc,uc=null,tt=e):tt=n):tt=At?En(e.stateNode.nextSibling):null;return!0}function To(){tt=At=null,Ve=!1}function Br(){var e=Pi;return e!==null&&(Yt===null?Yt=e:Yt.push.apply(Yt,e),Pi=null),e}function Ql(e){Pi===null?Pi=[e]:Pi.push(e)}var kr=x(null),So=null,ti=null;function Gi(e,n,o){ne(kr,n._currentValue),n._currentValue=o}function ni(e){e._currentValue=kr.current,O(kr)}function Fr(e,n,o){for(;e!==null;){var s=e.alternate;if((e.childLanes&n)!==n?(e.childLanes|=n,s!==null&&(s.childLanes|=n)):s!==null&&(s.childLanes&n)!==n&&(s.childLanes|=n),e===o)break;e=e.return}}function Or(e,n,o,s){var d=e.child;for(d!==null&&(d.return=e);d!==null;){var m=d.dependencies;if(m!==null){var S=d.child;m=m.firstContext;e:for(;m!==null;){var _=m;m=d;for(var A=0;A<n.length;A++)if(_.context===n[A]){m.lanes|=o,_=m.alternate,_!==null&&(_.lanes|=o),Fr(m.return,o,e),s||(S=null);break e}m=_.next}}else if(d.tag===18){if(S=d.return,S===null)throw Error(a(341));S.lanes|=o,m=S.alternate,m!==null&&(m.lanes|=o),Fr(S,o,e),S=null}else S=d.child;if(S!==null)S.return=d;else for(S=d;S!==null;){if(S===e){S=null;break}if(d=S.sibling,d!==null){d.return=S.return,S=d;break}S=S.return}d=S}}function Qo(e,n,o,s){e=null;for(var d=n,m=!1;d!==null;){if(!m){if((d.flags&524288)!==0)m=!0;else if((d.flags&262144)!==0)break}if(d.tag===10){var S=d.alternate;if(S===null)throw Error(a(387));if(S=S.memoizedProps,S!==null){var _=d.type;tn(d.pendingProps.value,S.value)||(e!==null?e.push(_):e=[_])}}else if(d===De.current){if(S=d.alternate,S===null)throw Error(a(387));S.memoizedState.memoizedState!==d.memoizedState.memoizedState&&(e!==null?e.push(_a):e=[_a])}d=d.return}e!==null&&Or(n,e,o,s),n.flags|=262144}function ja(e){for(e=e.firstContext;e!==null;){if(!tn(e.context._currentValue,e.memoizedValue))return!0;e=e.next}return!1}function Eo(e){So=e,ti=null,e=e.dependencies,e!==null&&(e.firstContext=null)}function Rt(e){return Df(So,e)}function es(e,n){return So===null&&Eo(e),Df(e,n)}function Df(e,n){var o=n._currentValue;if(n={context:n,memoizedValue:o,next:null},ti===null){if(e===null)throw Error(a(308));ti=n,e.dependencies={lanes:0,firstContext:n},e.flags|=524288}else ti=ti.next=n;return o}var ly=typeof AbortController<"u"?AbortController:function(){var e=[],n=this.signal={aborted:!1,addEventListener:function(o,s){e.push(s)}};this.abort=function(){n.aborted=!0,e.forEach(function(o){return o()})}},ay=i.unstable_scheduleCallback,sy=i.unstable_NormalPriority,ht={$$typeof:J,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function Yr(){return{controller:new ly,data:new Map,refCount:0}}function Zl(e){e.refCount--,e.refCount===0&&ay(sy,function(){e.controller.abort()})}var $l=null,Jr=0,Zo=0,$o=null;function ry(e,n){if($l===null){var o=$l=[];Jr=0,Zo=Qu(),$o={status:"pending",value:void 0,then:function(s){o.push(s)}}}return Jr++,n.then(If,If),n}function If(){if(--Jr===0&&$l!==null){$o!==null&&($o.status="fulfilled");var e=$l;$l=null,Zo=0,$o=null;for(var n=0;n<e.length;n++)(0,e[n])()}}function uy(e,n){var o=[],s={status:"pending",value:null,reason:null,then:function(d){o.push(d)}};return e.then(function(){s.status="fulfilled",s.value=n;for(var d=0;d<o.length;d++)(0,o[d])(n)},function(d){for(s.status="rejected",s.reason=d,d=0;d<o.length;d++)(0,o[d])(void 0)}),s}var Uf=P.S;P.S=function(e,n){gm=qt(),typeof n=="object"&&n!==null&&typeof n.then=="function"&&ry(e,n),Uf!==null&&Uf(e,n)};var _o=x(null);function Xr(){var e=_o.current;return e!==null?e:$e.pooledCache}function ts(e,n){n===null?ne(_o,_o.current):ne(_o,n.pool)}function Lf(){var e=Xr();return e===null?null:{parent:ht._currentValue,pool:e}}var Wo=Error(a(460)),Kr=Error(a(474)),ns=Error(a(542)),is={then:function(){}};function Pf(e){return e=e.status,e==="fulfilled"||e==="rejected"}function qf(e,n,o){switch(o=e[o],o===void 0?e.push(n):o!==n&&(n.then(k,k),n=o),n.status){case"fulfilled":return n.value;case"rejected":throw e=n.reason,Vf(e),e;default:if(typeof n.status=="string")n.then(k,k);else{if(e=$e,e!==null&&100<e.shellSuspendCounter)throw Error(a(482));e=n,e.status="pending",e.then(function(s){if(n.status==="pending"){var d=n;d.status="fulfilled",d.value=s}},function(s){if(n.status==="pending"){var d=n;d.status="rejected",d.reason=s}})}switch(n.status){case"fulfilled":return n.value;case"rejected":throw e=n.reason,Vf(e),e}throw Ao=n,Wo}}function Co(e){try{var n=e._init;return n(e._payload)}catch(o){throw o!==null&&typeof o=="object"&&typeof o.then=="function"?(Ao=o,Wo):o}}var Ao=null;function Gf(){if(Ao===null)throw Error(a(459));var e=Ao;return Ao=null,e}function Vf(e){if(e===Wo||e===ns)throw Error(a(483))}var jo=null,Wl=0;function os(e){var n=Wl;return Wl+=1,jo===null&&(jo=[]),qf(jo,e,n)}function jl(e,n){n=n.props.ref,e.ref=n!==void 0?n:null}function ls(e,n){throw n.$$typeof===T?Error(a(525)):(e=Object.prototype.toString.call(n),Error(a(31,e==="[object Object]"?"object with keys {"+Object.keys(n).join(", ")+"}":e)))}function Hf(e){function n(b,M){if(e){var I=b.deletions;I===null?(b.deletions=[M],b.flags|=16):I.push(M)}}function o(b,M){if(!e)return null;for(;M!==null;)n(b,M),M=M.sibling;return null}function s(b){for(var M=new Map;b!==null;)b.key!==null?M.set(b.key,b):M.set(b.index,b),b=b.sibling;return M}function d(b,M){return b=jn(b,M),b.index=0,b.sibling=null,b}function m(b,M,I){return b.index=I,e?(I=b.alternate,I!==null?(I=I.index,I<M?(b.flags|=67108866,M):I):(b.flags|=67108866,M)):(b.flags|=1048576,M)}function S(b){return e&&b.alternate===null&&(b.flags|=67108866),b}function _(b,M,I,F){return M===null||M.tag!==6?(M=qr(I,b.mode,F),M.return=b,M):(M=d(M,I),M.return=b,M)}function A(b,M,I,F){var pe=I.type;return pe===w?B(b,M,I.props.children,F,I.key):M!==null&&(M.elementType===pe||typeof pe=="object"&&pe!==null&&pe.$$typeof===fe&&Co(pe)===M.type)?(M=d(M,I.props),jl(M,I),M.return=b,M):(M=$a(I.type,I.key,I.props,null,b.mode,F),jl(M,I),M.return=b,M)}function U(b,M,I,F){return M===null||M.tag!==4||M.stateNode.containerInfo!==I.containerInfo||M.stateNode.implementation!==I.implementation?(M=Gr(I,b.mode,F),M.return=b,M):(M=d(M,I.children||[]),M.return=b,M)}function B(b,M,I,F,pe){return M===null||M.tag!==7?(M=vo(I,b.mode,F,pe),M.return=b,M):(M=d(M,I),M.return=b,M)}function Y(b,M,I){if(typeof M=="string"&&M!==""||typeof M=="number"||typeof M=="bigint")return M=qr(""+M,b.mode,I),M.return=b,M;if(typeof M=="object"&&M!==null){switch(M.$$typeof){case R:return I=$a(M.type,M.key,M.props,null,b.mode,I),jl(I,M),I.return=b,I;case N:return M=Gr(M,b.mode,I),M.return=b,M;case fe:return M=Co(M),Y(b,M,I)}if(Ge(M)||Re(M))return M=vo(M,b.mode,I,null),M.return=b,M;if(typeof M.then=="function")return Y(b,os(M),I);if(M.$$typeof===J)return Y(b,es(b,M),I);ls(b,M)}return null}function L(b,M,I,F){var pe=M!==null?M.key:null;if(typeof I=="string"&&I!==""||typeof I=="number"||typeof I=="bigint")return pe!==null?null:_(b,M,""+I,F);if(typeof I=="object"&&I!==null){switch(I.$$typeof){case R:return I.key===pe?A(b,M,I,F):null;case N:return I.key===pe?U(b,M,I,F):null;case fe:return I=Co(I),L(b,M,I,F)}if(Ge(I)||Re(I))return pe!==null?null:B(b,M,I,F,null);if(typeof I.then=="function")return L(b,M,os(I),F);if(I.$$typeof===J)return L(b,M,es(b,I),F);ls(b,I)}return null}function V(b,M,I,F,pe){if(typeof F=="string"&&F!==""||typeof F=="number"||typeof F=="bigint")return b=b.get(I)||null,_(M,b,""+F,pe);if(typeof F=="object"&&F!==null){switch(F.$$typeof){case R:return b=b.get(F.key===null?I:F.key)||null,A(M,b,F,pe);case N:return b=b.get(F.key===null?I:F.key)||null,U(M,b,F,pe);case fe:return F=Co(F),V(b,M,I,F,pe)}if(Ge(F)||Re(F))return b=b.get(I)||null,B(M,b,F,pe,null);if(typeof F.then=="function")return V(b,M,I,os(F),pe);if(F.$$typeof===J)return V(b,M,I,es(M,F),pe);ls(M,F)}return null}function ue(b,M,I,F){for(var pe=null,Be=null,de=M,Ne=M=0,Pe=null;de!==null&&Ne<I.length;Ne++){de.index>Ne?(Pe=de,de=null):Pe=de.sibling;var ke=L(b,de,I[Ne],F);if(ke===null){de===null&&(de=Pe);break}e&&de&&ke.alternate===null&&n(b,de),M=m(ke,M,Ne),Be===null?pe=ke:Be.sibling=ke,Be=ke,de=Pe}if(Ne===I.length)return o(b,de),Ve&&ei(b,Ne),pe;if(de===null){for(;Ne<I.length;Ne++)de=Y(b,I[Ne],F),de!==null&&(M=m(de,M,Ne),Be===null?pe=de:Be.sibling=de,Be=de);return Ve&&ei(b,Ne),pe}for(de=s(de);Ne<I.length;Ne++)Pe=V(de,b,Ne,I[Ne],F),Pe!==null&&(e&&Pe.alternate!==null&&de.delete(Pe.key===null?Ne:Pe.key),M=m(Pe,M,Ne),Be===null?pe=Pe:Be.sibling=Pe,Be=Pe);return e&&de.forEach(function(to){return n(b,to)}),Ve&&ei(b,Ne),pe}function ve(b,M,I,F){if(I==null)throw Error(a(151));for(var pe=null,Be=null,de=M,Ne=M=0,Pe=null,ke=I.next();de!==null&&!ke.done;Ne++,ke=I.next()){de.index>Ne?(Pe=de,de=null):Pe=de.sibling;var to=L(b,de,ke.value,F);if(to===null){de===null&&(de=Pe);break}e&&de&&to.alternate===null&&n(b,de),M=m(to,M,Ne),Be===null?pe=to:Be.sibling=to,Be=to,de=Pe}if(ke.done)return o(b,de),Ve&&ei(b,Ne),pe;if(de===null){for(;!ke.done;Ne++,ke=I.next())ke=Y(b,ke.value,F),ke!==null&&(M=m(ke,M,Ne),Be===null?pe=ke:Be.sibling=ke,Be=ke);return Ve&&ei(b,Ne),pe}for(de=s(de);!ke.done;Ne++,ke=I.next())ke=V(de,b,Ne,ke.value,F),ke!==null&&(e&&ke.alternate!==null&&de.delete(ke.key===null?Ne:ke.key),M=m(ke,M,Ne),Be===null?pe=ke:Be.sibling=ke,Be=ke);return e&&de.forEach(function(S0){return n(b,S0)}),Ve&&ei(b,Ne),pe}function Ze(b,M,I,F){if(typeof I=="object"&&I!==null&&I.type===w&&I.key===null&&(I=I.props.children),typeof I=="object"&&I!==null){switch(I.$$typeof){case R:e:{for(var pe=I.key;M!==null;){if(M.key===pe){if(pe=I.type,pe===w){if(M.tag===7){o(b,M.sibling),F=d(M,I.props.children),F.return=b,b=F;break e}}else if(M.elementType===pe||typeof pe=="object"&&pe!==null&&pe.$$typeof===fe&&Co(pe)===M.type){o(b,M.sibling),F=d(M,I.props),jl(F,I),F.return=b,b=F;break e}o(b,M);break}else n(b,M);M=M.sibling}I.type===w?(F=vo(I.props.children,b.mode,F,I.key),F.return=b,b=F):(F=$a(I.type,I.key,I.props,null,b.mode,F),jl(F,I),F.return=b,b=F)}return S(b);case N:e:{for(pe=I.key;M!==null;){if(M.key===pe)if(M.tag===4&&M.stateNode.containerInfo===I.containerInfo&&M.stateNode.implementation===I.implementation){o(b,M.sibling),F=d(M,I.children||[]),F.return=b,b=F;break e}else{o(b,M);break}else n(b,M);M=M.sibling}F=Gr(I,b.mode,F),F.return=b,b=F}return S(b);case fe:return I=Co(I),Ze(b,M,I,F)}if(Ge(I))return ue(b,M,I,F);if(Re(I)){if(pe=Re(I),typeof pe!="function")throw Error(a(150));return I=pe.call(I),ve(b,M,I,F)}if(typeof I.then=="function")return Ze(b,M,os(I),F);if(I.$$typeof===J)return Ze(b,M,es(b,I),F);ls(b,I)}return typeof I=="string"&&I!==""||typeof I=="number"||typeof I=="bigint"?(I=""+I,M!==null&&M.tag===6?(o(b,M.sibling),F=d(M,I),F.return=b,b=F):(o(b,M),F=qr(I,b.mode,F),F.return=b,b=F),S(b)):o(b,M)}return function(b,M,I,F){try{Wl=0;var pe=Ze(b,M,I,F);return jo=null,pe}catch(de){if(de===Wo||de===ns)throw de;var Be=nn(29,de,null,b.mode);return Be.lanes=F,Be.return=b,Be}finally{}}}var Ro=Hf(!0),zf=Hf(!1),Vi=!1;function Qr(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function Zr(e,n){e=e.updateQueue,n.updateQueue===e&&(n.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,callbacks:null})}function Hi(e){return{lane:e,tag:0,payload:null,callback:null,next:null}}function zi(e,n,o){var s=e.updateQueue;if(s===null)return null;if(s=s.shared,(Oe&2)!==0){var d=s.pending;return d===null?n.next=n:(n.next=d.next,d.next=n),s.pending=n,n=Za(e),Cf(e,null,o),n}return Qa(e,s,n,o),Za(e)}function ea(e,n,o){if(n=n.updateQueue,n!==null&&(n=n.shared,(o&4194048)!==0)){var s=n.lanes;s&=e.pendingLanes,o|=s,n.lanes=o,hr(e,o)}}function $r(e,n){var o=e.updateQueue,s=e.alternate;if(s!==null&&(s=s.updateQueue,o===s)){var d=null,m=null;if(o=o.firstBaseUpdate,o!==null){do{var S={lane:o.lane,tag:o.tag,payload:o.payload,callback:null,next:null};m===null?d=m=S:m=m.next=S,o=o.next}while(o!==null);m===null?d=m=n:m=m.next=n}else d=m=n;o={baseState:s.baseState,firstBaseUpdate:d,lastBaseUpdate:m,shared:s.shared,callbacks:s.callbacks},e.updateQueue=o;return}e=o.lastBaseUpdate,e===null?o.firstBaseUpdate=n:e.next=n,o.lastBaseUpdate=n}var Wr=!1;function ta(){if(Wr){var e=$o;if(e!==null)throw e}}function na(e,n,o,s){Wr=!1;var d=e.updateQueue;Vi=!1;var m=d.firstBaseUpdate,S=d.lastBaseUpdate,_=d.shared.pending;if(_!==null){d.shared.pending=null;var A=_,U=A.next;A.next=null,S===null?m=U:S.next=U,S=A;var B=e.alternate;B!==null&&(B=B.updateQueue,_=B.lastBaseUpdate,_!==S&&(_===null?B.firstBaseUpdate=U:_.next=U,B.lastBaseUpdate=A))}if(m!==null){var Y=d.baseState;S=0,B=U=A=null,_=m;do{var L=_.lane&-536870913,V=L!==_.lane;if(V?(Le&L)===L:(s&L)===L){L!==0&&L===Zo&&(Wr=!0),B!==null&&(B=B.next={lane:0,tag:_.tag,payload:_.payload,callback:null,next:null});e:{var ue=e,ve=_;L=n;var Ze=o;switch(ve.tag){case 1:if(ue=ve.payload,typeof ue=="function"){Y=ue.call(Ze,Y,L);break e}Y=ue;break e;case 3:ue.flags=ue.flags&-65537|128;case 0:if(ue=ve.payload,L=typeof ue=="function"?ue.call(Ze,Y,L):ue,L==null)break e;Y=E({},Y,L);break e;case 2:Vi=!0}}L=_.callback,L!==null&&(e.flags|=64,V&&(e.flags|=8192),V=d.callbacks,V===null?d.callbacks=[L]:V.push(L))}else V={lane:L,tag:_.tag,payload:_.payload,callback:_.callback,next:null},B===null?(U=B=V,A=Y):B=B.next=V,S|=L;if(_=_.next,_===null){if(_=d.shared.pending,_===null)break;V=_,_=V.next,V.next=null,d.lastBaseUpdate=V,d.shared.pending=null}}while(!0);B===null&&(A=Y),d.baseState=A,d.firstBaseUpdate=U,d.lastBaseUpdate=B,m===null&&(d.shared.lanes=0),Yi|=S,e.lanes=S,e.memoizedState=Y}}function Bf(e,n){if(typeof e!="function")throw Error(a(191,e));e.call(n)}function kf(e,n){var o=e.callbacks;if(o!==null)for(e.callbacks=null,e=0;e<o.length;e++)Bf(o[e],n)}var el=x(null),as=x(0);function Ff(e,n){e=fi,ne(as,e),ne(el,n),fi=e|n.baseLanes}function jr(){ne(as,fi),ne(el,el.current)}function eu(){fi=as.current,O(el),O(as)}var on=x(null),Sn=null;function Bi(e){var n=e.alternate;ne(mt,mt.current&1),ne(on,e),Sn===null&&(n===null||el.current!==null||n.memoizedState!==null)&&(Sn=e)}function tu(e){ne(mt,mt.current),ne(on,e),Sn===null&&(Sn=e)}function Of(e){e.tag===22?(ne(mt,mt.current),ne(on,e),Sn===null&&(Sn=e)):ki()}function ki(){ne(mt,mt.current),ne(on,on.current)}function ln(e){O(on),Sn===e&&(Sn=null),O(mt)}var mt=x(0);function ss(e){for(var n=e;n!==null;){if(n.tag===13){var o=n.memoizedState;if(o!==null&&(o=o.dehydrated,o===null||sc(o)||rc(o)))return n}else if(n.tag===19&&(n.memoizedProps.revealOrder==="forwards"||n.memoizedProps.revealOrder==="backwards"||n.memoizedProps.revealOrder==="unstable_legacy-backwards"||n.memoizedProps.revealOrder==="together")){if((n.flags&128)!==0)return n}else if(n.child!==null){n.child.return=n,n=n.child;continue}if(n===e)break;for(;n.sibling===null;){if(n.return===null||n.return===e)return null;n=n.return}n.sibling.return=n.return,n=n.sibling}return null}var ii=0,Me=null,Ke=null,gt=null,rs=!1,tl=!1,xo=!1,us=0,ia=0,nl=null,cy=0;function ut(){throw Error(a(321))}function nu(e,n){if(n===null)return!1;for(var o=0;o<n.length&&o<e.length;o++)if(!tn(e[o],n[o]))return!1;return!0}function iu(e,n,o,s,d,m){return ii=m,Me=n,n.memoizedState=null,n.updateQueue=null,n.lanes=0,P.H=e===null||e.memoizedState===null?Md:vu,xo=!1,m=o(s,d),xo=!1,tl&&(m=Jf(n,o,s,d)),Yf(e),m}function Yf(e){P.H=aa;var n=Ke!==null&&Ke.next!==null;if(ii=0,gt=Ke=Me=null,rs=!1,ia=0,nl=null,n)throw Error(a(300));e===null||yt||(e=e.dependencies,e!==null&&ja(e)&&(yt=!0))}function Jf(e,n,o,s){Me=e;var d=0;do{if(tl&&(nl=null),ia=0,tl=!1,25<=d)throw Error(a(301));if(d+=1,gt=Ke=null,e.updateQueue!=null){var m=e.updateQueue;m.lastEffect=null,m.events=null,m.stores=null,m.memoCache!=null&&(m.memoCache.index=0)}P.H=Nd,m=n(o,s)}while(tl);return m}function fy(){var e=P.H,n=e.useState()[0];return n=typeof n.then=="function"?oa(n):n,e=e.useState()[0],(Ke!==null?Ke.memoizedState:null)!==e&&(Me.flags|=1024),n}function ou(){var e=us!==0;return us=0,e}function lu(e,n,o){n.updateQueue=e.updateQueue,n.flags&=-2053,e.lanes&=~o}function au(e){if(rs){for(e=e.memoizedState;e!==null;){var n=e.queue;n!==null&&(n.pending=null),e=e.next}rs=!1}ii=0,gt=Ke=Me=null,tl=!1,ia=us=0,nl=null}function Pt(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return gt===null?Me.memoizedState=gt=e:gt=gt.next=e,gt}function pt(){if(Ke===null){var e=Me.alternate;e=e!==null?e.memoizedState:null}else e=Ke.next;var n=gt===null?Me.memoizedState:gt.next;if(n!==null)gt=n,Ke=e;else{if(e===null)throw Me.alternate===null?Error(a(467)):Error(a(310));Ke=e,e={memoizedState:Ke.memoizedState,baseState:Ke.baseState,baseQueue:Ke.baseQueue,queue:Ke.queue,next:null},gt===null?Me.memoizedState=gt=e:gt=gt.next=e}return gt}function cs(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function oa(e){var n=ia;return ia+=1,nl===null&&(nl=[]),e=qf(nl,e,n),n=Me,(gt===null?n.memoizedState:gt.next)===null&&(n=n.alternate,P.H=n===null||n.memoizedState===null?Md:vu),e}function fs(e){if(e!==null&&typeof e=="object"){if(typeof e.then=="function")return oa(e);if(e.$$typeof===J)return Rt(e)}throw Error(a(438,String(e)))}function su(e){var n=null,o=Me.updateQueue;if(o!==null&&(n=o.memoCache),n==null){var s=Me.alternate;s!==null&&(s=s.updateQueue,s!==null&&(s=s.memoCache,s!=null&&(n={data:s.data.map(function(d){return d.slice()}),index:0})))}if(n==null&&(n={data:[],index:0}),o===null&&(o=cs(),Me.updateQueue=o),o.memoCache=n,o=n.data[n.index],o===void 0)for(o=n.data[n.index]=Array(e),s=0;s<e;s++)o[s]=j;return n.index++,o}function oi(e,n){return typeof n=="function"?n(e):n}function ds(e){var n=pt();return ru(n,Ke,e)}function ru(e,n,o){var s=e.queue;if(s===null)throw Error(a(311));s.lastRenderedReducer=o;var d=e.baseQueue,m=s.pending;if(m!==null){if(d!==null){var S=d.next;d.next=m.next,m.next=S}n.baseQueue=d=m,s.pending=null}if(m=e.baseState,d===null)e.memoizedState=m;else{n=d.next;var _=S=null,A=null,U=n,B=!1;do{var Y=U.lane&-536870913;if(Y!==U.lane?(Le&Y)===Y:(ii&Y)===Y){var L=U.revertLane;if(L===0)A!==null&&(A=A.next={lane:0,revertLane:0,gesture:null,action:U.action,hasEagerState:U.hasEagerState,eagerState:U.eagerState,next:null}),Y===Zo&&(B=!0);else if((ii&L)===L){U=U.next,L===Zo&&(B=!0);continue}else Y={lane:0,revertLane:U.revertLane,gesture:null,action:U.action,hasEagerState:U.hasEagerState,eagerState:U.eagerState,next:null},A===null?(_=A=Y,S=m):A=A.next=Y,Me.lanes|=L,Yi|=L;Y=U.action,xo&&o(m,Y),m=U.hasEagerState?U.eagerState:o(m,Y)}else L={lane:Y,revertLane:U.revertLane,gesture:U.gesture,action:U.action,hasEagerState:U.hasEagerState,eagerState:U.eagerState,next:null},A===null?(_=A=L,S=m):A=A.next=L,Me.lanes|=Y,Yi|=Y;U=U.next}while(U!==null&&U!==n);if(A===null?S=m:A.next=_,!tn(m,e.memoizedState)&&(yt=!0,B&&(o=$o,o!==null)))throw o;e.memoizedState=m,e.baseState=S,e.baseQueue=A,s.lastRenderedState=m}return d===null&&(s.lanes=0),[e.memoizedState,s.dispatch]}function uu(e){var n=pt(),o=n.queue;if(o===null)throw Error(a(311));o.lastRenderedReducer=e;var s=o.dispatch,d=o.pending,m=n.memoizedState;if(d!==null){o.pending=null;var S=d=d.next;do m=e(m,S.action),S=S.next;while(S!==d);tn(m,n.memoizedState)||(yt=!0),n.memoizedState=m,n.baseQueue===null&&(n.baseState=m),o.lastRenderedState=m}return[m,s]}function Xf(e,n,o){var s=Me,d=pt(),m=Ve;if(m){if(o===void 0)throw Error(a(407));o=o()}else o=n();var S=!tn((Ke||d).memoizedState,o);if(S&&(d.memoizedState=o,yt=!0),d=d.queue,du(Zf.bind(null,s,d,e),[e]),d.getSnapshot!==n||S||gt!==null&&gt.memoizedState.tag&1){if(s.flags|=2048,il(9,{destroy:void 0},Qf.bind(null,s,d,o,n),null),$e===null)throw Error(a(349));m||(ii&127)!==0||Kf(s,n,o)}return o}function Kf(e,n,o){e.flags|=16384,e={getSnapshot:n,value:o},n=Me.updateQueue,n===null?(n=cs(),Me.updateQueue=n,n.stores=[e]):(o=n.stores,o===null?n.stores=[e]:o.push(e))}function Qf(e,n,o,s){n.value=o,n.getSnapshot=s,$f(n)&&Wf(e)}function Zf(e,n,o){return o(function(){$f(n)&&Wf(e)})}function $f(e){var n=e.getSnapshot;e=e.value;try{var o=n();return!tn(e,o)}catch{return!0}}function Wf(e){var n=yo(e,2);n!==null&&Jt(n,e,2)}function cu(e){var n=Pt();if(typeof e=="function"){var o=e;if(e=o(),xo){dn(!0);try{o()}finally{dn(!1)}}}return n.memoizedState=n.baseState=e,n.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:oi,lastRenderedState:e},n}function jf(e,n,o,s){return e.baseState=o,ru(e,Ke,typeof s=="function"?s:oi)}function dy(e,n,o,s,d){if(hs(e))throw Error(a(485));if(e=n.action,e!==null){var m={payload:d,action:e,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(S){m.listeners.push(S)}};P.T!==null?o(!0):m.isTransition=!1,s(m),o=n.pending,o===null?(m.next=n.pending=m,ed(n,m)):(m.next=o.next,n.pending=o.next=m)}}function ed(e,n){var o=n.action,s=n.payload,d=e.state;if(n.isTransition){var m=P.T,S={};P.T=S;try{var _=o(d,s),A=P.S;A!==null&&A(S,_),td(e,n,_)}catch(U){fu(e,n,U)}finally{m!==null&&S.types!==null&&(m.types=S.types),P.T=m}}else try{m=o(d,s),td(e,n,m)}catch(U){fu(e,n,U)}}function td(e,n,o){o!==null&&typeof o=="object"&&typeof o.then=="function"?o.then(function(s){nd(e,n,s)},function(s){return fu(e,n,s)}):nd(e,n,o)}function nd(e,n,o){n.status="fulfilled",n.value=o,id(n),e.state=o,n=e.pending,n!==null&&(o=n.next,o===n?e.pending=null:(o=o.next,n.next=o,ed(e,o)))}function fu(e,n,o){var s=e.pending;if(e.pending=null,s!==null){s=s.next;do n.status="rejected",n.reason=o,id(n),n=n.next;while(n!==s)}e.action=null}function id(e){e=e.listeners;for(var n=0;n<e.length;n++)(0,e[n])()}function od(e,n){return n}function ld(e,n){if(Ve){var o=$e.formState;if(o!==null){e:{var s=Me;if(Ve){if(tt){t:{for(var d=tt,m=Tn;d.nodeType!==8;){if(!m){d=null;break t}if(d=En(d.nextSibling),d===null){d=null;break t}}m=d.data,d=m==="F!"||m==="F"?d:null}if(d){tt=En(d.nextSibling),s=d.data==="F!";break e}}qi(s)}s=!1}s&&(n=o[0])}}return o=Pt(),o.memoizedState=o.baseState=n,s={pending:null,lanes:0,dispatch:null,lastRenderedReducer:od,lastRenderedState:n},o.queue=s,o=Ad.bind(null,Me,s),s.dispatch=o,s=cu(!1),m=yu.bind(null,Me,!1,s.queue),s=Pt(),d={state:n,dispatch:null,action:e,pending:null},s.queue=d,o=dy.bind(null,Me,d,m,o),d.dispatch=o,s.memoizedState=e,[n,o,!1]}function ad(e){var n=pt();return sd(n,Ke,e)}function sd(e,n,o){if(n=ru(e,n,od)[0],e=ds(oi)[0],typeof n=="object"&&n!==null&&typeof n.then=="function")try{var s=oa(n)}catch(S){throw S===Wo?ns:S}else s=n;n=pt();var d=n.queue,m=d.dispatch;return o!==n.memoizedState&&(Me.flags|=2048,il(9,{destroy:void 0},my.bind(null,d,o),null)),[s,m,e]}function my(e,n){e.action=n}function rd(e){var n=pt(),o=Ke;if(o!==null)return sd(n,o,e);pt(),n=n.memoizedState,o=pt();var s=o.queue.dispatch;return o.memoizedState=e,[n,s,!1]}function il(e,n,o,s){return e={tag:e,create:o,deps:s,inst:n,next:null},n=Me.updateQueue,n===null&&(n=cs(),Me.updateQueue=n),o=n.lastEffect,o===null?n.lastEffect=e.next=e:(s=o.next,o.next=e,e.next=s,n.lastEffect=e),e}function ud(){return pt().memoizedState}function ms(e,n,o,s){var d=Pt();Me.flags|=e,d.memoizedState=il(1|n,{destroy:void 0},o,s===void 0?null:s)}function ps(e,n,o,s){var d=pt();s=s===void 0?null:s;var m=d.memoizedState.inst;Ke!==null&&s!==null&&nu(s,Ke.memoizedState.deps)?d.memoizedState=il(n,m,o,s):(Me.flags|=e,d.memoizedState=il(1|n,m,o,s))}function cd(e,n){ms(8390656,8,e,n)}function du(e,n){ps(2048,8,e,n)}function py(e){Me.flags|=4;var n=Me.updateQueue;if(n===null)n=cs(),Me.updateQueue=n,n.events=[e];else{var o=n.events;o===null?n.events=[e]:o.push(e)}}function fd(e){var n=pt().memoizedState;return py({ref:n,nextImpl:e}),function(){if((Oe&2)!==0)throw Error(a(440));return n.impl.apply(void 0,arguments)}}function dd(e,n){return ps(4,2,e,n)}function md(e,n){return ps(4,4,e,n)}function pd(e,n){if(typeof n=="function"){e=e();var o=n(e);return function(){typeof o=="function"?o():n(null)}}if(n!=null)return e=e(),n.current=e,function(){n.current=null}}function hd(e,n,o){o=o!=null?o.concat([e]):null,ps(4,4,pd.bind(null,n,e),o)}function mu(){}function gd(e,n){var o=pt();n=n===void 0?null:n;var s=o.memoizedState;return n!==null&&nu(n,s[1])?s[0]:(o.memoizedState=[e,n],e)}function yd(e,n){var o=pt();n=n===void 0?null:n;var s=o.memoizedState;if(n!==null&&nu(n,s[1]))return s[0];if(s=e(),xo){dn(!0);try{e()}finally{dn(!1)}}return o.memoizedState=[s,n],s}function pu(e,n,o){return o===void 0||(ii&1073741824)!==0&&(Le&261930)===0?e.memoizedState=n:(e.memoizedState=o,e=vm(),Me.lanes|=e,Yi|=e,o)}function vd(e,n,o,s){return tn(o,n)?o:el.current!==null?(e=pu(e,o,s),tn(e,n)||(yt=!0),e):(ii&42)===0||(ii&1073741824)!==0&&(Le&261930)===0?(yt=!0,e.memoizedState=o):(e=vm(),Me.lanes|=e,Yi|=e,n)}function Td(e,n,o,s,d){var m=K.p;K.p=m!==0&&8>m?m:8;var S=P.T,_={};P.T=_,yu(e,!1,n,o);try{var A=d(),U=P.S;if(U!==null&&U(_,A),A!==null&&typeof A=="object"&&typeof A.then=="function"){var B=uy(A,s);la(e,n,B,rn(e))}else la(e,n,s,rn(e))}catch(Y){la(e,n,{then:function(){},status:"rejected",reason:Y},rn())}finally{K.p=m,S!==null&&_.types!==null&&(S.types=_.types),P.T=S}}function hy(){}function hu(e,n,o,s){if(e.tag!==5)throw Error(a(476));var d=Sd(e).queue;Td(e,d,n,re,o===null?hy:function(){return Ed(e),o(s)})}function Sd(e){var n=e.memoizedState;if(n!==null)return n;n={memoizedState:re,baseState:re,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:oi,lastRenderedState:re},next:null};var o={};return n.next={memoizedState:o,baseState:o,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:oi,lastRenderedState:o},next:null},e.memoizedState=n,e=e.alternate,e!==null&&(e.memoizedState=n),n}function Ed(e){var n=Sd(e);n.next===null&&(n=e.alternate.memoizedState),la(e,n.next.queue,{},rn())}function gu(){return Rt(_a)}function _d(){return pt().memoizedState}function Cd(){return pt().memoizedState}function gy(e){for(var n=e.return;n!==null;){switch(n.tag){case 24:case 3:var o=rn();e=Hi(o);var s=zi(n,e,o);s!==null&&(Jt(s,n,o),ea(s,n,o)),n={cache:Yr()},e.payload=n;return}n=n.return}}function yy(e,n,o){var s=rn();o={lane:s,revertLane:0,gesture:null,action:o,hasEagerState:!1,eagerState:null,next:null},hs(e)?Rd(n,o):(o=Lr(e,n,o,s),o!==null&&(Jt(o,e,s),xd(o,n,s)))}function Ad(e,n,o){var s=rn();la(e,n,o,s)}function la(e,n,o,s){var d={lane:s,revertLane:0,gesture:null,action:o,hasEagerState:!1,eagerState:null,next:null};if(hs(e))Rd(n,d);else{var m=e.alternate;if(e.lanes===0&&(m===null||m.lanes===0)&&(m=n.lastRenderedReducer,m!==null))try{var S=n.lastRenderedState,_=m(S,o);if(d.hasEagerState=!0,d.eagerState=_,tn(_,S))return Qa(e,n,d,0),$e===null&&Ka(),!1}catch{}finally{}if(o=Lr(e,n,d,s),o!==null)return Jt(o,e,s),xd(o,n,s),!0}return!1}function yu(e,n,o,s){if(s={lane:2,revertLane:Qu(),gesture:null,action:s,hasEagerState:!1,eagerState:null,next:null},hs(e)){if(n)throw Error(a(479))}else n=Lr(e,o,s,2),n!==null&&Jt(n,e,2)}function hs(e){var n=e.alternate;return e===Me||n!==null&&n===Me}function Rd(e,n){tl=rs=!0;var o=e.pending;o===null?n.next=n:(n.next=o.next,o.next=n),e.pending=n}function xd(e,n,o){if((o&4194048)!==0){var s=n.lanes;s&=e.pendingLanes,o|=s,n.lanes=o,hr(e,o)}}var aa={readContext:Rt,use:fs,useCallback:ut,useContext:ut,useEffect:ut,useImperativeHandle:ut,useLayoutEffect:ut,useInsertionEffect:ut,useMemo:ut,useReducer:ut,useRef:ut,useState:ut,useDebugValue:ut,useDeferredValue:ut,useTransition:ut,useSyncExternalStore:ut,useId:ut,useHostTransitionStatus:ut,useFormState:ut,useActionState:ut,useOptimistic:ut,useMemoCache:ut,useCacheRefresh:ut};aa.useEffectEvent=ut;var Md={readContext:Rt,use:fs,useCallback:function(e,n){return Pt().memoizedState=[e,n===void 0?null:n],e},useContext:Rt,useEffect:cd,useImperativeHandle:function(e,n,o){o=o!=null?o.concat([e]):null,ms(4194308,4,pd.bind(null,n,e),o)},useLayoutEffect:function(e,n){return ms(4194308,4,e,n)},useInsertionEffect:function(e,n){ms(4,2,e,n)},useMemo:function(e,n){var o=Pt();n=n===void 0?null:n;var s=e();if(xo){dn(!0);try{e()}finally{dn(!1)}}return o.memoizedState=[s,n],s},useReducer:function(e,n,o){var s=Pt();if(o!==void 0){var d=o(n);if(xo){dn(!0);try{o(n)}finally{dn(!1)}}}else d=n;return s.memoizedState=s.baseState=d,e={pending:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:d},s.queue=e,e=e.dispatch=yy.bind(null,Me,e),[s.memoizedState,e]},useRef:function(e){var n=Pt();return e={current:e},n.memoizedState=e},useState:function(e){e=cu(e);var n=e.queue,o=Ad.bind(null,Me,n);return n.dispatch=o,[e.memoizedState,o]},useDebugValue:mu,useDeferredValue:function(e,n){var o=Pt();return pu(o,e,n)},useTransition:function(){var e=cu(!1);return e=Td.bind(null,Me,e.queue,!0,!1),Pt().memoizedState=e,[!1,e]},useSyncExternalStore:function(e,n,o){var s=Me,d=Pt();if(Ve){if(o===void 0)throw Error(a(407));o=o()}else{if(o=n(),$e===null)throw Error(a(349));(Le&127)!==0||Kf(s,n,o)}d.memoizedState=o;var m={value:o,getSnapshot:n};return d.queue=m,cd(Zf.bind(null,s,m,e),[e]),s.flags|=2048,il(9,{destroy:void 0},Qf.bind(null,s,m,o,n),null),o},useId:function(){var e=Pt(),n=$e.identifierPrefix;if(Ve){var o=kn,s=Bn;o=(s&~(1<<32-wt(s)-1)).toString(32)+o,n="_"+n+"R_"+o,o=us++,0<o&&(n+="H"+o.toString(32)),n+="_"}else o=cy++,n="_"+n+"r_"+o.toString(32)+"_";return e.memoizedState=n},useHostTransitionStatus:gu,useFormState:ld,useActionState:ld,useOptimistic:function(e){var n=Pt();n.memoizedState=n.baseState=e;var o={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return n.queue=o,n=yu.bind(null,Me,!0,o),o.dispatch=n,[e,n]},useMemoCache:su,useCacheRefresh:function(){return Pt().memoizedState=gy.bind(null,Me)},useEffectEvent:function(e){var n=Pt(),o={impl:e};return n.memoizedState=o,function(){if((Oe&2)!==0)throw Error(a(440));return o.impl.apply(void 0,arguments)}}},vu={readContext:Rt,use:fs,useCallback:gd,useContext:Rt,useEffect:du,useImperativeHandle:hd,useInsertionEffect:dd,useLayoutEffect:md,useMemo:yd,useReducer:ds,useRef:ud,useState:function(){return ds(oi)},useDebugValue:mu,useDeferredValue:function(e,n){var o=pt();return vd(o,Ke.memoizedState,e,n)},useTransition:function(){var e=ds(oi)[0],n=pt().memoizedState;return[typeof e=="boolean"?e:oa(e),n]},useSyncExternalStore:Xf,useId:_d,useHostTransitionStatus:gu,useFormState:ad,useActionState:ad,useOptimistic:function(e,n){var o=pt();return jf(o,Ke,e,n)},useMemoCache:su,useCacheRefresh:Cd};vu.useEffectEvent=fd;var Nd={readContext:Rt,use:fs,useCallback:gd,useContext:Rt,useEffect:du,useImperativeHandle:hd,useInsertionEffect:dd,useLayoutEffect:md,useMemo:yd,useReducer:uu,useRef:ud,useState:function(){return uu(oi)},useDebugValue:mu,useDeferredValue:function(e,n){var o=pt();return Ke===null?pu(o,e,n):vd(o,Ke.memoizedState,e,n)},useTransition:function(){var e=uu(oi)[0],n=pt().memoizedState;return[typeof e=="boolean"?e:oa(e),n]},useSyncExternalStore:Xf,useId:_d,useHostTransitionStatus:gu,useFormState:rd,useActionState:rd,useOptimistic:function(e,n){var o=pt();return Ke!==null?jf(o,Ke,e,n):(o.baseState=e,[e,o.queue.dispatch])},useMemoCache:su,useCacheRefresh:Cd};Nd.useEffectEvent=fd;function Tu(e,n,o,s){n=e.memoizedState,o=o(s,n),o=o==null?n:E({},n,o),e.memoizedState=o,e.lanes===0&&(e.updateQueue.baseState=o)}var Su={enqueueSetState:function(e,n,o){e=e._reactInternals;var s=rn(),d=Hi(s);d.payload=n,o!=null&&(d.callback=o),n=zi(e,d,s),n!==null&&(Jt(n,e,s),ea(n,e,s))},enqueueReplaceState:function(e,n,o){e=e._reactInternals;var s=rn(),d=Hi(s);d.tag=1,d.payload=n,o!=null&&(d.callback=o),n=zi(e,d,s),n!==null&&(Jt(n,e,s),ea(n,e,s))},enqueueForceUpdate:function(e,n){e=e._reactInternals;var o=rn(),s=Hi(o);s.tag=2,n!=null&&(s.callback=n),n=zi(e,s,o),n!==null&&(Jt(n,e,o),ea(n,e,o))}};function bd(e,n,o,s,d,m,S){return e=e.stateNode,typeof e.shouldComponentUpdate=="function"?e.shouldComponentUpdate(s,m,S):n.prototype&&n.prototype.isPureReactComponent?!Jl(o,s)||!Jl(d,m):!0}function wd(e,n,o,s){e=n.state,typeof n.componentWillReceiveProps=="function"&&n.componentWillReceiveProps(o,s),typeof n.UNSAFE_componentWillReceiveProps=="function"&&n.UNSAFE_componentWillReceiveProps(o,s),n.state!==e&&Su.enqueueReplaceState(n,n.state,null)}function Mo(e,n){var o=n;if("ref"in n){o={};for(var s in n)s!=="ref"&&(o[s]=n[s])}if(e=e.defaultProps){o===n&&(o=E({},o));for(var d in e)o[d]===void 0&&(o[d]=e[d])}return o}function Dd(e){Xa(e)}function Id(e){console.error(e)}function Ud(e){Xa(e)}function gs(e,n){try{var o=e.onUncaughtError;o(n.value,{componentStack:n.stack})}catch(s){setTimeout(function(){throw s})}}function Ld(e,n,o){try{var s=e.onCaughtError;s(o.value,{componentStack:o.stack,errorBoundary:n.tag===1?n.stateNode:null})}catch(d){setTimeout(function(){throw d})}}function Eu(e,n,o){return o=Hi(o),o.tag=3,o.payload={element:null},o.callback=function(){gs(e,n)},o}function Pd(e){return e=Hi(e),e.tag=3,e}function qd(e,n,o,s){var d=o.type.getDerivedStateFromError;if(typeof d=="function"){var m=s.value;e.payload=function(){return d(m)},e.callback=function(){Ld(n,o,s)}}var S=o.stateNode;S!==null&&typeof S.componentDidCatch=="function"&&(e.callback=function(){Ld(n,o,s),typeof d!="function"&&(Ji===null?Ji=new Set([this]):Ji.add(this));var _=s.stack;this.componentDidCatch(s.value,{componentStack:_!==null?_:""})})}function vy(e,n,o,s,d){if(o.flags|=32768,s!==null&&typeof s=="object"&&typeof s.then=="function"){if(n=o.alternate,n!==null&&Qo(n,o,d,!0),o=on.current,o!==null){switch(o.tag){case 31:case 13:return Sn===null?Ns():o.alternate===null&&ct===0&&(ct=3),o.flags&=-257,o.flags|=65536,o.lanes=d,s===is?o.flags|=16384:(n=o.updateQueue,n===null?o.updateQueue=new Set([s]):n.add(s),Ju(e,s,d)),!1;case 22:return o.flags|=65536,s===is?o.flags|=16384:(n=o.updateQueue,n===null?(n={transitions:null,markerInstances:null,retryQueue:new Set([s])},o.updateQueue=n):(o=n.retryQueue,o===null?n.retryQueue=new Set([s]):o.add(s)),Ju(e,s,d)),!1}throw Error(a(435,o.tag))}return Ju(e,s,d),Ns(),!1}if(Ve)return n=on.current,n!==null?((n.flags&65536)===0&&(n.flags|=256),n.flags|=65536,n.lanes=d,s!==zr&&(e=Error(a(422),{cause:s}),Ql(gn(e,o)))):(s!==zr&&(n=Error(a(423),{cause:s}),Ql(gn(n,o))),e=e.current.alternate,e.flags|=65536,d&=-d,e.lanes|=d,s=gn(s,o),d=Eu(e.stateNode,s,d),$r(e,d),ct!==4&&(ct=2)),!1;var m=Error(a(520),{cause:s});if(m=gn(m,o),pa===null?pa=[m]:pa.push(m),ct!==4&&(ct=2),n===null)return!0;s=gn(s,o),o=n;do{switch(o.tag){case 3:return o.flags|=65536,e=d&-d,o.lanes|=e,e=Eu(o.stateNode,s,e),$r(o,e),!1;case 1:if(n=o.type,m=o.stateNode,(o.flags&128)===0&&(typeof n.getDerivedStateFromError=="function"||m!==null&&typeof m.componentDidCatch=="function"&&(Ji===null||!Ji.has(m))))return o.flags|=65536,d&=-d,o.lanes|=d,d=Pd(d),qd(d,e,o,s),$r(o,d),!1}o=o.return}while(o!==null);return!1}var _u=Error(a(461)),yt=!1;function xt(e,n,o,s){n.child=e===null?zf(n,null,o,s):Ro(n,e.child,o,s)}function Gd(e,n,o,s,d){o=o.render;var m=n.ref;if("ref"in s){var S={};for(var _ in s)_!=="ref"&&(S[_]=s[_])}else S=s;return Eo(n),s=iu(e,n,o,S,m,d),_=ou(),e!==null&&!yt?(lu(e,n,d),li(e,n,d)):(Ve&&_&&Vr(n),n.flags|=1,xt(e,n,s,d),n.child)}function Vd(e,n,o,s,d){if(e===null){var m=o.type;return typeof m=="function"&&!Pr(m)&&m.defaultProps===void 0&&o.compare===null?(n.tag=15,n.type=m,Hd(e,n,m,s,d)):(e=$a(o.type,null,s,n,n.mode,d),e.ref=n.ref,e.return=n,n.child=e)}if(m=e.child,!wu(e,d)){var S=m.memoizedProps;if(o=o.compare,o=o!==null?o:Jl,o(S,s)&&e.ref===n.ref)return li(e,n,d)}return n.flags|=1,e=jn(m,s),e.ref=n.ref,e.return=n,n.child=e}function Hd(e,n,o,s,d){if(e!==null){var m=e.memoizedProps;if(Jl(m,s)&&e.ref===n.ref)if(yt=!1,n.pendingProps=s=m,wu(e,d))(e.flags&131072)!==0&&(yt=!0);else return n.lanes=e.lanes,li(e,n,d)}return Cu(e,n,o,s,d)}function zd(e,n,o,s){var d=s.children,m=e!==null?e.memoizedState:null;if(e===null&&n.stateNode===null&&(n.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),s.mode==="hidden"){if((n.flags&128)!==0){if(m=m!==null?m.baseLanes|o:o,e!==null){for(s=n.child=e.child,d=0;s!==null;)d=d|s.lanes|s.childLanes,s=s.sibling;s=d&~m}else s=0,n.child=null;return Bd(e,n,m,o,s)}if((o&536870912)!==0)n.memoizedState={baseLanes:0,cachePool:null},e!==null&&ts(n,m!==null?m.cachePool:null),m!==null?Ff(n,m):jr(),Of(n);else return s=n.lanes=536870912,Bd(e,n,m!==null?m.baseLanes|o:o,o,s)}else m!==null?(ts(n,m.cachePool),Ff(n,m),ki(),n.memoizedState=null):(e!==null&&ts(n,null),jr(),ki());return xt(e,n,d,o),n.child}function sa(e,n){return e!==null&&e.tag===22||n.stateNode!==null||(n.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),n.sibling}function Bd(e,n,o,s,d){var m=Xr();return m=m===null?null:{parent:ht._currentValue,pool:m},n.memoizedState={baseLanes:o,cachePool:m},e!==null&&ts(n,null),jr(),Of(n),e!==null&&Qo(e,n,s,!0),n.childLanes=d,null}function ys(e,n){return n=Ts({mode:n.mode,children:n.children},e.mode),n.ref=e.ref,e.child=n,n.return=e,n}function kd(e,n,o){return Ro(n,e.child,null,o),e=ys(n,n.pendingProps),e.flags|=2,ln(n),n.memoizedState=null,e}function Ty(e,n,o){var s=n.pendingProps,d=(n.flags&128)!==0;if(n.flags&=-129,e===null){if(Ve){if(s.mode==="hidden")return e=ys(n,s),n.lanes=536870912,sa(null,e);if(tu(n),(e=tt)?(e=ep(e,Tn),e=e!==null&&e.data==="&"?e:null,e!==null&&(n.memoizedState={dehydrated:e,treeContext:Li!==null?{id:Bn,overflow:kn}:null,retryLane:536870912,hydrationErrors:null},o=Rf(e),o.return=n,n.child=o,At=n,tt=null)):e=null,e===null)throw qi(n);return n.lanes=536870912,null}return ys(n,s)}var m=e.memoizedState;if(m!==null){var S=m.dehydrated;if(tu(n),d)if(n.flags&256)n.flags&=-257,n=kd(e,n,o);else if(n.memoizedState!==null)n.child=e.child,n.flags|=128,n=null;else throw Error(a(558));else if(yt||Qo(e,n,o,!1),d=(o&e.childLanes)!==0,yt||d){if(s=$e,s!==null&&(S=qa(s,o),S!==0&&S!==m.retryLane))throw m.retryLane=S,yo(e,S),Jt(s,e,S),_u;Ns(),n=kd(e,n,o)}else e=m.treeContext,tt=En(S.nextSibling),At=n,Ve=!0,Pi=null,Tn=!1,e!==null&&Nf(n,e),n=ys(n,s),n.flags|=4096;return n}return e=jn(e.child,{mode:s.mode,children:s.children}),e.ref=n.ref,n.child=e,e.return=n,e}function vs(e,n){var o=n.ref;if(o===null)e!==null&&e.ref!==null&&(n.flags|=4194816);else{if(typeof o!="function"&&typeof o!="object")throw Error(a(284));(e===null||e.ref!==o)&&(n.flags|=4194816)}}function Cu(e,n,o,s,d){return Eo(n),o=iu(e,n,o,s,void 0,d),s=ou(),e!==null&&!yt?(lu(e,n,d),li(e,n,d)):(Ve&&s&&Vr(n),n.flags|=1,xt(e,n,o,d),n.child)}function Fd(e,n,o,s,d,m){return Eo(n),n.updateQueue=null,o=Jf(n,s,o,d),Yf(e),s=ou(),e!==null&&!yt?(lu(e,n,m),li(e,n,m)):(Ve&&s&&Vr(n),n.flags|=1,xt(e,n,o,m),n.child)}function Od(e,n,o,s,d){if(Eo(n),n.stateNode===null){var m=Yo,S=o.contextType;typeof S=="object"&&S!==null&&(m=Rt(S)),m=new o(s,m),n.memoizedState=m.state!==null&&m.state!==void 0?m.state:null,m.updater=Su,n.stateNode=m,m._reactInternals=n,m=n.stateNode,m.props=s,m.state=n.memoizedState,m.refs={},Qr(n),S=o.contextType,m.context=typeof S=="object"&&S!==null?Rt(S):Yo,m.state=n.memoizedState,S=o.getDerivedStateFromProps,typeof S=="function"&&(Tu(n,o,S,s),m.state=n.memoizedState),typeof o.getDerivedStateFromProps=="function"||typeof m.getSnapshotBeforeUpdate=="function"||typeof m.UNSAFE_componentWillMount!="function"&&typeof m.componentWillMount!="function"||(S=m.state,typeof m.componentWillMount=="function"&&m.componentWillMount(),typeof m.UNSAFE_componentWillMount=="function"&&m.UNSAFE_componentWillMount(),S!==m.state&&Su.enqueueReplaceState(m,m.state,null),na(n,s,m,d),ta(),m.state=n.memoizedState),typeof m.componentDidMount=="function"&&(n.flags|=4194308),s=!0}else if(e===null){m=n.stateNode;var _=n.memoizedProps,A=Mo(o,_);m.props=A;var U=m.context,B=o.contextType;S=Yo,typeof B=="object"&&B!==null&&(S=Rt(B));var Y=o.getDerivedStateFromProps;B=typeof Y=="function"||typeof m.getSnapshotBeforeUpdate=="function",_=n.pendingProps!==_,B||typeof m.UNSAFE_componentWillReceiveProps!="function"&&typeof m.componentWillReceiveProps!="function"||(_||U!==S)&&wd(n,m,s,S),Vi=!1;var L=n.memoizedState;m.state=L,na(n,s,m,d),ta(),U=n.memoizedState,_||L!==U||Vi?(typeof Y=="function"&&(Tu(n,o,Y,s),U=n.memoizedState),(A=Vi||bd(n,o,A,s,L,U,S))?(B||typeof m.UNSAFE_componentWillMount!="function"&&typeof m.componentWillMount!="function"||(typeof m.componentWillMount=="function"&&m.componentWillMount(),typeof m.UNSAFE_componentWillMount=="function"&&m.UNSAFE_componentWillMount()),typeof m.componentDidMount=="function"&&(n.flags|=4194308)):(typeof m.componentDidMount=="function"&&(n.flags|=4194308),n.memoizedProps=s,n.memoizedState=U),m.props=s,m.state=U,m.context=S,s=A):(typeof m.componentDidMount=="function"&&(n.flags|=4194308),s=!1)}else{m=n.stateNode,Zr(e,n),S=n.memoizedProps,B=Mo(o,S),m.props=B,Y=n.pendingProps,L=m.context,U=o.contextType,A=Yo,typeof U=="object"&&U!==null&&(A=Rt(U)),_=o.getDerivedStateFromProps,(U=typeof _=="function"||typeof m.getSnapshotBeforeUpdate=="function")||typeof m.UNSAFE_componentWillReceiveProps!="function"&&typeof m.componentWillReceiveProps!="function"||(S!==Y||L!==A)&&wd(n,m,s,A),Vi=!1,L=n.memoizedState,m.state=L,na(n,s,m,d),ta();var V=n.memoizedState;S!==Y||L!==V||Vi||e!==null&&e.dependencies!==null&&ja(e.dependencies)?(typeof _=="function"&&(Tu(n,o,_,s),V=n.memoizedState),(B=Vi||bd(n,o,B,s,L,V,A)||e!==null&&e.dependencies!==null&&ja(e.dependencies))?(U||typeof m.UNSAFE_componentWillUpdate!="function"&&typeof m.componentWillUpdate!="function"||(typeof m.componentWillUpdate=="function"&&m.componentWillUpdate(s,V,A),typeof m.UNSAFE_componentWillUpdate=="function"&&m.UNSAFE_componentWillUpdate(s,V,A)),typeof m.componentDidUpdate=="function"&&(n.flags|=4),typeof m.getSnapshotBeforeUpdate=="function"&&(n.flags|=1024)):(typeof m.componentDidUpdate!="function"||S===e.memoizedProps&&L===e.memoizedState||(n.flags|=4),typeof m.getSnapshotBeforeUpdate!="function"||S===e.memoizedProps&&L===e.memoizedState||(n.flags|=1024),n.memoizedProps=s,n.memoizedState=V),m.props=s,m.state=V,m.context=A,s=B):(typeof m.componentDidUpdate!="function"||S===e.memoizedProps&&L===e.memoizedState||(n.flags|=4),typeof m.getSnapshotBeforeUpdate!="function"||S===e.memoizedProps&&L===e.memoizedState||(n.flags|=1024),s=!1)}return m=s,vs(e,n),s=(n.flags&128)!==0,m||s?(m=n.stateNode,o=s&&typeof o.getDerivedStateFromError!="function"?null:m.render(),n.flags|=1,e!==null&&s?(n.child=Ro(n,e.child,null,d),n.child=Ro(n,null,o,d)):xt(e,n,o,d),n.memoizedState=m.state,e=n.child):e=li(e,n,d),e}function Yd(e,n,o,s){return To(),n.flags|=256,xt(e,n,o,s),n.child}var Au={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function Ru(e){return{baseLanes:e,cachePool:Lf()}}function xu(e,n,o){return e=e!==null?e.childLanes&~o:0,n&&(e|=sn),e}function Jd(e,n,o){var s=n.pendingProps,d=!1,m=(n.flags&128)!==0,S;if((S=m)||(S=e!==null&&e.memoizedState===null?!1:(mt.current&2)!==0),S&&(d=!0,n.flags&=-129),S=(n.flags&32)!==0,n.flags&=-33,e===null){if(Ve){if(d?Bi(n):ki(),(e=tt)?(e=ep(e,Tn),e=e!==null&&e.data!=="&"?e:null,e!==null&&(n.memoizedState={dehydrated:e,treeContext:Li!==null?{id:Bn,overflow:kn}:null,retryLane:536870912,hydrationErrors:null},o=Rf(e),o.return=n,n.child=o,At=n,tt=null)):e=null,e===null)throw qi(n);return rc(e)?n.lanes=32:n.lanes=536870912,null}var _=s.children;return s=s.fallback,d?(ki(),d=n.mode,_=Ts({mode:"hidden",children:_},d),s=vo(s,d,o,null),_.return=n,s.return=n,_.sibling=s,n.child=_,s=n.child,s.memoizedState=Ru(o),s.childLanes=xu(e,S,o),n.memoizedState=Au,sa(null,s)):(Bi(n),Mu(n,_))}var A=e.memoizedState;if(A!==null&&(_=A.dehydrated,_!==null)){if(m)n.flags&256?(Bi(n),n.flags&=-257,n=Nu(e,n,o)):n.memoizedState!==null?(ki(),n.child=e.child,n.flags|=128,n=null):(ki(),_=s.fallback,d=n.mode,s=Ts({mode:"visible",children:s.children},d),_=vo(_,d,o,null),_.flags|=2,s.return=n,_.return=n,s.sibling=_,n.child=s,Ro(n,e.child,null,o),s=n.child,s.memoizedState=Ru(o),s.childLanes=xu(e,S,o),n.memoizedState=Au,n=sa(null,s));else if(Bi(n),rc(_)){if(S=_.nextSibling&&_.nextSibling.dataset,S)var U=S.dgst;S=U,s=Error(a(419)),s.stack="",s.digest=S,Ql({value:s,source:null,stack:null}),n=Nu(e,n,o)}else if(yt||Qo(e,n,o,!1),S=(o&e.childLanes)!==0,yt||S){if(S=$e,S!==null&&(s=qa(S,o),s!==0&&s!==A.retryLane))throw A.retryLane=s,yo(e,s),Jt(S,e,s),_u;sc(_)||Ns(),n=Nu(e,n,o)}else sc(_)?(n.flags|=192,n.child=e.child,n=null):(e=A.treeContext,tt=En(_.nextSibling),At=n,Ve=!0,Pi=null,Tn=!1,e!==null&&Nf(n,e),n=Mu(n,s.children),n.flags|=4096);return n}return d?(ki(),_=s.fallback,d=n.mode,A=e.child,U=A.sibling,s=jn(A,{mode:"hidden",children:s.children}),s.subtreeFlags=A.subtreeFlags&65011712,U!==null?_=jn(U,_):(_=vo(_,d,o,null),_.flags|=2),_.return=n,s.return=n,s.sibling=_,n.child=s,sa(null,s),s=n.child,_=e.child.memoizedState,_===null?_=Ru(o):(d=_.cachePool,d!==null?(A=ht._currentValue,d=d.parent!==A?{parent:A,pool:A}:d):d=Lf(),_={baseLanes:_.baseLanes|o,cachePool:d}),s.memoizedState=_,s.childLanes=xu(e,S,o),n.memoizedState=Au,sa(e.child,s)):(Bi(n),o=e.child,e=o.sibling,o=jn(o,{mode:"visible",children:s.children}),o.return=n,o.sibling=null,e!==null&&(S=n.deletions,S===null?(n.deletions=[e],n.flags|=16):S.push(e)),n.child=o,n.memoizedState=null,o)}function Mu(e,n){return n=Ts({mode:"visible",children:n},e.mode),n.return=e,e.child=n}function Ts(e,n){return e=nn(22,e,null,n),e.lanes=0,e}function Nu(e,n,o){return Ro(n,e.child,null,o),e=Mu(n,n.pendingProps.children),e.flags|=2,n.memoizedState=null,e}function Xd(e,n,o){e.lanes|=n;var s=e.alternate;s!==null&&(s.lanes|=n),Fr(e.return,n,o)}function bu(e,n,o,s,d,m){var S=e.memoizedState;S===null?e.memoizedState={isBackwards:n,rendering:null,renderingStartTime:0,last:s,tail:o,tailMode:d,treeForkCount:m}:(S.isBackwards=n,S.rendering=null,S.renderingStartTime=0,S.last=s,S.tail=o,S.tailMode=d,S.treeForkCount=m)}function Kd(e,n,o){var s=n.pendingProps,d=s.revealOrder,m=s.tail;s=s.children;var S=mt.current,_=(S&2)!==0;if(_?(S=S&1|2,n.flags|=128):S&=1,ne(mt,S),xt(e,n,s,o),s=Ve?Kl:0,!_&&e!==null&&(e.flags&128)!==0)e:for(e=n.child;e!==null;){if(e.tag===13)e.memoizedState!==null&&Xd(e,o,n);else if(e.tag===19)Xd(e,o,n);else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===n)break e;for(;e.sibling===null;){if(e.return===null||e.return===n)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}switch(d){case"forwards":for(o=n.child,d=null;o!==null;)e=o.alternate,e!==null&&ss(e)===null&&(d=o),o=o.sibling;o=d,o===null?(d=n.child,n.child=null):(d=o.sibling,o.sibling=null),bu(n,!1,d,o,m,s);break;case"backwards":case"unstable_legacy-backwards":for(o=null,d=n.child,n.child=null;d!==null;){if(e=d.alternate,e!==null&&ss(e)===null){n.child=d;break}e=d.sibling,d.sibling=o,o=d,d=e}bu(n,!0,o,null,m,s);break;case"together":bu(n,!1,null,null,void 0,s);break;default:n.memoizedState=null}return n.child}function li(e,n,o){if(e!==null&&(n.dependencies=e.dependencies),Yi|=n.lanes,(o&n.childLanes)===0)if(e!==null){if(Qo(e,n,o,!1),(o&n.childLanes)===0)return null}else return null;if(e!==null&&n.child!==e.child)throw Error(a(153));if(n.child!==null){for(e=n.child,o=jn(e,e.pendingProps),n.child=o,o.return=n;e.sibling!==null;)e=e.sibling,o=o.sibling=jn(e,e.pendingProps),o.return=n;o.sibling=null}return n.child}function wu(e,n){return(e.lanes&n)!==0?!0:(e=e.dependencies,!!(e!==null&&ja(e)))}function Sy(e,n,o){switch(n.tag){case 3:at(n,n.stateNode.containerInfo),Gi(n,ht,e.memoizedState.cache),To();break;case 27:case 5:Rn(n);break;case 4:at(n,n.stateNode.containerInfo);break;case 10:Gi(n,n.type,n.memoizedProps.value);break;case 31:if(n.memoizedState!==null)return n.flags|=128,tu(n),null;break;case 13:var s=n.memoizedState;if(s!==null)return s.dehydrated!==null?(Bi(n),n.flags|=128,null):(o&n.child.childLanes)!==0?Jd(e,n,o):(Bi(n),e=li(e,n,o),e!==null?e.sibling:null);Bi(n);break;case 19:var d=(e.flags&128)!==0;if(s=(o&n.childLanes)!==0,s||(Qo(e,n,o,!1),s=(o&n.childLanes)!==0),d){if(s)return Kd(e,n,o);n.flags|=128}if(d=n.memoizedState,d!==null&&(d.rendering=null,d.tail=null,d.lastEffect=null),ne(mt,mt.current),s)break;return null;case 22:return n.lanes=0,zd(e,n,o,n.pendingProps);case 24:Gi(n,ht,e.memoizedState.cache)}return li(e,n,o)}function Qd(e,n,o){if(e!==null)if(e.memoizedProps!==n.pendingProps)yt=!0;else{if(!wu(e,o)&&(n.flags&128)===0)return yt=!1,Sy(e,n,o);yt=(e.flags&131072)!==0}else yt=!1,Ve&&(n.flags&1048576)!==0&&Mf(n,Kl,n.index);switch(n.lanes=0,n.tag){case 16:e:{var s=n.pendingProps;if(e=Co(n.elementType),n.type=e,typeof e=="function")Pr(e)?(s=Mo(e,s),n.tag=1,n=Od(null,n,e,s,o)):(n.tag=0,n=Cu(null,n,e,s,o));else{if(e!=null){var d=e.$$typeof;if(d===ee){n.tag=11,n=Gd(null,n,e,s,o);break e}else if(d===X){n.tag=14,n=Vd(null,n,e,s,o);break e}}throw n=qe(e)||e,Error(a(306,n,""))}}return n;case 0:return Cu(e,n,n.type,n.pendingProps,o);case 1:return s=n.type,d=Mo(s,n.pendingProps),Od(e,n,s,d,o);case 3:e:{if(at(n,n.stateNode.containerInfo),e===null)throw Error(a(387));s=n.pendingProps;var m=n.memoizedState;d=m.element,Zr(e,n),na(n,s,null,o);var S=n.memoizedState;if(s=S.cache,Gi(n,ht,s),s!==m.cache&&Or(n,[ht],o,!0),ta(),s=S.element,m.isDehydrated)if(m={element:s,isDehydrated:!1,cache:S.cache},n.updateQueue.baseState=m,n.memoizedState=m,n.flags&256){n=Yd(e,n,s,o);break e}else if(s!==d){d=gn(Error(a(424)),n),Ql(d),n=Yd(e,n,s,o);break e}else{switch(e=n.stateNode.containerInfo,e.nodeType){case 9:e=e.body;break;default:e=e.nodeName==="HTML"?e.ownerDocument.body:e}for(tt=En(e.firstChild),At=n,Ve=!0,Pi=null,Tn=!0,o=zf(n,null,s,o),n.child=o;o;)o.flags=o.flags&-3|4096,o=o.sibling}else{if(To(),s===d){n=li(e,n,o);break e}xt(e,n,s,o)}n=n.child}return n;case 26:return vs(e,n),e===null?(o=ap(n.type,null,n.pendingProps,null))?n.memoizedState=o:Ve||(o=n.type,e=n.pendingProps,s=Ps(xe.current).createElement(o),s[rt]=n,s[Tt]=e,Mt(s,o,e),et(s),n.stateNode=s):n.memoizedState=ap(n.type,e.memoizedProps,n.pendingProps,e.memoizedState),null;case 27:return Rn(n),e===null&&Ve&&(s=n.stateNode=ip(n.type,n.pendingProps,xe.current),At=n,Tn=!0,d=tt,Zi(n.type)?(uc=d,tt=En(s.firstChild)):tt=d),xt(e,n,n.pendingProps.children,o),vs(e,n),e===null&&(n.flags|=4194304),n.child;case 5:return e===null&&Ve&&((d=s=tt)&&(s=Zy(s,n.type,n.pendingProps,Tn),s!==null?(n.stateNode=s,At=n,tt=En(s.firstChild),Tn=!1,d=!0):d=!1),d||qi(n)),Rn(n),d=n.type,m=n.pendingProps,S=e!==null?e.memoizedProps:null,s=m.children,oc(d,m)?s=null:S!==null&&oc(d,S)&&(n.flags|=32),n.memoizedState!==null&&(d=iu(e,n,fy,null,null,o),_a._currentValue=d),vs(e,n),xt(e,n,s,o),n.child;case 6:return e===null&&Ve&&((e=o=tt)&&(o=$y(o,n.pendingProps,Tn),o!==null?(n.stateNode=o,At=n,tt=null,e=!0):e=!1),e||qi(n)),null;case 13:return Jd(e,n,o);case 4:return at(n,n.stateNode.containerInfo),s=n.pendingProps,e===null?n.child=Ro(n,null,s,o):xt(e,n,s,o),n.child;case 11:return Gd(e,n,n.type,n.pendingProps,o);case 7:return xt(e,n,n.pendingProps,o),n.child;case 8:return xt(e,n,n.pendingProps.children,o),n.child;case 12:return xt(e,n,n.pendingProps.children,o),n.child;case 10:return s=n.pendingProps,Gi(n,n.type,s.value),xt(e,n,s.children,o),n.child;case 9:return d=n.type._context,s=n.pendingProps.children,Eo(n),d=Rt(d),s=s(d),n.flags|=1,xt(e,n,s,o),n.child;case 14:return Vd(e,n,n.type,n.pendingProps,o);case 15:return Hd(e,n,n.type,n.pendingProps,o);case 19:return Kd(e,n,o);case 31:return Ty(e,n,o);case 22:return zd(e,n,o,n.pendingProps);case 24:return Eo(n),s=Rt(ht),e===null?(d=Xr(),d===null&&(d=$e,m=Yr(),d.pooledCache=m,m.refCount++,m!==null&&(d.pooledCacheLanes|=o),d=m),n.memoizedState={parent:s,cache:d},Qr(n),Gi(n,ht,d)):((e.lanes&o)!==0&&(Zr(e,n),na(n,null,null,o),ta()),d=e.memoizedState,m=n.memoizedState,d.parent!==s?(d={parent:s,cache:s},n.memoizedState=d,n.lanes===0&&(n.memoizedState=n.updateQueue.baseState=d),Gi(n,ht,s)):(s=m.cache,Gi(n,ht,s),s!==d.cache&&Or(n,[ht],o,!0))),xt(e,n,n.pendingProps.children,o),n.child;case 29:throw n.pendingProps}throw Error(a(156,n.tag))}function ai(e){e.flags|=4}function Du(e,n,o,s,d){if((n=(e.mode&32)!==0)&&(n=!1),n){if(e.flags|=16777216,(d&335544128)===d)if(e.stateNode.complete)e.flags|=8192;else if(_m())e.flags|=8192;else throw Ao=is,Kr}else e.flags&=-16777217}function Zd(e,n){if(n.type!=="stylesheet"||(n.state.loading&4)!==0)e.flags&=-16777217;else if(e.flags|=16777216,!fp(n))if(_m())e.flags|=8192;else throw Ao=is,Kr}function Ss(e,n){n!==null&&(e.flags|=4),e.flags&16384&&(n=e.tag!==22?Ti():536870912,e.lanes|=n,sl|=n)}function ra(e,n){if(!Ve)switch(e.tailMode){case"hidden":n=e.tail;for(var o=null;n!==null;)n.alternate!==null&&(o=n),n=n.sibling;o===null?e.tail=null:o.sibling=null;break;case"collapsed":o=e.tail;for(var s=null;o!==null;)o.alternate!==null&&(s=o),o=o.sibling;s===null?n||e.tail===null?e.tail=null:e.tail.sibling=null:s.sibling=null}}function nt(e){var n=e.alternate!==null&&e.alternate.child===e.child,o=0,s=0;if(n)for(var d=e.child;d!==null;)o|=d.lanes|d.childLanes,s|=d.subtreeFlags&65011712,s|=d.flags&65011712,d.return=e,d=d.sibling;else for(d=e.child;d!==null;)o|=d.lanes|d.childLanes,s|=d.subtreeFlags,s|=d.flags,d.return=e,d=d.sibling;return e.subtreeFlags|=s,e.childLanes=o,n}function Ey(e,n,o){var s=n.pendingProps;switch(Hr(n),n.tag){case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return nt(n),null;case 1:return nt(n),null;case 3:return o=n.stateNode,s=null,e!==null&&(s=e.memoizedState.cache),n.memoizedState.cache!==s&&(n.flags|=2048),ni(ht),We(),o.pendingContext&&(o.context=o.pendingContext,o.pendingContext=null),(e===null||e.child===null)&&(Ko(n)?ai(n):e===null||e.memoizedState.isDehydrated&&(n.flags&256)===0||(n.flags|=1024,Br())),nt(n),null;case 26:var d=n.type,m=n.memoizedState;return e===null?(ai(n),m!==null?(nt(n),Zd(n,m)):(nt(n),Du(n,d,null,s,o))):m?m!==e.memoizedState?(ai(n),nt(n),Zd(n,m)):(nt(n),n.flags&=-16777217):(e=e.memoizedProps,e!==s&&ai(n),nt(n),Du(n,d,e,s,o)),null;case 27:if(cn(n),o=xe.current,d=n.type,e!==null&&n.stateNode!=null)e.memoizedProps!==s&&ai(n);else{if(!s){if(n.stateNode===null)throw Error(a(166));return nt(n),null}e=ae.current,Ko(n)?bf(n):(e=ip(d,s,o),n.stateNode=e,ai(n))}return nt(n),null;case 5:if(cn(n),d=n.type,e!==null&&n.stateNode!=null)e.memoizedProps!==s&&ai(n);else{if(!s){if(n.stateNode===null)throw Error(a(166));return nt(n),null}if(m=ae.current,Ko(n))bf(n);else{var S=Ps(xe.current);switch(m){case 1:m=S.createElementNS("http://www.w3.org/2000/svg",d);break;case 2:m=S.createElementNS("http://www.w3.org/1998/Math/MathML",d);break;default:switch(d){case"svg":m=S.createElementNS("http://www.w3.org/2000/svg",d);break;case"math":m=S.createElementNS("http://www.w3.org/1998/Math/MathML",d);break;case"script":m=S.createElement("div"),m.innerHTML="<script><\/script>",m=m.removeChild(m.firstChild);break;case"select":m=typeof s.is=="string"?S.createElement("select",{is:s.is}):S.createElement("select"),s.multiple?m.multiple=!0:s.size&&(m.size=s.size);break;default:m=typeof s.is=="string"?S.createElement(d,{is:s.is}):S.createElement(d)}}m[rt]=n,m[Tt]=s;e:for(S=n.child;S!==null;){if(S.tag===5||S.tag===6)m.appendChild(S.stateNode);else if(S.tag!==4&&S.tag!==27&&S.child!==null){S.child.return=S,S=S.child;continue}if(S===n)break e;for(;S.sibling===null;){if(S.return===null||S.return===n)break e;S=S.return}S.sibling.return=S.return,S=S.sibling}n.stateNode=m;e:switch(Mt(m,d,s),d){case"button":case"input":case"select":case"textarea":s=!!s.autoFocus;break e;case"img":s=!0;break e;default:s=!1}s&&ai(n)}}return nt(n),Du(n,n.type,e===null?null:e.memoizedProps,n.pendingProps,o),null;case 6:if(e&&n.stateNode!=null)e.memoizedProps!==s&&ai(n);else{if(typeof s!="string"&&n.stateNode===null)throw Error(a(166));if(e=xe.current,Ko(n)){if(e=n.stateNode,o=n.memoizedProps,s=null,d=At,d!==null)switch(d.tag){case 27:case 5:s=d.memoizedProps}e[rt]=n,e=!!(e.nodeValue===o||s!==null&&s.suppressHydrationWarning===!0||Jm(e.nodeValue,o)),e||qi(n,!0)}else e=Ps(e).createTextNode(s),e[rt]=n,n.stateNode=e}return nt(n),null;case 31:if(o=n.memoizedState,e===null||e.memoizedState!==null){if(s=Ko(n),o!==null){if(e===null){if(!s)throw Error(a(318));if(e=n.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(a(557));e[rt]=n}else To(),(n.flags&128)===0&&(n.memoizedState=null),n.flags|=4;nt(n),e=!1}else o=Br(),e!==null&&e.memoizedState!==null&&(e.memoizedState.hydrationErrors=o),e=!0;if(!e)return n.flags&256?(ln(n),n):(ln(n),null);if((n.flags&128)!==0)throw Error(a(558))}return nt(n),null;case 13:if(s=n.memoizedState,e===null||e.memoizedState!==null&&e.memoizedState.dehydrated!==null){if(d=Ko(n),s!==null&&s.dehydrated!==null){if(e===null){if(!d)throw Error(a(318));if(d=n.memoizedState,d=d!==null?d.dehydrated:null,!d)throw Error(a(317));d[rt]=n}else To(),(n.flags&128)===0&&(n.memoizedState=null),n.flags|=4;nt(n),d=!1}else d=Br(),e!==null&&e.memoizedState!==null&&(e.memoizedState.hydrationErrors=d),d=!0;if(!d)return n.flags&256?(ln(n),n):(ln(n),null)}return ln(n),(n.flags&128)!==0?(n.lanes=o,n):(o=s!==null,e=e!==null&&e.memoizedState!==null,o&&(s=n.child,d=null,s.alternate!==null&&s.alternate.memoizedState!==null&&s.alternate.memoizedState.cachePool!==null&&(d=s.alternate.memoizedState.cachePool.pool),m=null,s.memoizedState!==null&&s.memoizedState.cachePool!==null&&(m=s.memoizedState.cachePool.pool),m!==d&&(s.flags|=2048)),o!==e&&o&&(n.child.flags|=8192),Ss(n,n.updateQueue),nt(n),null);case 4:return We(),e===null&&ju(n.stateNode.containerInfo),nt(n),null;case 10:return ni(n.type),nt(n),null;case 19:if(O(mt),s=n.memoizedState,s===null)return nt(n),null;if(d=(n.flags&128)!==0,m=s.rendering,m===null)if(d)ra(s,!1);else{if(ct!==0||e!==null&&(e.flags&128)!==0)for(e=n.child;e!==null;){if(m=ss(e),m!==null){for(n.flags|=128,ra(s,!1),e=m.updateQueue,n.updateQueue=e,Ss(n,e),n.subtreeFlags=0,e=o,o=n.child;o!==null;)Af(o,e),o=o.sibling;return ne(mt,mt.current&1|2),Ve&&ei(n,s.treeForkCount),n.child}e=e.sibling}s.tail!==null&&qt()>Rs&&(n.flags|=128,d=!0,ra(s,!1),n.lanes=4194304)}else{if(!d)if(e=ss(m),e!==null){if(n.flags|=128,d=!0,e=e.updateQueue,n.updateQueue=e,Ss(n,e),ra(s,!0),s.tail===null&&s.tailMode==="hidden"&&!m.alternate&&!Ve)return nt(n),null}else 2*qt()-s.renderingStartTime>Rs&&o!==536870912&&(n.flags|=128,d=!0,ra(s,!1),n.lanes=4194304);s.isBackwards?(m.sibling=n.child,n.child=m):(e=s.last,e!==null?e.sibling=m:n.child=m,s.last=m)}return s.tail!==null?(e=s.tail,s.rendering=e,s.tail=e.sibling,s.renderingStartTime=qt(),e.sibling=null,o=mt.current,ne(mt,d?o&1|2:o&1),Ve&&ei(n,s.treeForkCount),e):(nt(n),null);case 22:case 23:return ln(n),eu(),s=n.memoizedState!==null,e!==null?e.memoizedState!==null!==s&&(n.flags|=8192):s&&(n.flags|=8192),s?(o&536870912)!==0&&(n.flags&128)===0&&(nt(n),n.subtreeFlags&6&&(n.flags|=8192)):nt(n),o=n.updateQueue,o!==null&&Ss(n,o.retryQueue),o=null,e!==null&&e.memoizedState!==null&&e.memoizedState.cachePool!==null&&(o=e.memoizedState.cachePool.pool),s=null,n.memoizedState!==null&&n.memoizedState.cachePool!==null&&(s=n.memoizedState.cachePool.pool),s!==o&&(n.flags|=2048),e!==null&&O(_o),null;case 24:return o=null,e!==null&&(o=e.memoizedState.cache),n.memoizedState.cache!==o&&(n.flags|=2048),ni(ht),nt(n),null;case 25:return null;case 30:return null}throw Error(a(156,n.tag))}function _y(e,n){switch(Hr(n),n.tag){case 1:return e=n.flags,e&65536?(n.flags=e&-65537|128,n):null;case 3:return ni(ht),We(),e=n.flags,(e&65536)!==0&&(e&128)===0?(n.flags=e&-65537|128,n):null;case 26:case 27:case 5:return cn(n),null;case 31:if(n.memoizedState!==null){if(ln(n),n.alternate===null)throw Error(a(340));To()}return e=n.flags,e&65536?(n.flags=e&-65537|128,n):null;case 13:if(ln(n),e=n.memoizedState,e!==null&&e.dehydrated!==null){if(n.alternate===null)throw Error(a(340));To()}return e=n.flags,e&65536?(n.flags=e&-65537|128,n):null;case 19:return O(mt),null;case 4:return We(),null;case 10:return ni(n.type),null;case 22:case 23:return ln(n),eu(),e!==null&&O(_o),e=n.flags,e&65536?(n.flags=e&-65537|128,n):null;case 24:return ni(ht),null;case 25:return null;default:return null}}function $d(e,n){switch(Hr(n),n.tag){case 3:ni(ht),We();break;case 26:case 27:case 5:cn(n);break;case 4:We();break;case 31:n.memoizedState!==null&&ln(n);break;case 13:ln(n);break;case 19:O(mt);break;case 10:ni(n.type);break;case 22:case 23:ln(n),eu(),e!==null&&O(_o);break;case 24:ni(ht)}}function ua(e,n){try{var o=n.updateQueue,s=o!==null?o.lastEffect:null;if(s!==null){var d=s.next;o=d;do{if((o.tag&e)===e){s=void 0;var m=o.create,S=o.inst;s=m(),S.destroy=s}o=o.next}while(o!==d)}}catch(_){Je(n,n.return,_)}}function Fi(e,n,o){try{var s=n.updateQueue,d=s!==null?s.lastEffect:null;if(d!==null){var m=d.next;s=m;do{if((s.tag&e)===e){var S=s.inst,_=S.destroy;if(_!==void 0){S.destroy=void 0,d=n;var A=o,U=_;try{U()}catch(B){Je(d,A,B)}}}s=s.next}while(s!==m)}}catch(B){Je(n,n.return,B)}}function Wd(e){var n=e.updateQueue;if(n!==null){var o=e.stateNode;try{kf(n,o)}catch(s){Je(e,e.return,s)}}}function jd(e,n,o){o.props=Mo(e.type,e.memoizedProps),o.state=e.memoizedState;try{o.componentWillUnmount()}catch(s){Je(e,n,s)}}function ca(e,n){try{var o=e.ref;if(o!==null){switch(e.tag){case 26:case 27:case 5:var s=e.stateNode;break;case 30:s=e.stateNode;break;default:s=e.stateNode}typeof o=="function"?e.refCleanup=o(s):o.current=s}}catch(d){Je(e,n,d)}}function Fn(e,n){var o=e.ref,s=e.refCleanup;if(o!==null)if(typeof s=="function")try{s()}catch(d){Je(e,n,d)}finally{e.refCleanup=null,e=e.alternate,e!=null&&(e.refCleanup=null)}else if(typeof o=="function")try{o(null)}catch(d){Je(e,n,d)}else o.current=null}function em(e){var n=e.type,o=e.memoizedProps,s=e.stateNode;try{e:switch(n){case"button":case"input":case"select":case"textarea":o.autoFocus&&s.focus();break e;case"img":o.src?s.src=o.src:o.srcSet&&(s.srcset=o.srcSet)}}catch(d){Je(e,e.return,d)}}function Iu(e,n,o){try{var s=e.stateNode;Oy(s,e.type,o,n),s[Tt]=n}catch(d){Je(e,e.return,d)}}function tm(e){return e.tag===5||e.tag===3||e.tag===26||e.tag===27&&Zi(e.type)||e.tag===4}function Uu(e){e:for(;;){for(;e.sibling===null;){if(e.return===null||tm(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;e.tag!==5&&e.tag!==6&&e.tag!==18;){if(e.tag===27&&Zi(e.type)||e.flags&2||e.child===null||e.tag===4)continue e;e.child.return=e,e=e.child}if(!(e.flags&2))return e.stateNode}}function Lu(e,n,o){var s=e.tag;if(s===5||s===6)e=e.stateNode,n?(o.nodeType===9?o.body:o.nodeName==="HTML"?o.ownerDocument.body:o).insertBefore(e,n):(n=o.nodeType===9?o.body:o.nodeName==="HTML"?o.ownerDocument.body:o,n.appendChild(e),o=o._reactRootContainer,o!=null||n.onclick!==null||(n.onclick=k));else if(s!==4&&(s===27&&Zi(e.type)&&(o=e.stateNode,n=null),e=e.child,e!==null))for(Lu(e,n,o),e=e.sibling;e!==null;)Lu(e,n,o),e=e.sibling}function Es(e,n,o){var s=e.tag;if(s===5||s===6)e=e.stateNode,n?o.insertBefore(e,n):o.appendChild(e);else if(s!==4&&(s===27&&Zi(e.type)&&(o=e.stateNode),e=e.child,e!==null))for(Es(e,n,o),e=e.sibling;e!==null;)Es(e,n,o),e=e.sibling}function nm(e){var n=e.stateNode,o=e.memoizedProps;try{for(var s=e.type,d=n.attributes;d.length;)n.removeAttributeNode(d[0]);Mt(n,s,o),n[rt]=e,n[Tt]=o}catch(m){Je(e,e.return,m)}}var si=!1,vt=!1,Pu=!1,im=typeof WeakSet=="function"?WeakSet:Set,Ct=null;function Cy(e,n){if(e=e.containerInfo,nc=ks,e=hf(e),Nr(e)){if("selectionStart"in e)var o={start:e.selectionStart,end:e.selectionEnd};else e:{o=(o=e.ownerDocument)&&o.defaultView||window;var s=o.getSelection&&o.getSelection();if(s&&s.rangeCount!==0){o=s.anchorNode;var d=s.anchorOffset,m=s.focusNode;s=s.focusOffset;try{o.nodeType,m.nodeType}catch{o=null;break e}var S=0,_=-1,A=-1,U=0,B=0,Y=e,L=null;t:for(;;){for(var V;Y!==o||d!==0&&Y.nodeType!==3||(_=S+d),Y!==m||s!==0&&Y.nodeType!==3||(A=S+s),Y.nodeType===3&&(S+=Y.nodeValue.length),(V=Y.firstChild)!==null;)L=Y,Y=V;for(;;){if(Y===e)break t;if(L===o&&++U===d&&(_=S),L===m&&++B===s&&(A=S),(V=Y.nextSibling)!==null)break;Y=L,L=Y.parentNode}Y=V}o=_===-1||A===-1?null:{start:_,end:A}}else o=null}o=o||{start:0,end:0}}else o=null;for(ic={focusedElem:e,selectionRange:o},ks=!1,Ct=n;Ct!==null;)if(n=Ct,e=n.child,(n.subtreeFlags&1028)!==0&&e!==null)e.return=n,Ct=e;else for(;Ct!==null;){switch(n=Ct,m=n.alternate,e=n.flags,n.tag){case 0:if((e&4)!==0&&(e=n.updateQueue,e=e!==null?e.events:null,e!==null))for(o=0;o<e.length;o++)d=e[o],d.ref.impl=d.nextImpl;break;case 11:case 15:break;case 1:if((e&1024)!==0&&m!==null){e=void 0,o=n,d=m.memoizedProps,m=m.memoizedState,s=o.stateNode;try{var ue=Mo(o.type,d);e=s.getSnapshotBeforeUpdate(ue,m),s.__reactInternalSnapshotBeforeUpdate=e}catch(ve){Je(o,o.return,ve)}}break;case 3:if((e&1024)!==0){if(e=n.stateNode.containerInfo,o=e.nodeType,o===9)ac(e);else if(o===1)switch(e.nodeName){case"HEAD":case"HTML":case"BODY":ac(e);break;default:e.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((e&1024)!==0)throw Error(a(163))}if(e=n.sibling,e!==null){e.return=n.return,Ct=e;break}Ct=n.return}}function om(e,n,o){var s=o.flags;switch(o.tag){case 0:case 11:case 15:ui(e,o),s&4&&ua(5,o);break;case 1:if(ui(e,o),s&4)if(e=o.stateNode,n===null)try{e.componentDidMount()}catch(S){Je(o,o.return,S)}else{var d=Mo(o.type,n.memoizedProps);n=n.memoizedState;try{e.componentDidUpdate(d,n,e.__reactInternalSnapshotBeforeUpdate)}catch(S){Je(o,o.return,S)}}s&64&&Wd(o),s&512&&ca(o,o.return);break;case 3:if(ui(e,o),s&64&&(e=o.updateQueue,e!==null)){if(n=null,o.child!==null)switch(o.child.tag){case 27:case 5:n=o.child.stateNode;break;case 1:n=o.child.stateNode}try{kf(e,n)}catch(S){Je(o,o.return,S)}}break;case 27:n===null&&s&4&&nm(o);case 26:case 5:ui(e,o),n===null&&s&4&&em(o),s&512&&ca(o,o.return);break;case 12:ui(e,o);break;case 31:ui(e,o),s&4&&sm(e,o);break;case 13:ui(e,o),s&4&&rm(e,o),s&64&&(e=o.memoizedState,e!==null&&(e=e.dehydrated,e!==null&&(o=Iy.bind(null,o),Wy(e,o))));break;case 22:if(s=o.memoizedState!==null||si,!s){n=n!==null&&n.memoizedState!==null||vt,d=si;var m=vt;si=s,(vt=n)&&!m?ci(e,o,(o.subtreeFlags&8772)!==0):ui(e,o),si=d,vt=m}break;case 30:break;default:ui(e,o)}}function lm(e){var n=e.alternate;n!==null&&(e.alternate=null,lm(n)),e.child=null,e.deletions=null,e.sibling=null,e.tag===5&&(n=e.stateNode,n!==null&&Il(n)),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}var lt=null,kt=!1;function ri(e,n,o){for(o=o.child;o!==null;)am(e,n,o),o=o.sibling}function am(e,n,o){if(Lt&&typeof Lt.onCommitFiberUnmount=="function")try{Lt.onCommitFiberUnmount(bt,o)}catch{}switch(o.tag){case 26:vt||Fn(o,n),ri(e,n,o),o.memoizedState?o.memoizedState.count--:o.stateNode&&(o=o.stateNode,o.parentNode.removeChild(o));break;case 27:vt||Fn(o,n);var s=lt,d=kt;Zi(o.type)&&(lt=o.stateNode,kt=!1),ri(e,n,o),Ta(o.stateNode),lt=s,kt=d;break;case 5:vt||Fn(o,n);case 6:if(s=lt,d=kt,lt=null,ri(e,n,o),lt=s,kt=d,lt!==null)if(kt)try{(lt.nodeType===9?lt.body:lt.nodeName==="HTML"?lt.ownerDocument.body:lt).removeChild(o.stateNode)}catch(m){Je(o,n,m)}else try{lt.removeChild(o.stateNode)}catch(m){Je(o,n,m)}break;case 18:lt!==null&&(kt?(e=lt,Wm(e.nodeType===9?e.body:e.nodeName==="HTML"?e.ownerDocument.body:e,o.stateNode),hl(e)):Wm(lt,o.stateNode));break;case 4:s=lt,d=kt,lt=o.stateNode.containerInfo,kt=!0,ri(e,n,o),lt=s,kt=d;break;case 0:case 11:case 14:case 15:Fi(2,o,n),vt||Fi(4,o,n),ri(e,n,o);break;case 1:vt||(Fn(o,n),s=o.stateNode,typeof s.componentWillUnmount=="function"&&jd(o,n,s)),ri(e,n,o);break;case 21:ri(e,n,o);break;case 22:vt=(s=vt)||o.memoizedState!==null,ri(e,n,o),vt=s;break;default:ri(e,n,o)}}function sm(e,n){if(n.memoizedState===null&&(e=n.alternate,e!==null&&(e=e.memoizedState,e!==null))){e=e.dehydrated;try{hl(e)}catch(o){Je(n,n.return,o)}}}function rm(e,n){if(n.memoizedState===null&&(e=n.alternate,e!==null&&(e=e.memoizedState,e!==null&&(e=e.dehydrated,e!==null))))try{hl(e)}catch(o){Je(n,n.return,o)}}function Ay(e){switch(e.tag){case 31:case 13:case 19:var n=e.stateNode;return n===null&&(n=e.stateNode=new im),n;case 22:return e=e.stateNode,n=e._retryCache,n===null&&(n=e._retryCache=new im),n;default:throw Error(a(435,e.tag))}}function _s(e,n){var o=Ay(e);n.forEach(function(s){if(!o.has(s)){o.add(s);var d=Uy.bind(null,e,s);s.then(d,d)}})}function Ft(e,n){var o=n.deletions;if(o!==null)for(var s=0;s<o.length;s++){var d=o[s],m=e,S=n,_=S;e:for(;_!==null;){switch(_.tag){case 27:if(Zi(_.type)){lt=_.stateNode,kt=!1;break e}break;case 5:lt=_.stateNode,kt=!1;break e;case 3:case 4:lt=_.stateNode.containerInfo,kt=!0;break e}_=_.return}if(lt===null)throw Error(a(160));am(m,S,d),lt=null,kt=!1,m=d.alternate,m!==null&&(m.return=null),d.return=null}if(n.subtreeFlags&13886)for(n=n.child;n!==null;)um(n,e),n=n.sibling}var Dn=null;function um(e,n){var o=e.alternate,s=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:Ft(n,e),Ot(e),s&4&&(Fi(3,e,e.return),ua(3,e),Fi(5,e,e.return));break;case 1:Ft(n,e),Ot(e),s&512&&(vt||o===null||Fn(o,o.return)),s&64&&si&&(e=e.updateQueue,e!==null&&(s=e.callbacks,s!==null&&(o=e.shared.hiddenCallbacks,e.shared.hiddenCallbacks=o===null?s:o.concat(s))));break;case 26:var d=Dn;if(Ft(n,e),Ot(e),s&512&&(vt||o===null||Fn(o,o.return)),s&4){var m=o!==null?o.memoizedState:null;if(s=e.memoizedState,o===null)if(s===null)if(e.stateNode===null){e:{s=e.type,o=e.memoizedProps,d=d.ownerDocument||d;t:switch(s){case"title":m=d.getElementsByTagName("title")[0],(!m||m[Ei]||m[rt]||m.namespaceURI==="http://www.w3.org/2000/svg"||m.hasAttribute("itemprop"))&&(m=d.createElement(s),d.head.insertBefore(m,d.querySelector("head > title"))),Mt(m,s,o),m[rt]=e,et(m),s=m;break e;case"link":var S=up("link","href",d).get(s+(o.href||""));if(S){for(var _=0;_<S.length;_++)if(m=S[_],m.getAttribute("href")===(o.href==null||o.href===""?null:o.href)&&m.getAttribute("rel")===(o.rel==null?null:o.rel)&&m.getAttribute("title")===(o.title==null?null:o.title)&&m.getAttribute("crossorigin")===(o.crossOrigin==null?null:o.crossOrigin)){S.splice(_,1);break t}}m=d.createElement(s),Mt(m,s,o),d.head.appendChild(m);break;case"meta":if(S=up("meta","content",d).get(s+(o.content||""))){for(_=0;_<S.length;_++)if(m=S[_],m.getAttribute("content")===(o.content==null?null:""+o.content)&&m.getAttribute("name")===(o.name==null?null:o.name)&&m.getAttribute("property")===(o.property==null?null:o.property)&&m.getAttribute("http-equiv")===(o.httpEquiv==null?null:o.httpEquiv)&&m.getAttribute("charset")===(o.charSet==null?null:o.charSet)){S.splice(_,1);break t}}m=d.createElement(s),Mt(m,s,o),d.head.appendChild(m);break;default:throw Error(a(468,s))}m[rt]=e,et(m),s=m}e.stateNode=s}else cp(d,e.type,e.stateNode);else e.stateNode=rp(d,s,e.memoizedProps);else m!==s?(m===null?o.stateNode!==null&&(o=o.stateNode,o.parentNode.removeChild(o)):m.count--,s===null?cp(d,e.type,e.stateNode):rp(d,s,e.memoizedProps)):s===null&&e.stateNode!==null&&Iu(e,e.memoizedProps,o.memoizedProps)}break;case 27:Ft(n,e),Ot(e),s&512&&(vt||o===null||Fn(o,o.return)),o!==null&&s&4&&Iu(e,e.memoizedProps,o.memoizedProps);break;case 5:if(Ft(n,e),Ot(e),s&512&&(vt||o===null||Fn(o,o.return)),e.flags&32){d=e.stateNode;try{Mi(d,"")}catch(ue){Je(e,e.return,ue)}}s&4&&e.stateNode!=null&&(d=e.memoizedProps,Iu(e,d,o!==null?o.memoizedProps:d)),s&1024&&(Pu=!0);break;case 6:if(Ft(n,e),Ot(e),s&4){if(e.stateNode===null)throw Error(a(162));s=e.memoizedProps,o=e.stateNode;try{o.nodeValue=s}catch(ue){Je(e,e.return,ue)}}break;case 3:if(Vs=null,d=Dn,Dn=qs(n.containerInfo),Ft(n,e),Dn=d,Ot(e),s&4&&o!==null&&o.memoizedState.isDehydrated)try{hl(n.containerInfo)}catch(ue){Je(e,e.return,ue)}Pu&&(Pu=!1,cm(e));break;case 4:s=Dn,Dn=qs(e.stateNode.containerInfo),Ft(n,e),Ot(e),Dn=s;break;case 12:Ft(n,e),Ot(e);break;case 31:Ft(n,e),Ot(e),s&4&&(s=e.updateQueue,s!==null&&(e.updateQueue=null,_s(e,s)));break;case 13:Ft(n,e),Ot(e),e.child.flags&8192&&e.memoizedState!==null!=(o!==null&&o.memoizedState!==null)&&(As=qt()),s&4&&(s=e.updateQueue,s!==null&&(e.updateQueue=null,_s(e,s)));break;case 22:d=e.memoizedState!==null;var A=o!==null&&o.memoizedState!==null,U=si,B=vt;if(si=U||d,vt=B||A,Ft(n,e),vt=B,si=U,Ot(e),s&8192)e:for(n=e.stateNode,n._visibility=d?n._visibility&-2:n._visibility|1,d&&(o===null||A||si||vt||No(e)),o=null,n=e;;){if(n.tag===5||n.tag===26){if(o===null){A=o=n;try{if(m=A.stateNode,d)S=m.style,typeof S.setProperty=="function"?S.setProperty("display","none","important"):S.display="none";else{_=A.stateNode;var Y=A.memoizedProps.style,L=Y!=null&&Y.hasOwnProperty("display")?Y.display:null;_.style.display=L==null||typeof L=="boolean"?"":(""+L).trim()}}catch(ue){Je(A,A.return,ue)}}}else if(n.tag===6){if(o===null){A=n;try{A.stateNode.nodeValue=d?"":A.memoizedProps}catch(ue){Je(A,A.return,ue)}}}else if(n.tag===18){if(o===null){A=n;try{var V=A.stateNode;d?jm(V,!0):jm(A.stateNode,!1)}catch(ue){Je(A,A.return,ue)}}}else if((n.tag!==22&&n.tag!==23||n.memoizedState===null||n===e)&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===e)break e;for(;n.sibling===null;){if(n.return===null||n.return===e)break e;o===n&&(o=null),n=n.return}o===n&&(o=null),n.sibling.return=n.return,n=n.sibling}s&4&&(s=e.updateQueue,s!==null&&(o=s.retryQueue,o!==null&&(s.retryQueue=null,_s(e,o))));break;case 19:Ft(n,e),Ot(e),s&4&&(s=e.updateQueue,s!==null&&(e.updateQueue=null,_s(e,s)));break;case 30:break;case 21:break;default:Ft(n,e),Ot(e)}}function Ot(e){var n=e.flags;if(n&2){try{for(var o,s=e.return;s!==null;){if(tm(s)){o=s;break}s=s.return}if(o==null)throw Error(a(160));switch(o.tag){case 27:var d=o.stateNode,m=Uu(e);Es(e,m,d);break;case 5:var S=o.stateNode;o.flags&32&&(Mi(S,""),o.flags&=-33);var _=Uu(e);Es(e,_,S);break;case 3:case 4:var A=o.stateNode.containerInfo,U=Uu(e);Lu(e,U,A);break;default:throw Error(a(161))}}catch(B){Je(e,e.return,B)}e.flags&=-3}n&4096&&(e.flags&=-4097)}function cm(e){if(e.subtreeFlags&1024)for(e=e.child;e!==null;){var n=e;cm(n),n.tag===5&&n.flags&1024&&n.stateNode.reset(),e=e.sibling}}function ui(e,n){if(n.subtreeFlags&8772)for(n=n.child;n!==null;)om(e,n.alternate,n),n=n.sibling}function No(e){for(e=e.child;e!==null;){var n=e;switch(n.tag){case 0:case 11:case 14:case 15:Fi(4,n,n.return),No(n);break;case 1:Fn(n,n.return);var o=n.stateNode;typeof o.componentWillUnmount=="function"&&jd(n,n.return,o),No(n);break;case 27:Ta(n.stateNode);case 26:case 5:Fn(n,n.return),No(n);break;case 22:n.memoizedState===null&&No(n);break;case 30:No(n);break;default:No(n)}e=e.sibling}}function ci(e,n,o){for(o=o&&(n.subtreeFlags&8772)!==0,n=n.child;n!==null;){var s=n.alternate,d=e,m=n,S=m.flags;switch(m.tag){case 0:case 11:case 15:ci(d,m,o),ua(4,m);break;case 1:if(ci(d,m,o),s=m,d=s.stateNode,typeof d.componentDidMount=="function")try{d.componentDidMount()}catch(U){Je(s,s.return,U)}if(s=m,d=s.updateQueue,d!==null){var _=s.stateNode;try{var A=d.shared.hiddenCallbacks;if(A!==null)for(d.shared.hiddenCallbacks=null,d=0;d<A.length;d++)Bf(A[d],_)}catch(U){Je(s,s.return,U)}}o&&S&64&&Wd(m),ca(m,m.return);break;case 27:nm(m);case 26:case 5:ci(d,m,o),o&&s===null&&S&4&&em(m),ca(m,m.return);break;case 12:ci(d,m,o);break;case 31:ci(d,m,o),o&&S&4&&sm(d,m);break;case 13:ci(d,m,o),o&&S&4&&rm(d,m);break;case 22:m.memoizedState===null&&ci(d,m,o),ca(m,m.return);break;case 30:break;default:ci(d,m,o)}n=n.sibling}}function qu(e,n){var o=null;e!==null&&e.memoizedState!==null&&e.memoizedState.cachePool!==null&&(o=e.memoizedState.cachePool.pool),e=null,n.memoizedState!==null&&n.memoizedState.cachePool!==null&&(e=n.memoizedState.cachePool.pool),e!==o&&(e!=null&&e.refCount++,o!=null&&Zl(o))}function Gu(e,n){e=null,n.alternate!==null&&(e=n.alternate.memoizedState.cache),n=n.memoizedState.cache,n!==e&&(n.refCount++,e!=null&&Zl(e))}function In(e,n,o,s){if(n.subtreeFlags&10256)for(n=n.child;n!==null;)fm(e,n,o,s),n=n.sibling}function fm(e,n,o,s){var d=n.flags;switch(n.tag){case 0:case 11:case 15:In(e,n,o,s),d&2048&&ua(9,n);break;case 1:In(e,n,o,s);break;case 3:In(e,n,o,s),d&2048&&(e=null,n.alternate!==null&&(e=n.alternate.memoizedState.cache),n=n.memoizedState.cache,n!==e&&(n.refCount++,e!=null&&Zl(e)));break;case 12:if(d&2048){In(e,n,o,s),e=n.stateNode;try{var m=n.memoizedProps,S=m.id,_=m.onPostCommit;typeof _=="function"&&_(S,n.alternate===null?"mount":"update",e.passiveEffectDuration,-0)}catch(A){Je(n,n.return,A)}}else In(e,n,o,s);break;case 31:In(e,n,o,s);break;case 13:In(e,n,o,s);break;case 23:break;case 22:m=n.stateNode,S=n.alternate,n.memoizedState!==null?m._visibility&2?In(e,n,o,s):fa(e,n):m._visibility&2?In(e,n,o,s):(m._visibility|=2,ol(e,n,o,s,(n.subtreeFlags&10256)!==0||!1)),d&2048&&qu(S,n);break;case 24:In(e,n,o,s),d&2048&&Gu(n.alternate,n);break;default:In(e,n,o,s)}}function ol(e,n,o,s,d){for(d=d&&((n.subtreeFlags&10256)!==0||!1),n=n.child;n!==null;){var m=e,S=n,_=o,A=s,U=S.flags;switch(S.tag){case 0:case 11:case 15:ol(m,S,_,A,d),ua(8,S);break;case 23:break;case 22:var B=S.stateNode;S.memoizedState!==null?B._visibility&2?ol(m,S,_,A,d):fa(m,S):(B._visibility|=2,ol(m,S,_,A,d)),d&&U&2048&&qu(S.alternate,S);break;case 24:ol(m,S,_,A,d),d&&U&2048&&Gu(S.alternate,S);break;default:ol(m,S,_,A,d)}n=n.sibling}}function fa(e,n){if(n.subtreeFlags&10256)for(n=n.child;n!==null;){var o=e,s=n,d=s.flags;switch(s.tag){case 22:fa(o,s),d&2048&&qu(s.alternate,s);break;case 24:fa(o,s),d&2048&&Gu(s.alternate,s);break;default:fa(o,s)}n=n.sibling}}var da=8192;function ll(e,n,o){if(e.subtreeFlags&da)for(e=e.child;e!==null;)dm(e,n,o),e=e.sibling}function dm(e,n,o){switch(e.tag){case 26:ll(e,n,o),e.flags&da&&e.memoizedState!==null&&c0(o,Dn,e.memoizedState,e.memoizedProps);break;case 5:ll(e,n,o);break;case 3:case 4:var s=Dn;Dn=qs(e.stateNode.containerInfo),ll(e,n,o),Dn=s;break;case 22:e.memoizedState===null&&(s=e.alternate,s!==null&&s.memoizedState!==null?(s=da,da=16777216,ll(e,n,o),da=s):ll(e,n,o));break;default:ll(e,n,o)}}function mm(e){var n=e.alternate;if(n!==null&&(e=n.child,e!==null)){n.child=null;do n=e.sibling,e.sibling=null,e=n;while(e!==null)}}function ma(e){var n=e.deletions;if((e.flags&16)!==0){if(n!==null)for(var o=0;o<n.length;o++){var s=n[o];Ct=s,hm(s,e)}mm(e)}if(e.subtreeFlags&10256)for(e=e.child;e!==null;)pm(e),e=e.sibling}function pm(e){switch(e.tag){case 0:case 11:case 15:ma(e),e.flags&2048&&Fi(9,e,e.return);break;case 3:ma(e);break;case 12:ma(e);break;case 22:var n=e.stateNode;e.memoizedState!==null&&n._visibility&2&&(e.return===null||e.return.tag!==13)?(n._visibility&=-3,Cs(e)):ma(e);break;default:ma(e)}}function Cs(e){var n=e.deletions;if((e.flags&16)!==0){if(n!==null)for(var o=0;o<n.length;o++){var s=n[o];Ct=s,hm(s,e)}mm(e)}for(e=e.child;e!==null;){switch(n=e,n.tag){case 0:case 11:case 15:Fi(8,n,n.return),Cs(n);break;case 22:o=n.stateNode,o._visibility&2&&(o._visibility&=-3,Cs(n));break;default:Cs(n)}e=e.sibling}}function hm(e,n){for(;Ct!==null;){var o=Ct;switch(o.tag){case 0:case 11:case 15:Fi(8,o,n);break;case 23:case 22:if(o.memoizedState!==null&&o.memoizedState.cachePool!==null){var s=o.memoizedState.cachePool.pool;s!=null&&s.refCount++}break;case 24:Zl(o.memoizedState.cache)}if(s=o.child,s!==null)s.return=o,Ct=s;else e:for(o=e;Ct!==null;){s=Ct;var d=s.sibling,m=s.return;if(lm(s),s===o){Ct=null;break e}if(d!==null){d.return=m,Ct=d;break e}Ct=m}}}var Ry={getCacheForType:function(e){var n=Rt(ht),o=n.data.get(e);return o===void 0&&(o=e(),n.data.set(e,o)),o},cacheSignal:function(){return Rt(ht).controller.signal}},xy=typeof WeakMap=="function"?WeakMap:Map,Oe=0,$e=null,Ie=null,Le=0,Ye=0,an=null,Oi=!1,al=!1,Vu=!1,fi=0,ct=0,Yi=0,bo=0,Hu=0,sn=0,sl=0,pa=null,Yt=null,zu=!1,As=0,gm=0,Rs=1/0,xs=null,Ji=null,St=0,Xi=null,rl=null,di=0,Bu=0,ku=null,ym=null,ha=0,Fu=null;function rn(){return(Oe&2)!==0&&Le!==0?Le&-Le:P.T!==null?Qu():Vt()}function vm(){if(sn===0)if((Le&536870912)===0||Ve){var e=Lo;Lo<<=1,(Lo&3932160)===0&&(Lo=262144),sn=e}else sn=536870912;return e=on.current,e!==null&&(e.flags|=32),sn}function Jt(e,n,o){(e===$e&&(Ye===2||Ye===9)||e.cancelPendingCommit!==null)&&(ul(e,0),Ki(e,Le,sn,!1)),$t(e,o),((Oe&2)===0||e!==$e)&&(e===$e&&((Oe&2)===0&&(bo|=o),ct===4&&Ki(e,Le,sn,!1)),On(e))}function Tm(e,n,o){if((Oe&6)!==0)throw Error(a(327));var s=!o&&(n&127)===0&&(n&e.expiredLanes)===0||vi(e,n),d=s?by(e,n):Yu(e,n,!0),m=s;do{if(d===0){al&&!s&&Ki(e,n,0,!1);break}else{if(o=e.current.alternate,m&&!My(o)){d=Yu(e,n,!1),m=!1;continue}if(d===2){if(m=n,e.errorRecoveryDisabledLanes&m)var S=0;else S=e.pendingLanes&-536870913,S=S!==0?S:S&536870912?536870912:0;if(S!==0){n=S;e:{var _=e;d=pa;var A=_.current.memoizedState.isDehydrated;if(A&&(ul(_,S).flags|=256),S=Yu(_,S,!1),S!==2){if(Vu&&!A){_.errorRecoveryDisabledLanes|=m,bo|=m,d=4;break e}m=Yt,Yt=d,m!==null&&(Yt===null?Yt=m:Yt.push.apply(Yt,m))}d=S}if(m=!1,d!==2)continue}}if(d===1){ul(e,0),Ki(e,n,0,!0);break}e:{switch(s=e,m=d,m){case 0:case 1:throw Error(a(345));case 4:if((n&4194048)!==n)break;case 6:Ki(s,n,sn,!Oi);break e;case 2:Yt=null;break;case 3:case 5:break;default:throw Error(a(329))}if((n&62914560)===n&&(d=As+300-qt(),10<d)){if(Ki(s,n,sn,!Oi),oo(s,0,!0)!==0)break e;di=n,s.timeoutHandle=Zm(Sm.bind(null,s,o,Yt,xs,zu,n,sn,bo,sl,Oi,m,"Throttled",-0,0),d);break e}Sm(s,o,Yt,xs,zu,n,sn,bo,sl,Oi,m,null,-0,0)}}break}while(!0);On(e)}function Sm(e,n,o,s,d,m,S,_,A,U,B,Y,L,V){if(e.timeoutHandle=-1,Y=n.subtreeFlags,Y&8192||(Y&16785408)===16785408){Y={stylesheets:null,count:0,imgCount:0,imgBytes:0,suspenseyImages:[],waitingForImages:!0,waitingForViewTransition:!1,unsuspend:k},dm(n,m,Y);var ue=(m&62914560)===m?As-qt():(m&4194048)===m?gm-qt():0;if(ue=f0(Y,ue),ue!==null){di=m,e.cancelPendingCommit=ue(Nm.bind(null,e,n,m,o,s,d,S,_,A,B,Y,null,L,V)),Ki(e,m,S,!U);return}}Nm(e,n,m,o,s,d,S,_,A)}function My(e){for(var n=e;;){var o=n.tag;if((o===0||o===11||o===15)&&n.flags&16384&&(o=n.updateQueue,o!==null&&(o=o.stores,o!==null)))for(var s=0;s<o.length;s++){var d=o[s],m=d.getSnapshot;d=d.value;try{if(!tn(m(),d))return!1}catch{return!1}}if(o=n.child,n.subtreeFlags&16384&&o!==null)o.return=n,n=o;else{if(n===e)break;for(;n.sibling===null;){if(n.return===null||n.return===e)return!0;n=n.return}n.sibling.return=n.return,n=n.sibling}}return!0}function Ki(e,n,o,s){n&=~Hu,n&=~bo,e.suspendedLanes|=n,e.pingedLanes&=~n,s&&(e.warmLanes|=n),s=e.expirationTimes;for(var d=n;0<d;){var m=31-wt(d),S=1<<m;s[m]=-1,d&=~S}o!==0&&bl(e,o,n)}function Ms(){return(Oe&6)===0?(ga(0),!1):!0}function Ou(){if(Ie!==null){if(Ye===0)var e=Ie.return;else e=Ie,ti=So=null,au(e),jo=null,Wl=0,e=Ie;for(;e!==null;)$d(e.alternate,e),e=e.return;Ie=null}}function ul(e,n){var o=e.timeoutHandle;o!==-1&&(e.timeoutHandle=-1,Xy(o)),o=e.cancelPendingCommit,o!==null&&(e.cancelPendingCommit=null,o()),di=0,Ou(),$e=e,Ie=o=jn(e.current,null),Le=n,Ye=0,an=null,Oi=!1,al=vi(e,n),Vu=!1,sl=sn=Hu=bo=Yi=ct=0,Yt=pa=null,zu=!1,(n&8)!==0&&(n|=n&32);var s=e.entangledLanes;if(s!==0)for(e=e.entanglements,s&=n;0<s;){var d=31-wt(s),m=1<<d;n|=e[d],s&=~m}return fi=n,Ka(),o}function Em(e,n){Me=null,P.H=aa,n===Wo||n===ns?(n=Gf(),Ye=3):n===Kr?(n=Gf(),Ye=4):Ye=n===_u?8:n!==null&&typeof n=="object"&&typeof n.then=="function"?6:1,an=n,Ie===null&&(ct=1,gs(e,gn(n,e.current)))}function _m(){var e=on.current;return e===null?!0:(Le&4194048)===Le?Sn===null:(Le&62914560)===Le||(Le&536870912)!==0?e===Sn:!1}function Cm(){var e=P.H;return P.H=aa,e===null?aa:e}function Am(){var e=P.A;return P.A=Ry,e}function Ns(){ct=4,Oi||(Le&4194048)!==Le&&on.current!==null||(al=!0),(Yi&134217727)===0&&(bo&134217727)===0||$e===null||Ki($e,Le,sn,!1)}function Yu(e,n,o){var s=Oe;Oe|=2;var d=Cm(),m=Am();($e!==e||Le!==n)&&(xs=null,ul(e,n)),n=!1;var S=ct;e:do try{if(Ye!==0&&Ie!==null){var _=Ie,A=an;switch(Ye){case 8:Ou(),S=6;break e;case 3:case 2:case 9:case 6:on.current===null&&(n=!0);var U=Ye;if(Ye=0,an=null,cl(e,_,A,U),o&&al){S=0;break e}break;default:U=Ye,Ye=0,an=null,cl(e,_,A,U)}}Ny(),S=ct;break}catch(B){Em(e,B)}while(!0);return n&&e.shellSuspendCounter++,ti=So=null,Oe=s,P.H=d,P.A=m,Ie===null&&($e=null,Le=0,Ka()),S}function Ny(){for(;Ie!==null;)Rm(Ie)}function by(e,n){var o=Oe;Oe|=2;var s=Cm(),d=Am();$e!==e||Le!==n?(xs=null,Rs=qt()+500,ul(e,n)):al=vi(e,n);e:do try{if(Ye!==0&&Ie!==null){n=Ie;var m=an;t:switch(Ye){case 1:Ye=0,an=null,cl(e,n,m,1);break;case 2:case 9:if(Pf(m)){Ye=0,an=null,xm(n);break}n=function(){Ye!==2&&Ye!==9||$e!==e||(Ye=7),On(e)},m.then(n,n);break e;case 3:Ye=7;break e;case 4:Ye=5;break e;case 7:Pf(m)?(Ye=0,an=null,xm(n)):(Ye=0,an=null,cl(e,n,m,7));break;case 5:var S=null;switch(Ie.tag){case 26:S=Ie.memoizedState;case 5:case 27:var _=Ie;if(S?fp(S):_.stateNode.complete){Ye=0,an=null;var A=_.sibling;if(A!==null)Ie=A;else{var U=_.return;U!==null?(Ie=U,bs(U)):Ie=null}break t}}Ye=0,an=null,cl(e,n,m,5);break;case 6:Ye=0,an=null,cl(e,n,m,6);break;case 8:Ou(),ct=6;break e;default:throw Error(a(462))}}wy();break}catch(B){Em(e,B)}while(!0);return ti=So=null,P.H=s,P.A=d,Oe=o,Ie!==null?0:($e=null,Le=0,Ka(),ct)}function wy(){for(;Ie!==null&&!Zc();)Rm(Ie)}function Rm(e){var n=Qd(e.alternate,e,fi);e.memoizedProps=e.pendingProps,n===null?bs(e):Ie=n}function xm(e){var n=e,o=n.alternate;switch(n.tag){case 15:case 0:n=Fd(o,n,n.pendingProps,n.type,void 0,Le);break;case 11:n=Fd(o,n,n.pendingProps,n.type.render,n.ref,Le);break;case 5:au(n);default:$d(o,n),n=Ie=Af(n,fi),n=Qd(o,n,fi)}e.memoizedProps=e.pendingProps,n===null?bs(e):Ie=n}function cl(e,n,o,s){ti=So=null,au(n),jo=null,Wl=0;var d=n.return;try{if(vy(e,d,n,o,Le)){ct=1,gs(e,gn(o,e.current)),Ie=null;return}}catch(m){if(d!==null)throw Ie=d,m;ct=1,gs(e,gn(o,e.current)),Ie=null;return}n.flags&32768?(Ve||s===1?e=!0:al||(Le&536870912)!==0?e=!1:(Oi=e=!0,(s===2||s===9||s===3||s===6)&&(s=on.current,s!==null&&s.tag===13&&(s.flags|=16384))),Mm(n,e)):bs(n)}function bs(e){var n=e;do{if((n.flags&32768)!==0){Mm(n,Oi);return}e=n.return;var o=Ey(n.alternate,n,fi);if(o!==null){Ie=o;return}if(n=n.sibling,n!==null){Ie=n;return}Ie=n=e}while(n!==null);ct===0&&(ct=5)}function Mm(e,n){do{var o=_y(e.alternate,e);if(o!==null){o.flags&=32767,Ie=o;return}if(o=e.return,o!==null&&(o.flags|=32768,o.subtreeFlags=0,o.deletions=null),!n&&(e=e.sibling,e!==null)){Ie=e;return}Ie=e=o}while(e!==null);ct=6,Ie=null}function Nm(e,n,o,s,d,m,S,_,A){e.cancelPendingCommit=null;do ws();while(St!==0);if((Oe&6)!==0)throw Error(a(327));if(n!==null){if(n===e.current)throw Error(a(177));if(m=n.lanes|n.childLanes,m|=Ur,Si(e,o,m,S,_,A),e===$e&&(Ie=$e=null,Le=0),rl=n,Xi=e,di=o,Bu=m,ku=d,ym=s,(n.subtreeFlags&10256)!==0||(n.flags&10256)!==0?(e.callbackNode=null,e.callbackPriority=0,Ly(xl,function(){return Um(),null})):(e.callbackNode=null,e.callbackPriority=0),s=(n.flags&13878)!==0,(n.subtreeFlags&13878)!==0||s){s=P.T,P.T=null,d=K.p,K.p=2,S=Oe,Oe|=4;try{Cy(e,n,o)}finally{Oe=S,K.p=d,P.T=s}}St=1,bm(),wm(),Dm()}}function bm(){if(St===1){St=0;var e=Xi,n=rl,o=(n.flags&13878)!==0;if((n.subtreeFlags&13878)!==0||o){o=P.T,P.T=null;var s=K.p;K.p=2;var d=Oe;Oe|=4;try{um(n,e);var m=ic,S=hf(e.containerInfo),_=m.focusedElem,A=m.selectionRange;if(S!==_&&_&&_.ownerDocument&&pf(_.ownerDocument.documentElement,_)){if(A!==null&&Nr(_)){var U=A.start,B=A.end;if(B===void 0&&(B=U),"selectionStart"in _)_.selectionStart=U,_.selectionEnd=Math.min(B,_.value.length);else{var Y=_.ownerDocument||document,L=Y&&Y.defaultView||window;if(L.getSelection){var V=L.getSelection(),ue=_.textContent.length,ve=Math.min(A.start,ue),Ze=A.end===void 0?ve:Math.min(A.end,ue);!V.extend&&ve>Ze&&(S=Ze,Ze=ve,ve=S);var b=mf(_,ve),M=mf(_,Ze);if(b&&M&&(V.rangeCount!==1||V.anchorNode!==b.node||V.anchorOffset!==b.offset||V.focusNode!==M.node||V.focusOffset!==M.offset)){var I=Y.createRange();I.setStart(b.node,b.offset),V.removeAllRanges(),ve>Ze?(V.addRange(I),V.extend(M.node,M.offset)):(I.setEnd(M.node,M.offset),V.addRange(I))}}}}for(Y=[],V=_;V=V.parentNode;)V.nodeType===1&&Y.push({element:V,left:V.scrollLeft,top:V.scrollTop});for(typeof _.focus=="function"&&_.focus(),_=0;_<Y.length;_++){var F=Y[_];F.element.scrollLeft=F.left,F.element.scrollTop=F.top}}ks=!!nc,ic=nc=null}finally{Oe=d,K.p=s,P.T=o}}e.current=n,St=2}}function wm(){if(St===2){St=0;var e=Xi,n=rl,o=(n.flags&8772)!==0;if((n.subtreeFlags&8772)!==0||o){o=P.T,P.T=null;var s=K.p;K.p=2;var d=Oe;Oe|=4;try{om(e,n.alternate,n)}finally{Oe=d,K.p=s,P.T=o}}St=3}}function Dm(){if(St===4||St===3){St=0,ur();var e=Xi,n=rl,o=di,s=ym;(n.subtreeFlags&10256)!==0||(n.flags&10256)!==0?St=5:(St=0,rl=Xi=null,Im(e,e.pendingLanes));var d=e.pendingLanes;if(d===0&&(Ji=null),ft(o),n=n.stateNode,Lt&&typeof Lt.onCommitFiberRoot=="function")try{Lt.onCommitFiberRoot(bt,n,void 0,(n.current.flags&128)===128)}catch{}if(s!==null){n=P.T,d=K.p,K.p=2,P.T=null;try{for(var m=e.onRecoverableError,S=0;S<s.length;S++){var _=s[S];m(_.value,{componentStack:_.stack})}}finally{P.T=n,K.p=d}}(di&3)!==0&&ws(),On(e),d=e.pendingLanes,(o&261930)!==0&&(d&42)!==0?e===Fu?ha++:(ha=0,Fu=e):ha=0,ga(0)}}function Im(e,n){(e.pooledCacheLanes&=n)===0&&(n=e.pooledCache,n!=null&&(e.pooledCache=null,Zl(n)))}function ws(){return bm(),wm(),Dm(),Um()}function Um(){if(St!==5)return!1;var e=Xi,n=Bu;Bu=0;var o=ft(di),s=P.T,d=K.p;try{K.p=32>o?32:o,P.T=null,o=ku,ku=null;var m=Xi,S=di;if(St=0,rl=Xi=null,di=0,(Oe&6)!==0)throw Error(a(331));var _=Oe;if(Oe|=4,pm(m.current),fm(m,m.current,S,o),Oe=_,ga(0,!1),Lt&&typeof Lt.onPostCommitFiberRoot=="function")try{Lt.onPostCommitFiberRoot(bt,m)}catch{}return!0}finally{K.p=d,P.T=s,Im(e,n)}}function Lm(e,n,o){n=gn(o,n),n=Eu(e.stateNode,n,2),e=zi(e,n,2),e!==null&&($t(e,2),On(e))}function Je(e,n,o){if(e.tag===3)Lm(e,e,o);else for(;n!==null;){if(n.tag===3){Lm(n,e,o);break}else if(n.tag===1){var s=n.stateNode;if(typeof n.type.getDerivedStateFromError=="function"||typeof s.componentDidCatch=="function"&&(Ji===null||!Ji.has(s))){e=gn(o,e),o=Pd(2),s=zi(n,o,2),s!==null&&(qd(o,s,n,e),$t(s,2),On(s));break}}n=n.return}}function Ju(e,n,o){var s=e.pingCache;if(s===null){s=e.pingCache=new xy;var d=new Set;s.set(n,d)}else d=s.get(n),d===void 0&&(d=new Set,s.set(n,d));d.has(o)||(Vu=!0,d.add(o),e=Dy.bind(null,e,n,o),n.then(e,e))}function Dy(e,n,o){var s=e.pingCache;s!==null&&s.delete(n),e.pingedLanes|=e.suspendedLanes&o,e.warmLanes&=~o,$e===e&&(Le&o)===o&&(ct===4||ct===3&&(Le&62914560)===Le&&300>qt()-As?(Oe&2)===0&&ul(e,0):Hu|=o,sl===Le&&(sl=0)),On(e)}function Pm(e,n){n===0&&(n=Ti()),e=yo(e,n),e!==null&&($t(e,n),On(e))}function Iy(e){var n=e.memoizedState,o=0;n!==null&&(o=n.retryLane),Pm(e,o)}function Uy(e,n){var o=0;switch(e.tag){case 31:case 13:var s=e.stateNode,d=e.memoizedState;d!==null&&(o=d.retryLane);break;case 19:s=e.stateNode;break;case 22:s=e.stateNode._retryCache;break;default:throw Error(a(314))}s!==null&&s.delete(n),Pm(e,o)}function Ly(e,n){return Ua(e,n)}var Ds=null,fl=null,Xu=!1,Is=!1,Ku=!1,Qi=0;function On(e){e!==fl&&e.next===null&&(fl===null?Ds=fl=e:fl=fl.next=e),Is=!0,Xu||(Xu=!0,qy())}function ga(e,n){if(!Ku&&Is){Ku=!0;do for(var o=!1,s=Ds;s!==null;){if(e!==0){var d=s.pendingLanes;if(d===0)var m=0;else{var S=s.suspendedLanes,_=s.pingedLanes;m=(1<<31-wt(42|e)+1)-1,m&=d&~(S&~_),m=m&201326741?m&201326741|1:m?m|2:0}m!==0&&(o=!0,Hm(s,m))}else m=Le,m=oo(s,s===$e?m:0,s.cancelPendingCommit!==null||s.timeoutHandle!==-1),(m&3)===0||vi(s,m)||(o=!0,Hm(s,m));s=s.next}while(o);Ku=!1}}function Py(){qm()}function qm(){Is=Xu=!1;var e=0;Qi!==0&&Jy()&&(e=Qi);for(var n=qt(),o=null,s=Ds;s!==null;){var d=s.next,m=Gm(s,n);m===0?(s.next=null,o===null?Ds=d:o.next=d,d===null&&(fl=o)):(o=s,(e!==0||(m&3)!==0)&&(Is=!0)),s=d}St!==0&&St!==5||ga(e),Qi!==0&&(Qi=0)}function Gm(e,n){for(var o=e.suspendedLanes,s=e.pingedLanes,d=e.expirationTimes,m=e.pendingLanes&-62914561;0<m;){var S=31-wt(m),_=1<<S,A=d[S];A===-1?((_&o)===0||(_&s)!==0)&&(d[S]=qn(_,n)):A<=n&&(e.expiredLanes|=_),m&=~_}if(n=$e,o=Le,o=oo(e,e===n?o:0,e.cancelPendingCommit!==null||e.timeoutHandle!==-1),s=e.callbackNode,o===0||e===n&&(Ye===2||Ye===9)||e.cancelPendingCommit!==null)return s!==null&&s!==null&&Rl(s),e.callbackNode=null,e.callbackPriority=0;if((o&3)===0||vi(e,o)){if(n=o&-o,n===e.callbackPriority)return n;switch(s!==null&&Rl(s),ft(o)){case 2:case 8:o=La;break;case 32:o=xl;break;case 268435456:o=Pa;break;default:o=xl}return s=Vm.bind(null,e),o=Ua(o,s),e.callbackPriority=n,e.callbackNode=o,n}return s!==null&&s!==null&&Rl(s),e.callbackPriority=2,e.callbackNode=null,2}function Vm(e,n){if(St!==0&&St!==5)return e.callbackNode=null,e.callbackPriority=0,null;var o=e.callbackNode;if(ws()&&e.callbackNode!==o)return null;var s=Le;return s=oo(e,e===$e?s:0,e.cancelPendingCommit!==null||e.timeoutHandle!==-1),s===0?null:(Tm(e,s,n),Gm(e,qt()),e.callbackNode!=null&&e.callbackNode===o?Vm.bind(null,e):null)}function Hm(e,n){if(ws())return null;Tm(e,n,!0)}function qy(){Ky(function(){(Oe&6)!==0?Ua(fr,Py):qm()})}function Qu(){if(Qi===0){var e=Zo;e===0&&(e=io,io<<=1,(io&261888)===0&&(io=256)),Qi=e}return Qi}function zm(e){return e==null||typeof e=="symbol"||typeof e=="boolean"?null:typeof e=="function"?e:H(""+e)}function Bm(e,n){var o=n.ownerDocument.createElement("input");return o.name=n.name,o.value=n.value,e.id&&o.setAttribute("form",e.id),n.parentNode.insertBefore(o,n),e=new FormData(e),o.parentNode.removeChild(o),e}function Gy(e,n,o,s,d){if(n==="submit"&&o&&o.stateNode===d){var m=zm((d[Tt]||null).action),S=s.submitter;S&&(n=(n=S[Tt]||null)?zm(n.formAction):S.getAttribute("formAction"),n!==null&&(m=n,S=null));var _=new Go("action","action",null,s,d);e.push({event:_,listeners:[{instance:null,listener:function(){if(s.defaultPrevented){if(Qi!==0){var A=S?Bm(d,S):new FormData(d);hu(o,{pending:!0,data:A,method:d.method,action:m},null,A)}}else typeof m=="function"&&(_.preventDefault(),A=S?Bm(d,S):new FormData(d),hu(o,{pending:!0,data:A,method:d.method,action:m},m,A))},currentTarget:d}]})}}for(var Zu=0;Zu<Ir.length;Zu++){var $u=Ir[Zu],Vy=$u.toLowerCase(),Hy=$u[0].toUpperCase()+$u.slice(1);wn(Vy,"on"+Hy)}wn(vf,"onAnimationEnd"),wn(Tf,"onAnimationIteration"),wn(Sf,"onAnimationStart"),wn("dblclick","onDoubleClick"),wn("focusin","onFocus"),wn("focusout","onBlur"),wn(ty,"onTransitionRun"),wn(ny,"onTransitionStart"),wn(iy,"onTransitionCancel"),wn(Ef,"onTransitionEnd"),Qn("onMouseEnter",["mouseout","mouseover"]),Qn("onMouseLeave",["mouseout","mouseover"]),Qn("onPointerEnter",["pointerout","pointerover"]),Qn("onPointerLeave",["pointerout","pointerover"]),Vn("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),Vn("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),Vn("onBeforeInput",["compositionend","keypress","textInput","paste"]),Vn("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),Vn("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),Vn("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var ya="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),zy=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(ya));function km(e,n){n=(n&4)!==0;for(var o=0;o<e.length;o++){var s=e[o],d=s.event;s=s.listeners;e:{var m=void 0;if(n)for(var S=s.length-1;0<=S;S--){var _=s[S],A=_.instance,U=_.currentTarget;if(_=_.listener,A!==m&&d.isPropagationStopped())break e;m=_,d.currentTarget=U;try{m(d)}catch(B){Xa(B)}d.currentTarget=null,m=A}else for(S=0;S<s.length;S++){if(_=s[S],A=_.instance,U=_.currentTarget,_=_.listener,A!==m&&d.isPropagationStopped())break e;m=_,d.currentTarget=U;try{m(d)}catch(B){Xa(B)}d.currentTarget=null,m=A}}}}function Ue(e,n){var o=n[lo];o===void 0&&(o=n[lo]=new Set);var s=e+"__bubble";o.has(s)||(Fm(n,e,2,!1),o.add(s))}function Wu(e,n,o){var s=0;n&&(s|=4),Fm(o,e,s,n)}var Us="_reactListening"+Math.random().toString(36).slice(2);function ju(e){if(!e[Us]){e[Us]=!0,ao.forEach(function(o){o!=="selectionchange"&&(zy.has(o)||Wu(o,!1,e),Wu(o,!0,e))});var n=e.nodeType===9?e:e.ownerDocument;n===null||n[Us]||(n[Us]=!0,Wu("selectionchange",!1,n))}}function Fm(e,n,o,s){switch(vp(n)){case 2:var d=p0;break;case 8:d=h0;break;default:d=pc}o=d.bind(null,n,o,e),d=void 0,!Ee||n!=="touchstart"&&n!=="touchmove"&&n!=="wheel"||(d=!0),s?d!==void 0?e.addEventListener(n,o,{capture:!0,passive:d}):e.addEventListener(n,o,!0):d!==void 0?e.addEventListener(n,o,{passive:d}):e.addEventListener(n,o,!1)}function ec(e,n,o,s,d){var m=s;if((n&1)===0&&(n&2)===0&&s!==null)e:for(;;){if(s===null)return;var S=s.tag;if(S===3||S===4){var _=s.stateNode.containerInfo;if(_===d)break;if(S===4)for(S=s.return;S!==null;){var A=S.tag;if((A===3||A===4)&&S.stateNode.containerInfo===d)return;S=S.return}for(;_!==null;){if(S=Xn(_),S===null)return;if(A=S.tag,A===5||A===6||A===26||A===27){s=m=S;continue e}_=_.parentNode}}s=s.return}ce(function(){var U=m,B=se(o),Y=[];e:{var L=_f.get(e);if(L!==void 0){var V=Go,ue=e;switch(e){case"keypress":if(Di(o)===0)break e;case"keydown":case"keyup":V=zo;break;case"focusin":ue="focus",V=Bl;break;case"focusout":ue="blur",V=Bl;break;case"beforeblur":case"afterblur":V=Bl;break;case"click":if(o.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":V=Hn;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":V=Mn;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":V=je;break;case vf:case Tf:case Sf:V=Ho;break;case Ef:V=He;break;case"scroll":case"scrollend":V=Sr;break;case"wheel":V=pn;break;case"copy":case"cut":case"paste":V=jt;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":V=_t;break;case"toggle":case"beforetoggle":V=Rr}var ve=(n&4)!==0,Ze=!ve&&(e==="scroll"||e==="scrollend"),b=ve?L!==null?L+"Capture":null:L;ve=[];for(var M=U,I;M!==null;){var F=M;if(I=F.stateNode,F=F.tag,F!==5&&F!==26&&F!==27||I===null||b===null||(F=Se(M,b),F!=null&&ve.push(va(M,F,I))),Ze)break;M=M.return}0<ve.length&&(L=new V(L,ue,null,o,B),Y.push({event:L,listeners:ve}))}}if((n&7)===0){e:{if(L=e==="mouseover"||e==="pointerover",V=e==="mouseout"||e==="pointerout",L&&o!==Q&&(ue=o.relatedTarget||o.fromElement)&&(Xn(ue)||ue[dt]))break e;if((V||L)&&(L=B.window===B?B:(L=B.ownerDocument)?L.defaultView||L.parentWindow:window,V?(ue=o.relatedTarget||o.toElement,V=U,ue=ue?Xn(ue):null,ue!==null&&(Ze=f(ue),ve=ue.tag,ue!==Ze||ve!==5&&ve!==27&&ve!==6)&&(ue=null)):(V=null,ue=U),V!==ue)){if(ve=Hn,F="onMouseLeave",b="onMouseEnter",M="mouse",(e==="pointerout"||e==="pointerover")&&(ve=_t,F="onPointerLeave",b="onPointerEnter",M="pointer"),Ze=V==null?L:Kn(V),I=ue==null?L:Kn(ue),L=new ve(F,M+"leave",V,o,B),L.target=Ze,L.relatedTarget=I,F=null,Xn(B)===U&&(ve=new ve(b,M+"enter",ue,o,B),ve.target=I,ve.relatedTarget=Ze,F=ve),Ze=F,V&&ue)t:{for(ve=By,b=V,M=ue,I=0,F=b;F;F=ve(F))I++;F=0;for(var pe=M;pe;pe=ve(pe))F++;for(;0<I-F;)b=ve(b),I--;for(;0<F-I;)M=ve(M),F--;for(;I--;){if(b===M||M!==null&&b===M.alternate){ve=b;break t}b=ve(b),M=ve(M)}ve=null}else ve=null;V!==null&&Om(Y,L,V,ve,!1),ue!==null&&Ze!==null&&Om(Y,Ze,ue,ve,!0)}}e:{if(L=U?Kn(U):window,V=L.nodeName&&L.nodeName.toLowerCase(),V==="select"||V==="input"&&L.type==="file")var Be=sf;else if(lf(L))if(rf)Be=Wg;else{Be=Zg;var de=Qg}else V=L.nodeName,!V||V.toLowerCase()!=="input"||L.type!=="checkbox"&&L.type!=="radio"?U&&Gl(U.elementType)&&(Be=sf):Be=$g;if(Be&&(Be=Be(e,U))){af(Y,Be,o,B);break e}de&&de(e,L,U),e==="focusout"&&U&&L.type==="number"&&U.memoizedProps.value!=null&&ql(L,"number",L.value)}switch(de=U?Kn(U):window,e){case"focusin":(lf(de)||de.contentEditable==="true")&&(ko=de,br=U,Xl=null);break;case"focusout":Xl=br=ko=null;break;case"mousedown":wr=!0;break;case"contextmenu":case"mouseup":case"dragend":wr=!1,gf(Y,o,B);break;case"selectionchange":if(ey)break;case"keydown":case"keyup":gf(Y,o,B)}var Ne;if(bn)e:{switch(e){case"compositionstart":var Pe="onCompositionStart";break e;case"compositionend":Pe="onCompositionEnd";break e;case"compositionupdate":Pe="onCompositionUpdate";break e}Pe=void 0}else Bo?nf(e,o)&&(Pe="onCompositionEnd"):e==="keydown"&&o.keyCode===229&&(Pe="onCompositionStart");Pe&&(jc&&o.locale!=="ko"&&(Bo||Pe!=="onCompositionStart"?Pe==="onCompositionEnd"&&Bo&&(Ne=wi()):(ot=B,bi="value"in ot?ot.value:ot.textContent,Bo=!0)),de=Ls(U,Pe),0<de.length&&(Pe=new Oa(Pe,e,null,o,B),Y.push({event:Pe,listeners:de}),Ne?Pe.data=Ne:(Ne=of(o),Ne!==null&&(Pe.data=Ne)))),(Ne=Og?Yg(e,o):Jg(e,o))&&(Pe=Ls(U,"onBeforeInput"),0<Pe.length&&(de=new Oa("onBeforeInput","beforeinput",null,o,B),Y.push({event:de,listeners:Pe}),de.data=Ne)),Gy(Y,e,U,o,B)}km(Y,n)})}function va(e,n,o){return{instance:e,listener:n,currentTarget:o}}function Ls(e,n){for(var o=n+"Capture",s=[];e!==null;){var d=e,m=d.stateNode;if(d=d.tag,d!==5&&d!==26&&d!==27||m===null||(d=Se(e,o),d!=null&&s.unshift(va(e,d,m)),d=Se(e,n),d!=null&&s.push(va(e,d,m))),e.tag===3)return s;e=e.return}return[]}function By(e){if(e===null)return null;do e=e.return;while(e&&e.tag!==5&&e.tag!==27);return e||null}function Om(e,n,o,s,d){for(var m=n._reactName,S=[];o!==null&&o!==s;){var _=o,A=_.alternate,U=_.stateNode;if(_=_.tag,A!==null&&A===s)break;_!==5&&_!==26&&_!==27||U===null||(A=U,d?(U=Se(o,m),U!=null&&S.unshift(va(o,U,A))):d||(U=Se(o,m),U!=null&&S.push(va(o,U,A)))),o=o.return}S.length!==0&&e.push({event:n,listeners:S})}var ky=/\r\n?/g,Fy=/\u0000|\uFFFD/g;function Ym(e){return(typeof e=="string"?e:""+e).replace(ky,`
`).replace(Fy,"")}function Jm(e,n){return n=Ym(n),Ym(e)===n}function Qe(e,n,o,s,d,m){switch(o){case"children":typeof s=="string"?n==="body"||n==="textarea"&&s===""||Mi(e,s):(typeof s=="number"||typeof s=="bigint")&&n!=="body"&&Mi(e,""+s);break;case"className":Ri(e,"class",s);break;case"tabIndex":Ri(e,"tabindex",s);break;case"dir":case"role":case"viewBox":case"width":case"height":Ri(e,o,s);break;case"style":Ni(e,s,m);break;case"data":if(n!=="object"){Ri(e,"data",s);break}case"src":case"href":if(s===""&&(n!=="a"||o!=="href")){e.removeAttribute(o);break}if(s==null||typeof s=="function"||typeof s=="symbol"||typeof s=="boolean"){e.removeAttribute(o);break}s=H(""+s),e.setAttribute(o,s);break;case"action":case"formAction":if(typeof s=="function"){e.setAttribute(o,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof m=="function"&&(o==="formAction"?(n!=="input"&&Qe(e,n,"name",d.name,d,null),Qe(e,n,"formEncType",d.formEncType,d,null),Qe(e,n,"formMethod",d.formMethod,d,null),Qe(e,n,"formTarget",d.formTarget,d,null)):(Qe(e,n,"encType",d.encType,d,null),Qe(e,n,"method",d.method,d,null),Qe(e,n,"target",d.target,d,null)));if(s==null||typeof s=="symbol"||typeof s=="boolean"){e.removeAttribute(o);break}s=H(""+s),e.setAttribute(o,s);break;case"onClick":s!=null&&(e.onclick=k);break;case"onScroll":s!=null&&Ue("scroll",e);break;case"onScrollEnd":s!=null&&Ue("scrollend",e);break;case"dangerouslySetInnerHTML":if(s!=null){if(typeof s!="object"||!("__html"in s))throw Error(a(61));if(o=s.__html,o!=null){if(d.children!=null)throw Error(a(60));e.innerHTML=o}}break;case"multiple":e.multiple=s&&typeof s!="function"&&typeof s!="symbol";break;case"muted":e.muted=s&&typeof s!="function"&&typeof s!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(s==null||typeof s=="function"||typeof s=="boolean"||typeof s=="symbol"){e.removeAttribute("xlink:href");break}o=H(""+s),e.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",o);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":s!=null&&typeof s!="function"&&typeof s!="symbol"?e.setAttribute(o,""+s):e.removeAttribute(o);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":s&&typeof s!="function"&&typeof s!="symbol"?e.setAttribute(o,""):e.removeAttribute(o);break;case"capture":case"download":s===!0?e.setAttribute(o,""):s!==!1&&s!=null&&typeof s!="function"&&typeof s!="symbol"?e.setAttribute(o,s):e.removeAttribute(o);break;case"cols":case"rows":case"size":case"span":s!=null&&typeof s!="function"&&typeof s!="symbol"&&!isNaN(s)&&1<=s?e.setAttribute(o,s):e.removeAttribute(o);break;case"rowSpan":case"start":s==null||typeof s=="function"||typeof s=="symbol"||isNaN(s)?e.removeAttribute(o):e.setAttribute(o,s);break;case"popover":Ue("beforetoggle",e),Ue("toggle",e),Ai(e,"popover",s);break;case"xlinkActuate":xn(e,"http://www.w3.org/1999/xlink","xlink:actuate",s);break;case"xlinkArcrole":xn(e,"http://www.w3.org/1999/xlink","xlink:arcrole",s);break;case"xlinkRole":xn(e,"http://www.w3.org/1999/xlink","xlink:role",s);break;case"xlinkShow":xn(e,"http://www.w3.org/1999/xlink","xlink:show",s);break;case"xlinkTitle":xn(e,"http://www.w3.org/1999/xlink","xlink:title",s);break;case"xlinkType":xn(e,"http://www.w3.org/1999/xlink","xlink:type",s);break;case"xmlBase":xn(e,"http://www.w3.org/XML/1998/namespace","xml:base",s);break;case"xmlLang":xn(e,"http://www.w3.org/XML/1998/namespace","xml:lang",s);break;case"xmlSpace":xn(e,"http://www.w3.org/XML/1998/namespace","xml:space",s);break;case"is":Ai(e,"is",s);break;case"innerText":case"textContent":break;default:(!(2<o.length)||o[0]!=="o"&&o[0]!=="O"||o[1]!=="n"&&o[1]!=="N")&&(o=$c.get(o)||o,Ai(e,o,s))}}function tc(e,n,o,s,d,m){switch(o){case"style":Ni(e,s,m);break;case"dangerouslySetInnerHTML":if(s!=null){if(typeof s!="object"||!("__html"in s))throw Error(a(61));if(o=s.__html,o!=null){if(d.children!=null)throw Error(a(60));e.innerHTML=o}}break;case"children":typeof s=="string"?Mi(e,s):(typeof s=="number"||typeof s=="bigint")&&Mi(e,""+s);break;case"onScroll":s!=null&&Ue("scroll",e);break;case"onScrollEnd":s!=null&&Ue("scrollend",e);break;case"onClick":s!=null&&(e.onclick=k);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!Ul.hasOwnProperty(o))e:{if(o[0]==="o"&&o[1]==="n"&&(d=o.endsWith("Capture"),n=o.slice(2,d?o.length-7:void 0),m=e[Tt]||null,m=m!=null?m[o]:null,typeof m=="function"&&e.removeEventListener(n,m,d),typeof s=="function")){typeof m!="function"&&m!==null&&(o in e?e[o]=null:e.hasAttribute(o)&&e.removeAttribute(o)),e.addEventListener(n,s,d);break e}o in e?e[o]=s:s===!0?e.setAttribute(o,""):Ai(e,o,s)}}}function Mt(e,n,o){switch(n){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":Ue("error",e),Ue("load",e);var s=!1,d=!1,m;for(m in o)if(o.hasOwnProperty(m)){var S=o[m];if(S!=null)switch(m){case"src":s=!0;break;case"srcSet":d=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(a(137,n));default:Qe(e,n,m,S,o,null)}}d&&Qe(e,n,"srcSet",o.srcSet,o,null),s&&Qe(e,n,"src",o.src,o,null);return;case"input":Ue("invalid",e);var _=m=S=d=null,A=null,U=null;for(s in o)if(o.hasOwnProperty(s)){var B=o[s];if(B!=null)switch(s){case"name":d=B;break;case"type":S=B;break;case"checked":A=B;break;case"defaultChecked":U=B;break;case"value":m=B;break;case"defaultValue":_=B;break;case"children":case"dangerouslySetInnerHTML":if(B!=null)throw Error(a(137,n));break;default:Qe(e,n,s,B,o,null)}}uo(e,m,_,A,U,S,d,!1);return;case"select":Ue("invalid",e),s=S=m=null;for(d in o)if(o.hasOwnProperty(d)&&(_=o[d],_!=null))switch(d){case"value":m=_;break;case"defaultValue":S=_;break;case"multiple":s=_;default:Qe(e,n,d,_,o,null)}n=m,o=S,e.multiple=!!s,n!=null?xi(e,!!s,n,!1):o!=null&&xi(e,!!s,o,!0);return;case"textarea":Ue("invalid",e),m=d=s=null;for(S in o)if(o.hasOwnProperty(S)&&(_=o[S],_!=null))switch(S){case"value":s=_;break;case"defaultValue":d=_;break;case"children":m=_;break;case"dangerouslySetInnerHTML":if(_!=null)throw Error(a(91));break;default:Qe(e,n,S,_,o,null)}ka(e,s,d,m);return;case"option":for(A in o)if(o.hasOwnProperty(A)&&(s=o[A],s!=null))switch(A){case"selected":e.selected=s&&typeof s!="function"&&typeof s!="symbol";break;default:Qe(e,n,A,s,o,null)}return;case"dialog":Ue("beforetoggle",e),Ue("toggle",e),Ue("cancel",e),Ue("close",e);break;case"iframe":case"object":Ue("load",e);break;case"video":case"audio":for(s=0;s<ya.length;s++)Ue(ya[s],e);break;case"image":Ue("error",e),Ue("load",e);break;case"details":Ue("toggle",e);break;case"embed":case"source":case"link":Ue("error",e),Ue("load",e);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(U in o)if(o.hasOwnProperty(U)&&(s=o[U],s!=null))switch(U){case"children":case"dangerouslySetInnerHTML":throw Error(a(137,n));default:Qe(e,n,U,s,o,null)}return;default:if(Gl(n)){for(B in o)o.hasOwnProperty(B)&&(s=o[B],s!==void 0&&tc(e,n,B,s,o,void 0));return}}for(_ in o)o.hasOwnProperty(_)&&(s=o[_],s!=null&&Qe(e,n,_,s,o,null))}function Oy(e,n,o,s){switch(n){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var d=null,m=null,S=null,_=null,A=null,U=null,B=null;for(V in o){var Y=o[V];if(o.hasOwnProperty(V)&&Y!=null)switch(V){case"checked":break;case"value":break;case"defaultValue":A=Y;default:s.hasOwnProperty(V)||Qe(e,n,V,null,s,Y)}}for(var L in s){var V=s[L];if(Y=o[L],s.hasOwnProperty(L)&&(V!=null||Y!=null))switch(L){case"type":m=V;break;case"name":d=V;break;case"checked":U=V;break;case"defaultChecked":B=V;break;case"value":S=V;break;case"defaultValue":_=V;break;case"children":case"dangerouslySetInnerHTML":if(V!=null)throw Error(a(137,n));break;default:V!==Y&&Qe(e,n,L,V,s,Y)}}Pl(e,S,_,A,U,B,m,d);return;case"select":V=S=_=L=null;for(m in o)if(A=o[m],o.hasOwnProperty(m)&&A!=null)switch(m){case"value":break;case"multiple":V=A;default:s.hasOwnProperty(m)||Qe(e,n,m,null,s,A)}for(d in s)if(m=s[d],A=o[d],s.hasOwnProperty(d)&&(m!=null||A!=null))switch(d){case"value":L=m;break;case"defaultValue":_=m;break;case"multiple":S=m;default:m!==A&&Qe(e,n,d,m,s,A)}n=_,o=S,s=V,L!=null?xi(e,!!o,L,!1):!!s!=!!o&&(n!=null?xi(e,!!o,n,!0):xi(e,!!o,o?[]:"",!1));return;case"textarea":V=L=null;for(_ in o)if(d=o[_],o.hasOwnProperty(_)&&d!=null&&!s.hasOwnProperty(_))switch(_){case"value":break;case"children":break;default:Qe(e,n,_,null,s,d)}for(S in s)if(d=s[S],m=o[S],s.hasOwnProperty(S)&&(d!=null||m!=null))switch(S){case"value":L=d;break;case"defaultValue":V=d;break;case"children":break;case"dangerouslySetInnerHTML":if(d!=null)throw Error(a(91));break;default:d!==m&&Qe(e,n,S,d,s,m)}Ba(e,L,V);return;case"option":for(var ue in o)if(L=o[ue],o.hasOwnProperty(ue)&&L!=null&&!s.hasOwnProperty(ue))switch(ue){case"selected":e.selected=!1;break;default:Qe(e,n,ue,null,s,L)}for(A in s)if(L=s[A],V=o[A],s.hasOwnProperty(A)&&L!==V&&(L!=null||V!=null))switch(A){case"selected":e.selected=L&&typeof L!="function"&&typeof L!="symbol";break;default:Qe(e,n,A,L,s,V)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var ve in o)L=o[ve],o.hasOwnProperty(ve)&&L!=null&&!s.hasOwnProperty(ve)&&Qe(e,n,ve,null,s,L);for(U in s)if(L=s[U],V=o[U],s.hasOwnProperty(U)&&L!==V&&(L!=null||V!=null))switch(U){case"children":case"dangerouslySetInnerHTML":if(L!=null)throw Error(a(137,n));break;default:Qe(e,n,U,L,s,V)}return;default:if(Gl(n)){for(var Ze in o)L=o[Ze],o.hasOwnProperty(Ze)&&L!==void 0&&!s.hasOwnProperty(Ze)&&tc(e,n,Ze,void 0,s,L);for(B in s)L=s[B],V=o[B],!s.hasOwnProperty(B)||L===V||L===void 0&&V===void 0||tc(e,n,B,L,s,V);return}}for(var b in o)L=o[b],o.hasOwnProperty(b)&&L!=null&&!s.hasOwnProperty(b)&&Qe(e,n,b,null,s,L);for(Y in s)L=s[Y],V=o[Y],!s.hasOwnProperty(Y)||L===V||L==null&&V==null||Qe(e,n,Y,L,s,V)}function Xm(e){switch(e){case"css":case"script":case"font":case"img":case"image":case"input":case"link":return!0;default:return!1}}function Yy(){if(typeof performance.getEntriesByType=="function"){for(var e=0,n=0,o=performance.getEntriesByType("resource"),s=0;s<o.length;s++){var d=o[s],m=d.transferSize,S=d.initiatorType,_=d.duration;if(m&&_&&Xm(S)){for(S=0,_=d.responseEnd,s+=1;s<o.length;s++){var A=o[s],U=A.startTime;if(U>_)break;var B=A.transferSize,Y=A.initiatorType;B&&Xm(Y)&&(A=A.responseEnd,S+=B*(A<_?1:(_-U)/(A-U)))}if(--s,n+=8*(m+S)/(d.duration/1e3),e++,10<e)break}}if(0<e)return n/e/1e6}return navigator.connection&&(e=navigator.connection.downlink,typeof e=="number")?e:5}var nc=null,ic=null;function Ps(e){return e.nodeType===9?e:e.ownerDocument}function Km(e){switch(e){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function Qm(e,n){if(e===0)switch(n){case"svg":return 1;case"math":return 2;default:return 0}return e===1&&n==="foreignObject"?0:e}function oc(e,n){return e==="textarea"||e==="noscript"||typeof n.children=="string"||typeof n.children=="number"||typeof n.children=="bigint"||typeof n.dangerouslySetInnerHTML=="object"&&n.dangerouslySetInnerHTML!==null&&n.dangerouslySetInnerHTML.__html!=null}var lc=null;function Jy(){var e=window.event;return e&&e.type==="popstate"?e===lc?!1:(lc=e,!0):(lc=null,!1)}var Zm=typeof setTimeout=="function"?setTimeout:void 0,Xy=typeof clearTimeout=="function"?clearTimeout:void 0,$m=typeof Promise=="function"?Promise:void 0,Ky=typeof queueMicrotask=="function"?queueMicrotask:typeof $m<"u"?function(e){return $m.resolve(null).then(e).catch(Qy)}:Zm;function Qy(e){setTimeout(function(){throw e})}function Zi(e){return e==="head"}function Wm(e,n){var o=n,s=0;do{var d=o.nextSibling;if(e.removeChild(o),d&&d.nodeType===8)if(o=d.data,o==="/$"||o==="/&"){if(s===0){e.removeChild(d),hl(n);return}s--}else if(o==="$"||o==="$?"||o==="$~"||o==="$!"||o==="&")s++;else if(o==="html")Ta(e.ownerDocument.documentElement);else if(o==="head"){o=e.ownerDocument.head,Ta(o);for(var m=o.firstChild;m;){var S=m.nextSibling,_=m.nodeName;m[Ei]||_==="SCRIPT"||_==="STYLE"||_==="LINK"&&m.rel.toLowerCase()==="stylesheet"||o.removeChild(m),m=S}}else o==="body"&&Ta(e.ownerDocument.body);o=d}while(o);hl(n)}function jm(e,n){var o=e;e=0;do{var s=o.nextSibling;if(o.nodeType===1?n?(o._stashedDisplay=o.style.display,o.style.display="none"):(o.style.display=o._stashedDisplay||"",o.getAttribute("style")===""&&o.removeAttribute("style")):o.nodeType===3&&(n?(o._stashedText=o.nodeValue,o.nodeValue=""):o.nodeValue=o._stashedText||""),s&&s.nodeType===8)if(o=s.data,o==="/$"){if(e===0)break;e--}else o!=="$"&&o!=="$?"&&o!=="$~"&&o!=="$!"||e++;o=s}while(o)}function ac(e){var n=e.firstChild;for(n&&n.nodeType===10&&(n=n.nextSibling);n;){var o=n;switch(n=n.nextSibling,o.nodeName){case"HTML":case"HEAD":case"BODY":ac(o),Il(o);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(o.rel.toLowerCase()==="stylesheet")continue}e.removeChild(o)}}function Zy(e,n,o,s){for(;e.nodeType===1;){var d=o;if(e.nodeName.toLowerCase()!==n.toLowerCase()){if(!s&&(e.nodeName!=="INPUT"||e.type!=="hidden"))break}else if(s){if(!e[Ei])switch(n){case"meta":if(!e.hasAttribute("itemprop"))break;return e;case"link":if(m=e.getAttribute("rel"),m==="stylesheet"&&e.hasAttribute("data-precedence"))break;if(m!==d.rel||e.getAttribute("href")!==(d.href==null||d.href===""?null:d.href)||e.getAttribute("crossorigin")!==(d.crossOrigin==null?null:d.crossOrigin)||e.getAttribute("title")!==(d.title==null?null:d.title))break;return e;case"style":if(e.hasAttribute("data-precedence"))break;return e;case"script":if(m=e.getAttribute("src"),(m!==(d.src==null?null:d.src)||e.getAttribute("type")!==(d.type==null?null:d.type)||e.getAttribute("crossorigin")!==(d.crossOrigin==null?null:d.crossOrigin))&&m&&e.hasAttribute("async")&&!e.hasAttribute("itemprop"))break;return e;default:return e}}else if(n==="input"&&e.type==="hidden"){var m=d.name==null?null:""+d.name;if(d.type==="hidden"&&e.getAttribute("name")===m)return e}else return e;if(e=En(e.nextSibling),e===null)break}return null}function $y(e,n,o){if(n==="")return null;for(;e.nodeType!==3;)if((e.nodeType!==1||e.nodeName!=="INPUT"||e.type!=="hidden")&&!o||(e=En(e.nextSibling),e===null))return null;return e}function ep(e,n){for(;e.nodeType!==8;)if((e.nodeType!==1||e.nodeName!=="INPUT"||e.type!=="hidden")&&!n||(e=En(e.nextSibling),e===null))return null;return e}function sc(e){return e.data==="$?"||e.data==="$~"}function rc(e){return e.data==="$!"||e.data==="$?"&&e.ownerDocument.readyState!=="loading"}function Wy(e,n){var o=e.ownerDocument;if(e.data==="$~")e._reactRetry=n;else if(e.data!=="$?"||o.readyState!=="loading")n();else{var s=function(){n(),o.removeEventListener("DOMContentLoaded",s)};o.addEventListener("DOMContentLoaded",s),e._reactRetry=s}}function En(e){for(;e!=null;e=e.nextSibling){var n=e.nodeType;if(n===1||n===3)break;if(n===8){if(n=e.data,n==="$"||n==="$!"||n==="$?"||n==="$~"||n==="&"||n==="F!"||n==="F")break;if(n==="/$"||n==="/&")return null}}return e}var uc=null;function tp(e){e=e.nextSibling;for(var n=0;e;){if(e.nodeType===8){var o=e.data;if(o==="/$"||o==="/&"){if(n===0)return En(e.nextSibling);n--}else o!=="$"&&o!=="$!"&&o!=="$?"&&o!=="$~"&&o!=="&"||n++}e=e.nextSibling}return null}function np(e){e=e.previousSibling;for(var n=0;e;){if(e.nodeType===8){var o=e.data;if(o==="$"||o==="$!"||o==="$?"||o==="$~"||o==="&"){if(n===0)return e;n--}else o!=="/$"&&o!=="/&"||n++}e=e.previousSibling}return null}function ip(e,n,o){switch(n=Ps(o),e){case"html":if(e=n.documentElement,!e)throw Error(a(452));return e;case"head":if(e=n.head,!e)throw Error(a(453));return e;case"body":if(e=n.body,!e)throw Error(a(454));return e;default:throw Error(a(451))}}function Ta(e){for(var n=e.attributes;n.length;)e.removeAttributeNode(n[0]);Il(e)}var _n=new Map,op=new Set;function qs(e){return typeof e.getRootNode=="function"?e.getRootNode():e.nodeType===9?e:e.ownerDocument}var mi=K.d;K.d={f:jy,r:e0,D:t0,C:n0,L:i0,m:o0,X:a0,S:l0,M:s0};function jy(){var e=mi.f(),n=Ms();return e||n}function e0(e){var n=_i(e);n!==null&&n.tag===5&&n.type==="form"?Ed(n):mi.r(e)}var dl=typeof document>"u"?null:document;function lp(e,n,o){var s=dl;if(s&&typeof n=="string"&&n){var d=zt(n);d='link[rel="'+e+'"][href="'+d+'"]',typeof o=="string"&&(d+='[crossorigin="'+o+'"]'),op.has(d)||(op.add(d),e={rel:e,crossOrigin:o,href:n},s.querySelector(d)===null&&(n=s.createElement("link"),Mt(n,"link",e),et(n),s.head.appendChild(n)))}}function t0(e){mi.D(e),lp("dns-prefetch",e,null)}function n0(e,n){mi.C(e,n),lp("preconnect",e,n)}function i0(e,n,o){mi.L(e,n,o);var s=dl;if(s&&e&&n){var d='link[rel="preload"][as="'+zt(n)+'"]';n==="image"&&o&&o.imageSrcSet?(d+='[imagesrcset="'+zt(o.imageSrcSet)+'"]',typeof o.imageSizes=="string"&&(d+='[imagesizes="'+zt(o.imageSizes)+'"]')):d+='[href="'+zt(e)+'"]';var m=d;switch(n){case"style":m=ml(e);break;case"script":m=pl(e)}_n.has(m)||(e=E({rel:"preload",href:n==="image"&&o&&o.imageSrcSet?void 0:e,as:n},o),_n.set(m,e),s.querySelector(d)!==null||n==="style"&&s.querySelector(Sa(m))||n==="script"&&s.querySelector(Ea(m))||(n=s.createElement("link"),Mt(n,"link",e),et(n),s.head.appendChild(n)))}}function o0(e,n){mi.m(e,n);var o=dl;if(o&&e){var s=n&&typeof n.as=="string"?n.as:"script",d='link[rel="modulepreload"][as="'+zt(s)+'"][href="'+zt(e)+'"]',m=d;switch(s){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":m=pl(e)}if(!_n.has(m)&&(e=E({rel:"modulepreload",href:e},n),_n.set(m,e),o.querySelector(d)===null)){switch(s){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(o.querySelector(Ea(m)))return}s=o.createElement("link"),Mt(s,"link",e),et(s),o.head.appendChild(s)}}}function l0(e,n,o){mi.S(e,n,o);var s=dl;if(s&&e){var d=Ci(s).hoistableStyles,m=ml(e);n=n||"default";var S=d.get(m);if(!S){var _={loading:0,preload:null};if(S=s.querySelector(Sa(m)))_.loading=5;else{e=E({rel:"stylesheet",href:e,"data-precedence":n},o),(o=_n.get(m))&&cc(e,o);var A=S=s.createElement("link");et(A),Mt(A,"link",e),A._p=new Promise(function(U,B){A.onload=U,A.onerror=B}),A.addEventListener("load",function(){_.loading|=1}),A.addEventListener("error",function(){_.loading|=2}),_.loading|=4,Gs(S,n,s)}S={type:"stylesheet",instance:S,count:1,state:_},d.set(m,S)}}}function a0(e,n){mi.X(e,n);var o=dl;if(o&&e){var s=Ci(o).hoistableScripts,d=pl(e),m=s.get(d);m||(m=o.querySelector(Ea(d)),m||(e=E({src:e,async:!0},n),(n=_n.get(d))&&fc(e,n),m=o.createElement("script"),et(m),Mt(m,"link",e),o.head.appendChild(m)),m={type:"script",instance:m,count:1,state:null},s.set(d,m))}}function s0(e,n){mi.M(e,n);var o=dl;if(o&&e){var s=Ci(o).hoistableScripts,d=pl(e),m=s.get(d);m||(m=o.querySelector(Ea(d)),m||(e=E({src:e,async:!0,type:"module"},n),(n=_n.get(d))&&fc(e,n),m=o.createElement("script"),et(m),Mt(m,"link",e),o.head.appendChild(m)),m={type:"script",instance:m,count:1,state:null},s.set(d,m))}}function ap(e,n,o,s){var d=(d=xe.current)?qs(d):null;if(!d)throw Error(a(446));switch(e){case"meta":case"title":return null;case"style":return typeof o.precedence=="string"&&typeof o.href=="string"?(n=ml(o.href),o=Ci(d).hoistableStyles,s=o.get(n),s||(s={type:"style",instance:null,count:0,state:null},o.set(n,s)),s):{type:"void",instance:null,count:0,state:null};case"link":if(o.rel==="stylesheet"&&typeof o.href=="string"&&typeof o.precedence=="string"){e=ml(o.href);var m=Ci(d).hoistableStyles,S=m.get(e);if(S||(d=d.ownerDocument||d,S={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},m.set(e,S),(m=d.querySelector(Sa(e)))&&!m._p&&(S.instance=m,S.state.loading=5),_n.has(e)||(o={rel:"preload",as:"style",href:o.href,crossOrigin:o.crossOrigin,integrity:o.integrity,media:o.media,hrefLang:o.hrefLang,referrerPolicy:o.referrerPolicy},_n.set(e,o),m||r0(d,e,o,S.state))),n&&s===null)throw Error(a(528,""));return S}if(n&&s!==null)throw Error(a(529,""));return null;case"script":return n=o.async,o=o.src,typeof o=="string"&&n&&typeof n!="function"&&typeof n!="symbol"?(n=pl(o),o=Ci(d).hoistableScripts,s=o.get(n),s||(s={type:"script",instance:null,count:0,state:null},o.set(n,s)),s):{type:"void",instance:null,count:0,state:null};default:throw Error(a(444,e))}}function ml(e){return'href="'+zt(e)+'"'}function Sa(e){return'link[rel="stylesheet"]['+e+"]"}function sp(e){return E({},e,{"data-precedence":e.precedence,precedence:null})}function r0(e,n,o,s){e.querySelector('link[rel="preload"][as="style"]['+n+"]")?s.loading=1:(n=e.createElement("link"),s.preload=n,n.addEventListener("load",function(){return s.loading|=1}),n.addEventListener("error",function(){return s.loading|=2}),Mt(n,"link",o),et(n),e.head.appendChild(n))}function pl(e){return'[src="'+zt(e)+'"]'}function Ea(e){return"script[async]"+e}function rp(e,n,o){if(n.count++,n.instance===null)switch(n.type){case"style":var s=e.querySelector('style[data-href~="'+zt(o.href)+'"]');if(s)return n.instance=s,et(s),s;var d=E({},o,{"data-href":o.href,"data-precedence":o.precedence,href:null,precedence:null});return s=(e.ownerDocument||e).createElement("style"),et(s),Mt(s,"style",d),Gs(s,o.precedence,e),n.instance=s;case"stylesheet":d=ml(o.href);var m=e.querySelector(Sa(d));if(m)return n.state.loading|=4,n.instance=m,et(m),m;s=sp(o),(d=_n.get(d))&&cc(s,d),m=(e.ownerDocument||e).createElement("link"),et(m);var S=m;return S._p=new Promise(function(_,A){S.onload=_,S.onerror=A}),Mt(m,"link",s),n.state.loading|=4,Gs(m,o.precedence,e),n.instance=m;case"script":return m=pl(o.src),(d=e.querySelector(Ea(m)))?(n.instance=d,et(d),d):(s=o,(d=_n.get(m))&&(s=E({},o),fc(s,d)),e=e.ownerDocument||e,d=e.createElement("script"),et(d),Mt(d,"link",s),e.head.appendChild(d),n.instance=d);case"void":return null;default:throw Error(a(443,n.type))}else n.type==="stylesheet"&&(n.state.loading&4)===0&&(s=n.instance,n.state.loading|=4,Gs(s,o.precedence,e));return n.instance}function Gs(e,n,o){for(var s=o.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),d=s.length?s[s.length-1]:null,m=d,S=0;S<s.length;S++){var _=s[S];if(_.dataset.precedence===n)m=_;else if(m!==d)break}m?m.parentNode.insertBefore(e,m.nextSibling):(n=o.nodeType===9?o.head:o,n.insertBefore(e,n.firstChild))}function cc(e,n){e.crossOrigin==null&&(e.crossOrigin=n.crossOrigin),e.referrerPolicy==null&&(e.referrerPolicy=n.referrerPolicy),e.title==null&&(e.title=n.title)}function fc(e,n){e.crossOrigin==null&&(e.crossOrigin=n.crossOrigin),e.referrerPolicy==null&&(e.referrerPolicy=n.referrerPolicy),e.integrity==null&&(e.integrity=n.integrity)}var Vs=null;function up(e,n,o){if(Vs===null){var s=new Map,d=Vs=new Map;d.set(o,s)}else d=Vs,s=d.get(o),s||(s=new Map,d.set(o,s));if(s.has(e))return s;for(s.set(e,null),o=o.getElementsByTagName(e),d=0;d<o.length;d++){var m=o[d];if(!(m[Ei]||m[rt]||e==="link"&&m.getAttribute("rel")==="stylesheet")&&m.namespaceURI!=="http://www.w3.org/2000/svg"){var S=m.getAttribute(n)||"";S=e+S;var _=s.get(S);_?_.push(m):s.set(S,[m])}}return s}function cp(e,n,o){e=e.ownerDocument||e,e.head.insertBefore(o,n==="title"?e.querySelector("head > title"):null)}function u0(e,n,o){if(o===1||n.itemProp!=null)return!1;switch(e){case"meta":case"title":return!0;case"style":if(typeof n.precedence!="string"||typeof n.href!="string"||n.href==="")break;return!0;case"link":if(typeof n.rel!="string"||typeof n.href!="string"||n.href===""||n.onLoad||n.onError)break;switch(n.rel){case"stylesheet":return e=n.disabled,typeof n.precedence=="string"&&e==null;default:return!0}case"script":if(n.async&&typeof n.async!="function"&&typeof n.async!="symbol"&&!n.onLoad&&!n.onError&&n.src&&typeof n.src=="string")return!0}return!1}function fp(e){return!(e.type==="stylesheet"&&(e.state.loading&3)===0)}function c0(e,n,o,s){if(o.type==="stylesheet"&&(typeof s.media!="string"||matchMedia(s.media).matches!==!1)&&(o.state.loading&4)===0){if(o.instance===null){var d=ml(s.href),m=n.querySelector(Sa(d));if(m){n=m._p,n!==null&&typeof n=="object"&&typeof n.then=="function"&&(e.count++,e=Hs.bind(e),n.then(e,e)),o.state.loading|=4,o.instance=m,et(m);return}m=n.ownerDocument||n,s=sp(s),(d=_n.get(d))&&cc(s,d),m=m.createElement("link"),et(m);var S=m;S._p=new Promise(function(_,A){S.onload=_,S.onerror=A}),Mt(m,"link",s),o.instance=m}e.stylesheets===null&&(e.stylesheets=new Map),e.stylesheets.set(o,n),(n=o.state.preload)&&(o.state.loading&3)===0&&(e.count++,o=Hs.bind(e),n.addEventListener("load",o),n.addEventListener("error",o))}}var dc=0;function f0(e,n){return e.stylesheets&&e.count===0&&Bs(e,e.stylesheets),0<e.count||0<e.imgCount?function(o){var s=setTimeout(function(){if(e.stylesheets&&Bs(e,e.stylesheets),e.unsuspend){var m=e.unsuspend;e.unsuspend=null,m()}},6e4+n);0<e.imgBytes&&dc===0&&(dc=62500*Yy());var d=setTimeout(function(){if(e.waitingForImages=!1,e.count===0&&(e.stylesheets&&Bs(e,e.stylesheets),e.unsuspend)){var m=e.unsuspend;e.unsuspend=null,m()}},(e.imgBytes>dc?50:800)+n);return e.unsuspend=o,function(){e.unsuspend=null,clearTimeout(s),clearTimeout(d)}}:null}function Hs(){if(this.count--,this.count===0&&(this.imgCount===0||!this.waitingForImages)){if(this.stylesheets)Bs(this,this.stylesheets);else if(this.unsuspend){var e=this.unsuspend;this.unsuspend=null,e()}}}var zs=null;function Bs(e,n){e.stylesheets=null,e.unsuspend!==null&&(e.count++,zs=new Map,n.forEach(d0,e),zs=null,Hs.call(e))}function d0(e,n){if(!(n.state.loading&4)){var o=zs.get(e);if(o)var s=o.get(null);else{o=new Map,zs.set(e,o);for(var d=e.querySelectorAll("link[data-precedence],style[data-precedence]"),m=0;m<d.length;m++){var S=d[m];(S.nodeName==="LINK"||S.getAttribute("media")!=="not all")&&(o.set(S.dataset.precedence,S),s=S)}s&&o.set(null,s)}d=n.instance,S=d.getAttribute("data-precedence"),m=o.get(S)||s,m===s&&o.set(null,d),o.set(S,d),this.count++,s=Hs.bind(this),d.addEventListener("load",s),d.addEventListener("error",s),m?m.parentNode.insertBefore(d,m.nextSibling):(e=e.nodeType===9?e.head:e,e.insertBefore(d,e.firstChild)),n.state.loading|=4}}var _a={$$typeof:J,Provider:null,Consumer:null,_currentValue:re,_currentValue2:re,_threadCount:0};function m0(e,n,o,s,d,m,S,_,A){this.tag=1,this.containerInfo=e,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=st(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=st(0),this.hiddenUpdates=st(null),this.identifierPrefix=s,this.onUncaughtError=d,this.onCaughtError=m,this.onRecoverableError=S,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=A,this.incompleteTransitions=new Map}function dp(e,n,o,s,d,m,S,_,A,U,B,Y){return e=new m0(e,n,o,S,A,U,B,Y,_),n=1,m===!0&&(n|=24),m=nn(3,null,null,n),e.current=m,m.stateNode=e,n=Yr(),n.refCount++,e.pooledCache=n,n.refCount++,m.memoizedState={element:s,isDehydrated:o,cache:n},Qr(m),e}function mp(e){return e?(e=Yo,e):Yo}function pp(e,n,o,s,d,m){d=mp(d),s.context===null?s.context=d:s.pendingContext=d,s=Hi(n),s.payload={element:o},m=m===void 0?null:m,m!==null&&(s.callback=m),o=zi(e,s,n),o!==null&&(Jt(o,e,n),ea(o,e,n))}function hp(e,n){if(e=e.memoizedState,e!==null&&e.dehydrated!==null){var o=e.retryLane;e.retryLane=o!==0&&o<n?o:n}}function mc(e,n){hp(e,n),(e=e.alternate)&&hp(e,n)}function gp(e){if(e.tag===13||e.tag===31){var n=yo(e,67108864);n!==null&&Jt(n,e,67108864),mc(e,67108864)}}function yp(e){if(e.tag===13||e.tag===31){var n=rn();n=Po(n);var o=yo(e,n);o!==null&&Jt(o,e,n),mc(e,n)}}var ks=!0;function p0(e,n,o,s){var d=P.T;P.T=null;var m=K.p;try{K.p=2,pc(e,n,o,s)}finally{K.p=m,P.T=d}}function h0(e,n,o,s){var d=P.T;P.T=null;var m=K.p;try{K.p=8,pc(e,n,o,s)}finally{K.p=m,P.T=d}}function pc(e,n,o,s){if(ks){var d=hc(s);if(d===null)ec(e,n,s,Fs,o),Tp(e,s);else if(y0(d,e,n,o,s))s.stopPropagation();else if(Tp(e,s),n&4&&-1<g0.indexOf(e)){for(;d!==null;){var m=_i(d);if(m!==null)switch(m.tag){case 3:if(m=m.stateNode,m.current.memoizedState.isDehydrated){var S=Gt(m.pendingLanes);if(S!==0){var _=m;for(_.pendingLanes|=2,_.entangledLanes|=2;S;){var A=1<<31-wt(S);_.entanglements[1]|=A,S&=~A}On(m),(Oe&6)===0&&(Rs=qt()+500,ga(0))}}break;case 31:case 13:_=yo(m,2),_!==null&&Jt(_,m,2),Ms(),mc(m,2)}if(m=hc(s),m===null&&ec(e,n,s,Fs,o),m===d)break;d=m}d!==null&&s.stopPropagation()}else ec(e,n,s,null,o)}}function hc(e){return e=se(e),gc(e)}var Fs=null;function gc(e){if(Fs=null,e=Xn(e),e!==null){var n=f(e);if(n===null)e=null;else{var o=n.tag;if(o===13){if(e=p(n),e!==null)return e;e=null}else if(o===31){if(e=g(n),e!==null)return e;e=null}else if(o===3){if(n.stateNode.current.memoizedState.isDehydrated)return n.tag===3?n.stateNode.containerInfo:null;e=null}else n!==e&&(e=null)}}return Fs=e,null}function vp(e){switch(e){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(cr()){case fr:return 2;case La:return 8;case xl:case dr:return 32;case Pa:return 268435456;default:return 32}default:return 32}}var yc=!1,$i=null,Wi=null,ji=null,Ca=new Map,Aa=new Map,eo=[],g0="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function Tp(e,n){switch(e){case"focusin":case"focusout":$i=null;break;case"dragenter":case"dragleave":Wi=null;break;case"mouseover":case"mouseout":ji=null;break;case"pointerover":case"pointerout":Ca.delete(n.pointerId);break;case"gotpointercapture":case"lostpointercapture":Aa.delete(n.pointerId)}}function Ra(e,n,o,s,d,m){return e===null||e.nativeEvent!==m?(e={blockedOn:n,domEventName:o,eventSystemFlags:s,nativeEvent:m,targetContainers:[d]},n!==null&&(n=_i(n),n!==null&&gp(n)),e):(e.eventSystemFlags|=s,n=e.targetContainers,d!==null&&n.indexOf(d)===-1&&n.push(d),e)}function y0(e,n,o,s,d){switch(n){case"focusin":return $i=Ra($i,e,n,o,s,d),!0;case"dragenter":return Wi=Ra(Wi,e,n,o,s,d),!0;case"mouseover":return ji=Ra(ji,e,n,o,s,d),!0;case"pointerover":var m=d.pointerId;return Ca.set(m,Ra(Ca.get(m)||null,e,n,o,s,d)),!0;case"gotpointercapture":return m=d.pointerId,Aa.set(m,Ra(Aa.get(m)||null,e,n,o,s,d)),!0}return!1}function Sp(e){var n=Xn(e.target);if(n!==null){var o=f(n);if(o!==null){if(n=o.tag,n===13){if(n=p(o),n!==null){e.blockedOn=n,Gn(e.priority,function(){yp(o)});return}}else if(n===31){if(n=g(o),n!==null){e.blockedOn=n,Gn(e.priority,function(){yp(o)});return}}else if(n===3&&o.stateNode.current.memoizedState.isDehydrated){e.blockedOn=o.tag===3?o.stateNode.containerInfo:null;return}}}e.blockedOn=null}function Os(e){if(e.blockedOn!==null)return!1;for(var n=e.targetContainers;0<n.length;){var o=hc(e.nativeEvent);if(o===null){o=e.nativeEvent;var s=new o.constructor(o.type,o);Q=s,o.target.dispatchEvent(s),Q=null}else return n=_i(o),n!==null&&gp(n),e.blockedOn=o,!1;n.shift()}return!0}function Ep(e,n,o){Os(e)&&o.delete(n)}function v0(){yc=!1,$i!==null&&Os($i)&&($i=null),Wi!==null&&Os(Wi)&&(Wi=null),ji!==null&&Os(ji)&&(ji=null),Ca.forEach(Ep),Aa.forEach(Ep)}function Ys(e,n){e.blockedOn===n&&(e.blockedOn=null,yc||(yc=!0,i.unstable_scheduleCallback(i.unstable_NormalPriority,v0)))}var Js=null;function _p(e){Js!==e&&(Js=e,i.unstable_scheduleCallback(i.unstable_NormalPriority,function(){Js===e&&(Js=null);for(var n=0;n<e.length;n+=3){var o=e[n],s=e[n+1],d=e[n+2];if(typeof s!="function"){if(gc(s||o)===null)continue;break}var m=_i(o);m!==null&&(e.splice(n,3),n-=3,hu(m,{pending:!0,data:d,method:o.method,action:s},s,d))}}))}function hl(e){function n(A){return Ys(A,e)}$i!==null&&Ys($i,e),Wi!==null&&Ys(Wi,e),ji!==null&&Ys(ji,e),Ca.forEach(n),Aa.forEach(n);for(var o=0;o<eo.length;o++){var s=eo[o];s.blockedOn===e&&(s.blockedOn=null)}for(;0<eo.length&&(o=eo[0],o.blockedOn===null);)Sp(o),o.blockedOn===null&&eo.shift();if(o=(e.ownerDocument||e).$$reactFormReplay,o!=null)for(s=0;s<o.length;s+=3){var d=o[s],m=o[s+1],S=d[Tt]||null;if(typeof m=="function")S||_p(o);else if(S){var _=null;if(m&&m.hasAttribute("formAction")){if(d=m,S=m[Tt]||null)_=S.formAction;else if(gc(d)!==null)continue}else _=S.action;typeof _=="function"?o[s+1]=_:(o.splice(s,3),s-=3),_p(o)}}}function Cp(){function e(m){m.canIntercept&&m.info==="react-transition"&&m.intercept({handler:function(){return new Promise(function(S){return d=S})},focusReset:"manual",scroll:"manual"})}function n(){d!==null&&(d(),d=null),s||setTimeout(o,20)}function o(){if(!s&&!navigation.transition){var m=navigation.currentEntry;m&&m.url!=null&&navigation.navigate(m.url,{state:m.getState(),info:"react-transition",history:"replace"})}}if(typeof navigation=="object"){var s=!1,d=null;return navigation.addEventListener("navigate",e),navigation.addEventListener("navigatesuccess",n),navigation.addEventListener("navigateerror",n),setTimeout(o,100),function(){s=!0,navigation.removeEventListener("navigate",e),navigation.removeEventListener("navigatesuccess",n),navigation.removeEventListener("navigateerror",n),d!==null&&(d(),d=null)}}}function vc(e){this._internalRoot=e}Xs.prototype.render=vc.prototype.render=function(e){var n=this._internalRoot;if(n===null)throw Error(a(409));var o=n.current,s=rn();pp(o,s,e,n,null,null)},Xs.prototype.unmount=vc.prototype.unmount=function(){var e=this._internalRoot;if(e!==null){this._internalRoot=null;var n=e.containerInfo;pp(e.current,2,null,e,null,null),Ms(),n[dt]=null}};function Xs(e){this._internalRoot=e}Xs.prototype.unstable_scheduleHydration=function(e){if(e){var n=Vt();e={blockedOn:null,target:e,priority:n};for(var o=0;o<eo.length&&n!==0&&n<eo[o].priority;o++);eo.splice(o,0,e),o===0&&Sp(e)}};var Ap=t.version;if(Ap!=="19.2.1")throw Error(a(527,Ap,"19.2.1"));K.findDOMNode=function(e){var n=e._reactInternals;if(n===void 0)throw typeof e.render=="function"?Error(a(188)):(e=Object.keys(e).join(","),Error(a(268,e)));return e=h(n),e=e!==null?v(e):null,e=e===null?null:e.stateNode,e};var T0={bundleType:0,version:"19.2.1",rendererPackageName:"react-dom",currentDispatcherRef:P,reconcilerVersion:"19.2.1"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Ks=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Ks.isDisabled&&Ks.supportsFiber)try{bt=Ks.inject(T0),Lt=Ks}catch{}}return Ma.createRoot=function(e,n){if(!u(e))throw Error(a(299));var o=!1,s="",d=Dd,m=Id,S=Ud;return n!=null&&(n.unstable_strictMode===!0&&(o=!0),n.identifierPrefix!==void 0&&(s=n.identifierPrefix),n.onUncaughtError!==void 0&&(d=n.onUncaughtError),n.onCaughtError!==void 0&&(m=n.onCaughtError),n.onRecoverableError!==void 0&&(S=n.onRecoverableError)),n=dp(e,1,!1,null,null,o,s,null,d,m,S,Cp),e[dt]=n.current,ju(e),new vc(n)},Ma.hydrateRoot=function(e,n,o){if(!u(e))throw Error(a(299));var s=!1,d="",m=Dd,S=Id,_=Ud,A=null;return o!=null&&(o.unstable_strictMode===!0&&(s=!0),o.identifierPrefix!==void 0&&(d=o.identifierPrefix),o.onUncaughtError!==void 0&&(m=o.onUncaughtError),o.onCaughtError!==void 0&&(S=o.onCaughtError),o.onRecoverableError!==void 0&&(_=o.onRecoverableError),o.formState!==void 0&&(A=o.formState)),n=dp(e,1,!0,n,o??null,s,d,A,m,S,_,Cp),n.context=mp(null),o=n.current,s=rn(),s=Po(s),d=Hi(s),d.callback=null,zi(o,d,s),o=s,n.current.lanes=o,$t(n,o),On(n),e[dt]=n.current,ju(e),new Xs(n)},Ma.version="19.2.1",Ma}var Lp;function b0(){if(Lp)return Ec.exports;Lp=1;function i(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(i)}catch(t){console.error(t)}}return i(),Ec.exports=N0(),Ec.exports}var w0=b0();const D0=fg(w0),I0=`#version 300 es
  in vec2 a_position;
  void main() {
    gl_Position = vec4(a_position, 0.0, 1.0);
  }
`,Pp=(i,t,l)=>{const a=i.createShader(t);if(!a)return"Could not create shader";if(i.shaderSource(a,l),i.compileShader(a),!i.getShaderParameter(a,i.COMPILE_STATUS)){const u=i.getShaderInfoLog(a);return i.deleteShader(a),`Shader compilation error:
${u}`}return a},U0=(i,t,l)=>{const a=i.createProgram();if(!a)return"Could not create program";if(i.attachShader(a,t),i.attachShader(a,l),i.linkProgram(a),!i.getProgramParameter(a,i.LINK_STATUS)){const u=i.getProgramInfoLog(a);return i.deleteProgram(a),`Program linking error:
${u}`}return a},L0=zc.memo(({fragmentSrc:i,onError:t,uniforms:l,cameraRef:a,isHdEnabled:u,isFpsEnabled:f,isPlaying:p,shouldReduceQuality:g})=>{const y=D.useRef(null),h=D.useRef(null),v=D.useRef(l);v.current!==l&&(v.current=l);const E=D.useRef(p);E.current=p;const T=D.useRef(u);T.current=u;const R=D.useRef(g);R.current=g;const N=D.useRef(f);N.current=f;const w=D.useRef({});return D.useEffect(()=>{const z=y.current;if(!z)return;const G=z.getContext("webgl2",{preserveDrawingBuffer:!1,alpha:!1,depth:!1,stencil:!1,antialias:!1,powerPreference:"high-performance",desynchronized:!0});if(!G){t("WebGL 2 is not supported on this browser.");return}const J=`#version 300 es
      precision highp float;
      uniform vec2 u_resolution;
      uniform float u_time;
      uniform vec3 u_cameraPosition;
      uniform vec2 u_cameraRotation;
      uniform float u_cameraRoll;
      ${(me=>Object.entries(me).map(([xe,De])=>`uniform float ${xe};`).join(`
`))(v.current)}
      out vec4 outColor;

      mat3 rotate3D(float angle, vec3 axis){
        vec3 a = normalize(axis);
        float s = sin(angle);
        float c = cos(angle);
        float r = 1.0 - c;
        return mat3(
            a.x * a.x * r + c,
            a.y * a.x * r + a.z * s,
            a.z * a.x * r - a.y * s,
            a.x * a.y * r - a.z * s,
            a.y * a.y * r + c,
            a.z * a.y * r + a.x * s,
            a.x * a.z * r + a.y * s,
            a.y * a.z * r - a.x * s,
            a.z * a.z * r + c
        );
      }

      void main() {
        vec4 o = vec4(0.0, 0.0, 0.0, 1.0);
        vec2 r = u_resolution;
        float t = u_time;
        vec3 FC = gl_FragCoord.xyz;
        ${i};
        outColor = o;
      }
    `,ee=Pp(G,G.VERTEX_SHADER,I0);if(typeof ee=="string"){t(ee);return}const te=ee,ie=Pp(G,G.FRAGMENT_SHADER,J);if(typeof ie=="string"){G.deleteShader(te),t(ie);return}const X=ie,fe=U0(G,te,X);if(G.deleteShader(te),G.deleteShader(X),typeof fe=="string"){t(fe);return}const W=fe,j=G.getAttribLocation(W,"a_position"),ge=G.getUniformLocation(W,"u_resolution"),Re=G.getUniformLocation(W,"u_time"),Te=G.getUniformLocation(W,"u_cameraPosition"),qe=G.getUniformLocation(W,"u_cameraRotation"),Ge=G.getUniformLocation(W,"u_cameraRoll"),P={};for(const me of Object.keys(v.current))P[me]=G.getUniformLocation(W,me);w.current={};const K=G.createBuffer();G.bindBuffer(G.ARRAY_BUFFER,K);const re=[-1,-1,1,-1,-1,1,-1,1,1,-1,1,1];G.bufferData(G.ARRAY_BUFFER,new Float32Array(re),G.STATIC_DRAW),G.useProgram(W),G.enableVertexAttribArray(j),G.vertexAttribPointer(j,2,G.FLOAT,!1,0,0),t("");let _e,ye=0,x=0,O=0,ne=0;const ae=me=>{x===0&&(x=me);const xe=me-x;x=me,E.current&&(ye+=xe);let De=T.current?1:.5;T.current&&R.current&&(De=.65);const at=Math.floor(z.clientWidth*De),We=Math.floor(z.clientHeight*De);(z.width!==at||z.height!==We)&&(z.width=at,z.height=We,G.viewport(0,0,G.canvas.width,G.canvas.height)),G.uniform2f(ge,G.canvas.width,G.canvas.height),G.uniform1f(Re,ye*.001),a&&a.current&&(G.uniform3fv(Te,a.current.position),G.uniform2fv(qe,a.current.rotation),G.uniform1f(Ge,a.current.roll));const Rn=v.current,cn=w.current;for(const Kt in Rn){const fn=Rn[Kt],Qt=P[Kt];Qt!==null&&cn[Kt]!==fn&&(G.uniform1f(Qt,fn),cn[Kt]=fn)}if(G.drawArrays(G.TRIANGLES,0,6),N.current&&(O++,me-ne>=500)){const Kt=Math.round(O*1e3/(me-ne));h.current&&(h.current.textContent=`${Kt} FPS`),ne=me,O=0}_e=requestAnimationFrame(ae)};return _e=requestAnimationFrame(ae),()=>{cancelAnimationFrame(_e),G.deleteProgram(W),G.deleteBuffer(K)}},[i,t,a]),C.jsxs(C.Fragment,{children:[C.jsx("canvas",{ref:y,className:"absolute top-0 left-0 w-full h-full",style:{imageRendering:u&&g?"pixelated":"auto"}}),f&&C.jsx("div",{ref:h,className:"fixed bottom-2 right-2 z-30 pointer-events-none bg-black/60 backdrop-blur-sm text-green-400 font-mono text-xs px-2 py-1 rounded border border-green-900/50 shadow-sm",children:"-- FPS"})]})}),dg=D.createContext(null),P0=({value:i,children:t})=>C.jsx(dg.Provider,{value:i,children:t}),An=()=>{const i=D.useContext(dg);if(!i)throw new Error("useAppContext must be used within an AppProvider");return i};/**
 * @license
 * SPDX-License-Identifier: Apache-2.0
*/const Ln=({className:i,children:t,...l})=>C.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:i,fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",strokeWidth:1.5,width:"24",height:"24",...l,children:t}),q0=i=>C.jsxs(Ln,{...i,children:[C.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M10.325 4.317c.426-1.756 2.924-1.756 3.35 0a1.724 1.724 0 002.573 1.066c1.543-.94 3.31.826 2.37 2.37a1.724 1.724 0 001.065 2.572c1.756.426 1.756 2.924 0 3.35a1.724 1.724 0 00-1.066 2.573c.94 1.543-.826 3.31-2.37 2.37a1.724 1.724 0 00-2.572 1.065c-.426 1.756-2.924 1.756-3.35 0a1.724 1.724 0 00-2.573-1.066c-1.543.94-3.31-.826-2.37-2.37a1.724 1.724 0 00-1.065-2.572c-1.756-.426-1.756-2.924 0-3.35a1.724 1.724 0 001.066-2.573c-.94-1.543.826-3.31 2.37-2.37.996.608 2.296.07 2.572-1.065z"}),C.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M15 12a3 3 0 11-6 0 3 3 0 016 0z"})]}),G0=i=>C.jsx(Ln,{...i,children:C.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M19.114 5.636a9 9 0 010 12.728M16.463 8.288a5.25 5.25 0 010 7.424M6.75 8.25l4.72-4.72a.75.75 0 011.28.53v15.88a.75.75 0 01-1.28.53l-4.72-4.72H4.51c-.88 0-1.704-.507-1.938-1.354A9.01 9.01 0 012.25 12c0-.83.112-1.633.322-2.396C2.806 8.756 3.63 8.25 4.51 8.25H6.75z"})}),V0=i=>C.jsx(Ln,{...i,children:C.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M17.25 9.75 19.5 12m0 0 2.25 2.25M19.5 12l2.25-2.25M19.5 12l-2.25 2.25m-10.5-6 4.72-4.72a.75.75 0 0 1 1.28.53v15.88a.75.75 0 0 1-1.28.53l-4.72-4.72H4.51c-.88 0-1.704-.507-1.938-1.354A9.01 9.01 0 0 1 2.25 12c0-.83.112-1.633.322-2.396C2.806 8.756 3.63 8.25 4.51 8.25H6.75z"})}),H0=i=>C.jsx(Ln,{...i,children:C.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M9.813 15.904L9 18.75l-.813-2.846a4.5 4.5 0 00-3.09-3.09L2.25 12l2.846-.813a4.5 4.5 0 003.09-3.09L9 5.25l.813 2.846a4.5 4.5 0 003.09 3.09L15.75 12l-2.846.813a4.5 4.5 0 00-3.09 3.09zM18.259 8.715L18 9.75l-.259-1.035a3.375 3.375 0 00-2.455-2.456L14.25 6l1.036-.259a3.375 3.375 0 002.455-2.456L18 2.25l.259 1.035a3.375 3.375 0 002.456 2.456L21.75 6l-1.035.259a3.375 3.375 0 00-2.456 2.456zM16.898 20.553L16.5 21.75l-.398-1.197a3.375 3.375 0 00-2.456-2.456L12.75 18l1.197-.398a3.375 3.375 0 002.456-2.456L16.5 14.25l.398 1.197a3.375 3.375 0 002.456 2.456L20.25 18l-1.197.398a3.375 3.375 0 00-2.456 2.456z"})}),z0=i=>C.jsx(Ln,{...i,children:C.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M10.5 6h9.75M10.5 6a1.5 1.5 0 11-3 0m3 0a1.5 1.5 0 10-3 0M3.75 6H7.5m3 12h9.75m-9.75 0a1.5 1.5 0 01-3 0m3 0a1.5 1.5 0 00-3 0m-3.75 0H7.5m9-6h3.75m-3.75 0a1.5 1.5 0 01-3 0m3 0a1.5 1.5 0 00-3 0m-9.75 0h9.75"})}),Bc=i=>C.jsx(Ln,{...i,children:C.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M9.75 9.75l4.5 4.5m0-4.5l-4.5 4.5M21 12a9 9 0 11-18 0 9 9 0 0118 0z"})}),Rc=i=>C.jsx(Ln,{...i,strokeWidth:2.5,children:C.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M4.5 15.75l7.5-7.5 7.5 7.5"})}),xc=i=>C.jsx(Ln,{...i,strokeWidth:2.5,children:C.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M19.5 8.25l-7.5 7.5-7.5-7.5"})}),qp=i=>C.jsx(Ln,{...i,strokeWidth:2.5,children:C.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M15.75 19.5L8.25 12l7.5-7.5"})}),Gp=i=>C.jsx(Ln,{...i,strokeWidth:2.5,children:C.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M8.25 4.5l7.5 7.5-7.5 7.5"})}),mg=i=>C.jsxs(Ln,{...i,viewBox:"0 0 24 24",strokeWidth:1.5,children:[C.jsx("circle",{cx:"12",cy:"12",r:"3"}),C.jsx("ellipse",{cx:"12",cy:"12",rx:"10",ry:"4",transform:"rotate(45 12 12)"}),C.jsx("ellipse",{cx:"12",cy:"12",rx:"10",ry:"4",transform:"rotate(-45 12 12)"})]});/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */let B0,k0;function F0(){return{geminiUrl:B0,vertexUrl:k0}}function O0(i,t,l,a){var u,f;if(!(i!=null&&i.baseUrl)){const p=F0();return t?(u=p.vertexUrl)!==null&&u!==void 0?u:l:(f=p.geminiUrl)!==null&&f!==void 0?f:a}return i.baseUrl}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class hi{}function oe(i,t){const l=/\{([^}]+)\}/g;return i.replace(l,(a,u)=>{if(Object.prototype.hasOwnProperty.call(t,u)){const f=t[u];return f!=null?String(f):""}else throw new Error(`Key '${u}' not found in valueMap.`)})}function c(i,t,l){for(let f=0;f<t.length-1;f++){const p=t[f];if(p.endsWith("[]")){const g=p.slice(0,-2);if(!(g in i))if(Array.isArray(l))i[g]=Array.from({length:l.length},()=>({}));else throw new Error(`Value must be a list given an array path ${p}`);if(Array.isArray(i[g])){const y=i[g];if(Array.isArray(l))for(let h=0;h<y.length;h++){const v=y[h];c(v,t.slice(f+1),l[h])}else for(const h of y)c(h,t.slice(f+1),l)}return}else if(p.endsWith("[0]")){const g=p.slice(0,-3);g in i||(i[g]=[{}]);const y=i[g];c(y[0],t.slice(f+1),l);return}(!i[p]||typeof i[p]!="object")&&(i[p]={}),i=i[p]}const a=t[t.length-1],u=i[a];if(u!==void 0){if(!l||typeof l=="object"&&Object.keys(l).length===0||l===u)return;if(typeof u=="object"&&typeof l=="object"&&u!==null&&l!==null)Object.assign(u,l);else throw new Error(`Cannot set value for an existing key. Key: ${a}`)}else a==="_self"&&typeof l=="object"&&l!==null&&!Array.isArray(l)?Object.assign(i,l):i[a]=l}function r(i,t,l=void 0){try{if(t.length===1&&t[0]==="_self")return i;for(let a=0;a<t.length;a++){if(typeof i!="object"||i===null)return l;const u=t[a];if(u.endsWith("[]")){const f=u.slice(0,-2);if(f in i){const p=i[f];return Array.isArray(p)?p.map(g=>r(g,t.slice(a+1),l)):l}else return l}else i=i[u]}return i}catch(a){if(a instanceof TypeError)return l;throw a}}function Y0(i,t){for(const[l,a]of Object.entries(t)){const u=l.split("."),f=a.split("."),p=new Set;let g=-1;for(let y=0;y<u.length;y++)if(u[y]==="*"){g=y;break}if(g!==-1&&f.length>g)for(let y=g;y<f.length;y++){const h=f[y];h!=="*"&&!h.endsWith("[]")&&!h.endsWith("[0]")&&p.add(h)}wc(i,u,f,0,p)}}function wc(i,t,l,a,u){if(a>=t.length||typeof i!="object"||i===null)return;const f=t[a];if(f.endsWith("[]")){const p=f.slice(0,-2),g=i;if(p in g&&Array.isArray(g[p]))for(const y of g[p])wc(y,t,l,a+1,u)}else if(f==="*"){if(typeof i=="object"&&i!==null&&!Array.isArray(i)){const p=i,g=Object.keys(p).filter(h=>!h.startsWith("_")&&!u.has(h)),y={};for(const h of g)y[h]=p[h];for(const[h,v]of Object.entries(y)){const E=[];for(const T of l.slice(a))T==="*"?E.push(h):E.push(T);c(p,E,v)}for(const h of g)delete p[h]}}else{const p=i;f in p&&wc(p[f],t,l,a+1,u)}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function kc(i){if(typeof i!="string")throw new Error("fromImageBytes must be a string");return i}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function J0(i){const t={},l=r(i,["operationName"]);l!=null&&c(t,["operationName"],l);const a=r(i,["resourceName"]);return a!=null&&c(t,["_url","resourceName"],a),t}function X0(i){const t={},l=r(i,["name"]);l!=null&&c(t,["name"],l);const a=r(i,["metadata"]);a!=null&&c(t,["metadata"],a);const u=r(i,["done"]);u!=null&&c(t,["done"],u);const f=r(i,["error"]);f!=null&&c(t,["error"],f);const p=r(i,["response","generateVideoResponse"]);return p!=null&&c(t,["response"],Q0(p)),t}function K0(i){const t={},l=r(i,["name"]);l!=null&&c(t,["name"],l);const a=r(i,["metadata"]);a!=null&&c(t,["metadata"],a);const u=r(i,["done"]);u!=null&&c(t,["done"],u);const f=r(i,["error"]);f!=null&&c(t,["error"],f);const p=r(i,["response"]);return p!=null&&c(t,["response"],Z0(p)),t}function Q0(i){const t={},l=r(i,["generatedSamples"]);if(l!=null){let f=l;Array.isArray(f)&&(f=f.map(p=>$0(p))),c(t,["generatedVideos"],f)}const a=r(i,["raiMediaFilteredCount"]);a!=null&&c(t,["raiMediaFilteredCount"],a);const u=r(i,["raiMediaFilteredReasons"]);return u!=null&&c(t,["raiMediaFilteredReasons"],u),t}function Z0(i){const t={},l=r(i,["videos"]);if(l!=null){let f=l;Array.isArray(f)&&(f=f.map(p=>W0(p))),c(t,["generatedVideos"],f)}const a=r(i,["raiMediaFilteredCount"]);a!=null&&c(t,["raiMediaFilteredCount"],a);const u=r(i,["raiMediaFilteredReasons"]);return u!=null&&c(t,["raiMediaFilteredReasons"],u),t}function $0(i){const t={},l=r(i,["video"]);return l!=null&&c(t,["video"],ov(l)),t}function W0(i){const t={},l=r(i,["_self"]);return l!=null&&c(t,["video"],lv(l)),t}function j0(i){const t={},l=r(i,["operationName"]);return l!=null&&c(t,["_url","operationName"],l),t}function ev(i){const t={},l=r(i,["operationName"]);return l!=null&&c(t,["_url","operationName"],l),t}function tv(i){const t={},l=r(i,["name"]);l!=null&&c(t,["name"],l);const a=r(i,["metadata"]);a!=null&&c(t,["metadata"],a);const u=r(i,["done"]);u!=null&&c(t,["done"],u);const f=r(i,["error"]);f!=null&&c(t,["error"],f);const p=r(i,["response"]);return p!=null&&c(t,["response"],nv(p)),t}function nv(i){const t={},l=r(i,["sdkHttpResponse"]);l!=null&&c(t,["sdkHttpResponse"],l);const a=r(i,["parent"]);a!=null&&c(t,["parent"],a);const u=r(i,["documentName"]);return u!=null&&c(t,["documentName"],u),t}function pg(i){const t={},l=r(i,["name"]);l!=null&&c(t,["name"],l);const a=r(i,["metadata"]);a!=null&&c(t,["metadata"],a);const u=r(i,["done"]);u!=null&&c(t,["done"],u);const f=r(i,["error"]);f!=null&&c(t,["error"],f);const p=r(i,["response"]);return p!=null&&c(t,["response"],iv(p)),t}function iv(i){const t={},l=r(i,["sdkHttpResponse"]);l!=null&&c(t,["sdkHttpResponse"],l);const a=r(i,["parent"]);a!=null&&c(t,["parent"],a);const u=r(i,["documentName"]);return u!=null&&c(t,["documentName"],u),t}function ov(i){const t={},l=r(i,["uri"]);l!=null&&c(t,["uri"],l);const a=r(i,["encodedVideo"]);a!=null&&c(t,["videoBytes"],kc(a));const u=r(i,["encoding"]);return u!=null&&c(t,["mimeType"],u),t}function lv(i){const t={},l=r(i,["gcsUri"]);l!=null&&c(t,["uri"],l);const a=r(i,["bytesBase64Encoded"]);a!=null&&c(t,["videoBytes"],kc(a));const u=r(i,["mimeType"]);return u!=null&&c(t,["mimeType"],u),t}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */var Vp;(function(i){i.OUTCOME_UNSPECIFIED="OUTCOME_UNSPECIFIED",i.OUTCOME_OK="OUTCOME_OK",i.OUTCOME_FAILED="OUTCOME_FAILED",i.OUTCOME_DEADLINE_EXCEEDED="OUTCOME_DEADLINE_EXCEEDED"})(Vp||(Vp={}));var Hp;(function(i){i.LANGUAGE_UNSPECIFIED="LANGUAGE_UNSPECIFIED",i.PYTHON="PYTHON"})(Hp||(Hp={}));var zp;(function(i){i.SCHEDULING_UNSPECIFIED="SCHEDULING_UNSPECIFIED",i.SILENT="SILENT",i.WHEN_IDLE="WHEN_IDLE",i.INTERRUPT="INTERRUPT"})(zp||(zp={}));var Xt;(function(i){i.TYPE_UNSPECIFIED="TYPE_UNSPECIFIED",i.STRING="STRING",i.NUMBER="NUMBER",i.INTEGER="INTEGER",i.BOOLEAN="BOOLEAN",i.ARRAY="ARRAY",i.OBJECT="OBJECT",i.NULL="NULL"})(Xt||(Xt={}));var Bp;(function(i){i.MODE_UNSPECIFIED="MODE_UNSPECIFIED",i.MODE_DYNAMIC="MODE_DYNAMIC"})(Bp||(Bp={}));var kp;(function(i){i.API_SPEC_UNSPECIFIED="API_SPEC_UNSPECIFIED",i.SIMPLE_SEARCH="SIMPLE_SEARCH",i.ELASTIC_SEARCH="ELASTIC_SEARCH"})(kp||(kp={}));var Fp;(function(i){i.AUTH_TYPE_UNSPECIFIED="AUTH_TYPE_UNSPECIFIED",i.NO_AUTH="NO_AUTH",i.API_KEY_AUTH="API_KEY_AUTH",i.HTTP_BASIC_AUTH="HTTP_BASIC_AUTH",i.GOOGLE_SERVICE_ACCOUNT_AUTH="GOOGLE_SERVICE_ACCOUNT_AUTH",i.OAUTH="OAUTH",i.OIDC_AUTH="OIDC_AUTH"})(Fp||(Fp={}));var Op;(function(i){i.HTTP_IN_UNSPECIFIED="HTTP_IN_UNSPECIFIED",i.HTTP_IN_QUERY="HTTP_IN_QUERY",i.HTTP_IN_HEADER="HTTP_IN_HEADER",i.HTTP_IN_PATH="HTTP_IN_PATH",i.HTTP_IN_BODY="HTTP_IN_BODY",i.HTTP_IN_COOKIE="HTTP_IN_COOKIE"})(Op||(Op={}));var Yp;(function(i){i.PHISH_BLOCK_THRESHOLD_UNSPECIFIED="PHISH_BLOCK_THRESHOLD_UNSPECIFIED",i.BLOCK_LOW_AND_ABOVE="BLOCK_LOW_AND_ABOVE",i.BLOCK_MEDIUM_AND_ABOVE="BLOCK_MEDIUM_AND_ABOVE",i.BLOCK_HIGH_AND_ABOVE="BLOCK_HIGH_AND_ABOVE",i.BLOCK_HIGHER_AND_ABOVE="BLOCK_HIGHER_AND_ABOVE",i.BLOCK_VERY_HIGH_AND_ABOVE="BLOCK_VERY_HIGH_AND_ABOVE",i.BLOCK_ONLY_EXTREMELY_HIGH="BLOCK_ONLY_EXTREMELY_HIGH"})(Yp||(Yp={}));var Jp;(function(i){i.THINKING_LEVEL_UNSPECIFIED="THINKING_LEVEL_UNSPECIFIED",i.LOW="LOW",i.HIGH="HIGH"})(Jp||(Jp={}));var Xp;(function(i){i.HARM_CATEGORY_UNSPECIFIED="HARM_CATEGORY_UNSPECIFIED",i.HARM_CATEGORY_HARASSMENT="HARM_CATEGORY_HARASSMENT",i.HARM_CATEGORY_HATE_SPEECH="HARM_CATEGORY_HATE_SPEECH",i.HARM_CATEGORY_SEXUALLY_EXPLICIT="HARM_CATEGORY_SEXUALLY_EXPLICIT",i.HARM_CATEGORY_DANGEROUS_CONTENT="HARM_CATEGORY_DANGEROUS_CONTENT",i.HARM_CATEGORY_CIVIC_INTEGRITY="HARM_CATEGORY_CIVIC_INTEGRITY",i.HARM_CATEGORY_IMAGE_HATE="HARM_CATEGORY_IMAGE_HATE",i.HARM_CATEGORY_IMAGE_DANGEROUS_CONTENT="HARM_CATEGORY_IMAGE_DANGEROUS_CONTENT",i.HARM_CATEGORY_IMAGE_HARASSMENT="HARM_CATEGORY_IMAGE_HARASSMENT",i.HARM_CATEGORY_IMAGE_SEXUALLY_EXPLICIT="HARM_CATEGORY_IMAGE_SEXUALLY_EXPLICIT",i.HARM_CATEGORY_JAILBREAK="HARM_CATEGORY_JAILBREAK"})(Xp||(Xp={}));var Kp;(function(i){i.HARM_BLOCK_METHOD_UNSPECIFIED="HARM_BLOCK_METHOD_UNSPECIFIED",i.SEVERITY="SEVERITY",i.PROBABILITY="PROBABILITY"})(Kp||(Kp={}));var Qp;(function(i){i.HARM_BLOCK_THRESHOLD_UNSPECIFIED="HARM_BLOCK_THRESHOLD_UNSPECIFIED",i.BLOCK_LOW_AND_ABOVE="BLOCK_LOW_AND_ABOVE",i.BLOCK_MEDIUM_AND_ABOVE="BLOCK_MEDIUM_AND_ABOVE",i.BLOCK_ONLY_HIGH="BLOCK_ONLY_HIGH",i.BLOCK_NONE="BLOCK_NONE",i.OFF="OFF"})(Qp||(Qp={}));var Zp;(function(i){i.FINISH_REASON_UNSPECIFIED="FINISH_REASON_UNSPECIFIED",i.STOP="STOP",i.MAX_TOKENS="MAX_TOKENS",i.SAFETY="SAFETY",i.RECITATION="RECITATION",i.LANGUAGE="LANGUAGE",i.OTHER="OTHER",i.BLOCKLIST="BLOCKLIST",i.PROHIBITED_CONTENT="PROHIBITED_CONTENT",i.SPII="SPII",i.MALFORMED_FUNCTION_CALL="MALFORMED_FUNCTION_CALL",i.IMAGE_SAFETY="IMAGE_SAFETY",i.UNEXPECTED_TOOL_CALL="UNEXPECTED_TOOL_CALL",i.IMAGE_PROHIBITED_CONTENT="IMAGE_PROHIBITED_CONTENT",i.NO_IMAGE="NO_IMAGE"})(Zp||(Zp={}));var $p;(function(i){i.HARM_PROBABILITY_UNSPECIFIED="HARM_PROBABILITY_UNSPECIFIED",i.NEGLIGIBLE="NEGLIGIBLE",i.LOW="LOW",i.MEDIUM="MEDIUM",i.HIGH="HIGH"})($p||($p={}));var Wp;(function(i){i.HARM_SEVERITY_UNSPECIFIED="HARM_SEVERITY_UNSPECIFIED",i.HARM_SEVERITY_NEGLIGIBLE="HARM_SEVERITY_NEGLIGIBLE",i.HARM_SEVERITY_LOW="HARM_SEVERITY_LOW",i.HARM_SEVERITY_MEDIUM="HARM_SEVERITY_MEDIUM",i.HARM_SEVERITY_HIGH="HARM_SEVERITY_HIGH"})(Wp||(Wp={}));var jp;(function(i){i.URL_RETRIEVAL_STATUS_UNSPECIFIED="URL_RETRIEVAL_STATUS_UNSPECIFIED",i.URL_RETRIEVAL_STATUS_SUCCESS="URL_RETRIEVAL_STATUS_SUCCESS",i.URL_RETRIEVAL_STATUS_ERROR="URL_RETRIEVAL_STATUS_ERROR",i.URL_RETRIEVAL_STATUS_PAYWALL="URL_RETRIEVAL_STATUS_PAYWALL",i.URL_RETRIEVAL_STATUS_UNSAFE="URL_RETRIEVAL_STATUS_UNSAFE"})(jp||(jp={}));var eh;(function(i){i.BLOCKED_REASON_UNSPECIFIED="BLOCKED_REASON_UNSPECIFIED",i.SAFETY="SAFETY",i.OTHER="OTHER",i.BLOCKLIST="BLOCKLIST",i.PROHIBITED_CONTENT="PROHIBITED_CONTENT",i.IMAGE_SAFETY="IMAGE_SAFETY",i.MODEL_ARMOR="MODEL_ARMOR",i.JAILBREAK="JAILBREAK"})(eh||(eh={}));var th;(function(i){i.TRAFFIC_TYPE_UNSPECIFIED="TRAFFIC_TYPE_UNSPECIFIED",i.ON_DEMAND="ON_DEMAND",i.PROVISIONED_THROUGHPUT="PROVISIONED_THROUGHPUT"})(th||(th={}));var er;(function(i){i.MODALITY_UNSPECIFIED="MODALITY_UNSPECIFIED",i.TEXT="TEXT",i.IMAGE="IMAGE",i.AUDIO="AUDIO"})(er||(er={}));var nh;(function(i){i.MEDIA_RESOLUTION_UNSPECIFIED="MEDIA_RESOLUTION_UNSPECIFIED",i.MEDIA_RESOLUTION_LOW="MEDIA_RESOLUTION_LOW",i.MEDIA_RESOLUTION_MEDIUM="MEDIA_RESOLUTION_MEDIUM",i.MEDIA_RESOLUTION_HIGH="MEDIA_RESOLUTION_HIGH"})(nh||(nh={}));var ih;(function(i){i.TUNING_MODE_UNSPECIFIED="TUNING_MODE_UNSPECIFIED",i.TUNING_MODE_FULL="TUNING_MODE_FULL",i.TUNING_MODE_PEFT_ADAPTER="TUNING_MODE_PEFT_ADAPTER"})(ih||(ih={}));var oh;(function(i){i.ADAPTER_SIZE_UNSPECIFIED="ADAPTER_SIZE_UNSPECIFIED",i.ADAPTER_SIZE_ONE="ADAPTER_SIZE_ONE",i.ADAPTER_SIZE_TWO="ADAPTER_SIZE_TWO",i.ADAPTER_SIZE_FOUR="ADAPTER_SIZE_FOUR",i.ADAPTER_SIZE_EIGHT="ADAPTER_SIZE_EIGHT",i.ADAPTER_SIZE_SIXTEEN="ADAPTER_SIZE_SIXTEEN",i.ADAPTER_SIZE_THIRTY_TWO="ADAPTER_SIZE_THIRTY_TWO"})(oh||(oh={}));var Dc;(function(i){i.JOB_STATE_UNSPECIFIED="JOB_STATE_UNSPECIFIED",i.JOB_STATE_QUEUED="JOB_STATE_QUEUED",i.JOB_STATE_PENDING="JOB_STATE_PENDING",i.JOB_STATE_RUNNING="JOB_STATE_RUNNING",i.JOB_STATE_SUCCEEDED="JOB_STATE_SUCCEEDED",i.JOB_STATE_FAILED="JOB_STATE_FAILED",i.JOB_STATE_CANCELLING="JOB_STATE_CANCELLING",i.JOB_STATE_CANCELLED="JOB_STATE_CANCELLED",i.JOB_STATE_PAUSED="JOB_STATE_PAUSED",i.JOB_STATE_EXPIRED="JOB_STATE_EXPIRED",i.JOB_STATE_UPDATING="JOB_STATE_UPDATING",i.JOB_STATE_PARTIALLY_SUCCEEDED="JOB_STATE_PARTIALLY_SUCCEEDED"})(Dc||(Dc={}));var lh;(function(i){i.TUNING_TASK_UNSPECIFIED="TUNING_TASK_UNSPECIFIED",i.TUNING_TASK_I2V="TUNING_TASK_I2V",i.TUNING_TASK_T2V="TUNING_TASK_T2V",i.TUNING_TASK_R2V="TUNING_TASK_R2V"})(lh||(lh={}));var ah;(function(i){i.MEDIA_RESOLUTION_UNSPECIFIED="MEDIA_RESOLUTION_UNSPECIFIED",i.MEDIA_RESOLUTION_LOW="MEDIA_RESOLUTION_LOW",i.MEDIA_RESOLUTION_MEDIUM="MEDIA_RESOLUTION_MEDIUM",i.MEDIA_RESOLUTION_HIGH="MEDIA_RESOLUTION_HIGH"})(ah||(ah={}));var sh;(function(i){i.FEATURE_SELECTION_PREFERENCE_UNSPECIFIED="FEATURE_SELECTION_PREFERENCE_UNSPECIFIED",i.PRIORITIZE_QUALITY="PRIORITIZE_QUALITY",i.BALANCED="BALANCED",i.PRIORITIZE_COST="PRIORITIZE_COST"})(sh||(sh={}));var rh;(function(i){i.UNSPECIFIED="UNSPECIFIED",i.BLOCKING="BLOCKING",i.NON_BLOCKING="NON_BLOCKING"})(rh||(rh={}));var uh;(function(i){i.MODE_UNSPECIFIED="MODE_UNSPECIFIED",i.MODE_DYNAMIC="MODE_DYNAMIC"})(uh||(uh={}));var ch;(function(i){i.ENVIRONMENT_UNSPECIFIED="ENVIRONMENT_UNSPECIFIED",i.ENVIRONMENT_BROWSER="ENVIRONMENT_BROWSER"})(ch||(ch={}));var fh;(function(i){i.MODE_UNSPECIFIED="MODE_UNSPECIFIED",i.AUTO="AUTO",i.ANY="ANY",i.NONE="NONE",i.VALIDATED="VALIDATED"})(fh||(fh={}));var dh;(function(i){i.BLOCK_LOW_AND_ABOVE="BLOCK_LOW_AND_ABOVE",i.BLOCK_MEDIUM_AND_ABOVE="BLOCK_MEDIUM_AND_ABOVE",i.BLOCK_ONLY_HIGH="BLOCK_ONLY_HIGH",i.BLOCK_NONE="BLOCK_NONE"})(dh||(dh={}));var mh;(function(i){i.DONT_ALLOW="DONT_ALLOW",i.ALLOW_ADULT="ALLOW_ADULT",i.ALLOW_ALL="ALLOW_ALL"})(mh||(mh={}));var ph;(function(i){i.auto="auto",i.en="en",i.ja="ja",i.ko="ko",i.hi="hi",i.zh="zh",i.pt="pt",i.es="es"})(ph||(ph={}));var hh;(function(i){i.MASK_MODE_DEFAULT="MASK_MODE_DEFAULT",i.MASK_MODE_USER_PROVIDED="MASK_MODE_USER_PROVIDED",i.MASK_MODE_BACKGROUND="MASK_MODE_BACKGROUND",i.MASK_MODE_FOREGROUND="MASK_MODE_FOREGROUND",i.MASK_MODE_SEMANTIC="MASK_MODE_SEMANTIC"})(hh||(hh={}));var gh;(function(i){i.CONTROL_TYPE_DEFAULT="CONTROL_TYPE_DEFAULT",i.CONTROL_TYPE_CANNY="CONTROL_TYPE_CANNY",i.CONTROL_TYPE_SCRIBBLE="CONTROL_TYPE_SCRIBBLE",i.CONTROL_TYPE_FACE_MESH="CONTROL_TYPE_FACE_MESH"})(gh||(gh={}));var yh;(function(i){i.SUBJECT_TYPE_DEFAULT="SUBJECT_TYPE_DEFAULT",i.SUBJECT_TYPE_PERSON="SUBJECT_TYPE_PERSON",i.SUBJECT_TYPE_ANIMAL="SUBJECT_TYPE_ANIMAL",i.SUBJECT_TYPE_PRODUCT="SUBJECT_TYPE_PRODUCT"})(yh||(yh={}));var vh;(function(i){i.EDIT_MODE_DEFAULT="EDIT_MODE_DEFAULT",i.EDIT_MODE_INPAINT_REMOVAL="EDIT_MODE_INPAINT_REMOVAL",i.EDIT_MODE_INPAINT_INSERTION="EDIT_MODE_INPAINT_INSERTION",i.EDIT_MODE_OUTPAINT="EDIT_MODE_OUTPAINT",i.EDIT_MODE_CONTROLLED_EDITING="EDIT_MODE_CONTROLLED_EDITING",i.EDIT_MODE_STYLE="EDIT_MODE_STYLE",i.EDIT_MODE_BGSWAP="EDIT_MODE_BGSWAP",i.EDIT_MODE_PRODUCT_IMAGE="EDIT_MODE_PRODUCT_IMAGE"})(vh||(vh={}));var Th;(function(i){i.FOREGROUND="FOREGROUND",i.BACKGROUND="BACKGROUND",i.PROMPT="PROMPT",i.SEMANTIC="SEMANTIC",i.INTERACTIVE="INTERACTIVE"})(Th||(Th={}));var Sh;(function(i){i.ASSET="ASSET",i.STYLE="STYLE"})(Sh||(Sh={}));var Eh;(function(i){i.INSERT="INSERT",i.REMOVE="REMOVE",i.REMOVE_STATIC="REMOVE_STATIC",i.OUTPAINT="OUTPAINT"})(Eh||(Eh={}));var _h;(function(i){i.OPTIMIZED="OPTIMIZED",i.LOSSLESS="LOSSLESS"})(_h||(_h={}));var Ch;(function(i){i.SUPERVISED_FINE_TUNING="SUPERVISED_FINE_TUNING",i.PREFERENCE_TUNING="PREFERENCE_TUNING"})(Ch||(Ch={}));var Ah;(function(i){i.STATE_UNSPECIFIED="STATE_UNSPECIFIED",i.STATE_PENDING="STATE_PENDING",i.STATE_ACTIVE="STATE_ACTIVE",i.STATE_FAILED="STATE_FAILED"})(Ah||(Ah={}));var Rh;(function(i){i.STATE_UNSPECIFIED="STATE_UNSPECIFIED",i.PROCESSING="PROCESSING",i.ACTIVE="ACTIVE",i.FAILED="FAILED"})(Rh||(Rh={}));var xh;(function(i){i.SOURCE_UNSPECIFIED="SOURCE_UNSPECIFIED",i.UPLOADED="UPLOADED",i.GENERATED="GENERATED"})(xh||(xh={}));var Mh;(function(i){i.TURN_COMPLETE_REASON_UNSPECIFIED="TURN_COMPLETE_REASON_UNSPECIFIED",i.MALFORMED_FUNCTION_CALL="MALFORMED_FUNCTION_CALL",i.RESPONSE_REJECTED="RESPONSE_REJECTED",i.NEED_MORE_INPUT="NEED_MORE_INPUT"})(Mh||(Mh={}));var Nh;(function(i){i.MODALITY_UNSPECIFIED="MODALITY_UNSPECIFIED",i.TEXT="TEXT",i.IMAGE="IMAGE",i.VIDEO="VIDEO",i.AUDIO="AUDIO",i.DOCUMENT="DOCUMENT"})(Nh||(Nh={}));var bh;(function(i){i.START_SENSITIVITY_UNSPECIFIED="START_SENSITIVITY_UNSPECIFIED",i.START_SENSITIVITY_HIGH="START_SENSITIVITY_HIGH",i.START_SENSITIVITY_LOW="START_SENSITIVITY_LOW"})(bh||(bh={}));var wh;(function(i){i.END_SENSITIVITY_UNSPECIFIED="END_SENSITIVITY_UNSPECIFIED",i.END_SENSITIVITY_HIGH="END_SENSITIVITY_HIGH",i.END_SENSITIVITY_LOW="END_SENSITIVITY_LOW"})(wh||(wh={}));var Dh;(function(i){i.ACTIVITY_HANDLING_UNSPECIFIED="ACTIVITY_HANDLING_UNSPECIFIED",i.START_OF_ACTIVITY_INTERRUPTS="START_OF_ACTIVITY_INTERRUPTS",i.NO_INTERRUPTION="NO_INTERRUPTION"})(Dh||(Dh={}));var Ih;(function(i){i.TURN_COVERAGE_UNSPECIFIED="TURN_COVERAGE_UNSPECIFIED",i.TURN_INCLUDES_ONLY_ACTIVITY="TURN_INCLUDES_ONLY_ACTIVITY",i.TURN_INCLUDES_ALL_INPUT="TURN_INCLUDES_ALL_INPUT"})(Ih||(Ih={}));var Uh;(function(i){i.SCALE_UNSPECIFIED="SCALE_UNSPECIFIED",i.C_MAJOR_A_MINOR="C_MAJOR_A_MINOR",i.D_FLAT_MAJOR_B_FLAT_MINOR="D_FLAT_MAJOR_B_FLAT_MINOR",i.D_MAJOR_B_MINOR="D_MAJOR_B_MINOR",i.E_FLAT_MAJOR_C_MINOR="E_FLAT_MAJOR_C_MINOR",i.E_MAJOR_D_FLAT_MINOR="E_MAJOR_D_FLAT_MINOR",i.F_MAJOR_D_MINOR="F_MAJOR_D_MINOR",i.G_FLAT_MAJOR_E_FLAT_MINOR="G_FLAT_MAJOR_E_FLAT_MINOR",i.G_MAJOR_E_MINOR="G_MAJOR_E_MINOR",i.A_FLAT_MAJOR_F_MINOR="A_FLAT_MAJOR_F_MINOR",i.A_MAJOR_G_FLAT_MINOR="A_MAJOR_G_FLAT_MINOR",i.B_FLAT_MAJOR_G_MINOR="B_FLAT_MAJOR_G_MINOR",i.B_MAJOR_A_FLAT_MINOR="B_MAJOR_A_FLAT_MINOR"})(Uh||(Uh={}));var Lh;(function(i){i.MUSIC_GENERATION_MODE_UNSPECIFIED="MUSIC_GENERATION_MODE_UNSPECIFIED",i.QUALITY="QUALITY",i.DIVERSITY="DIVERSITY",i.VOCALIZATION="VOCALIZATION"})(Lh||(Lh={}));var yl;(function(i){i.PLAYBACK_CONTROL_UNSPECIFIED="PLAYBACK_CONTROL_UNSPECIFIED",i.PLAY="PLAY",i.PAUSE="PAUSE",i.STOP="STOP",i.RESET_CONTEXT="RESET_CONTEXT"})(yl||(yl={}));class Ic{constructor(t){const l={};for(const a of t.headers.entries())l[a[0]]=a[1];this.headers=l,this.responseInternal=t}json(){return this.responseInternal.json()}}class Na{get text(){var t,l,a,u,f,p,g,y;if(((u=(a=(l=(t=this.candidates)===null||t===void 0?void 0:t[0])===null||l===void 0?void 0:l.content)===null||a===void 0?void 0:a.parts)===null||u===void 0?void 0:u.length)===0)return;this.candidates&&this.candidates.length>1&&console.warn("there are multiple candidates in the response, returning text from the first one.");let h="",v=!1;const E=[];for(const T of(y=(g=(p=(f=this.candidates)===null||f===void 0?void 0:f[0])===null||p===void 0?void 0:p.content)===null||g===void 0?void 0:g.parts)!==null&&y!==void 0?y:[]){for(const[R,N]of Object.entries(T))R!=="text"&&R!=="thought"&&R!=="thoughtSignature"&&(N!==null||N!==void 0)&&E.push(R);if(typeof T.text=="string"){if(typeof T.thought=="boolean"&&T.thought)continue;v=!0,h+=T.text}}return E.length>0&&console.warn(`there are non-text parts ${E} in the response, returning concatenation of all text parts. Please refer to the non text parts for a full response from model.`),v?h:void 0}get data(){var t,l,a,u,f,p,g,y;if(((u=(a=(l=(t=this.candidates)===null||t===void 0?void 0:t[0])===null||l===void 0?void 0:l.content)===null||a===void 0?void 0:a.parts)===null||u===void 0?void 0:u.length)===0)return;this.candidates&&this.candidates.length>1&&console.warn("there are multiple candidates in the response, returning data from the first one.");let h="";const v=[];for(const E of(y=(g=(p=(f=this.candidates)===null||f===void 0?void 0:f[0])===null||p===void 0?void 0:p.content)===null||g===void 0?void 0:g.parts)!==null&&y!==void 0?y:[]){for(const[T,R]of Object.entries(E))T!=="inlineData"&&(R!==null||R!==void 0)&&v.push(T);E.inlineData&&typeof E.inlineData.data=="string"&&(h+=atob(E.inlineData.data))}return v.length>0&&console.warn(`there are non-data parts ${v} in the response, returning concatenation of all data parts. Please refer to the non data parts for a full response from model.`),h.length>0?btoa(h):void 0}get functionCalls(){var t,l,a,u,f,p,g,y;if(((u=(a=(l=(t=this.candidates)===null||t===void 0?void 0:t[0])===null||l===void 0?void 0:l.content)===null||a===void 0?void 0:a.parts)===null||u===void 0?void 0:u.length)===0)return;this.candidates&&this.candidates.length>1&&console.warn("there are multiple candidates in the response, returning function calls from the first one.");const h=(y=(g=(p=(f=this.candidates)===null||f===void 0?void 0:f[0])===null||p===void 0?void 0:p.content)===null||g===void 0?void 0:g.parts)===null||y===void 0?void 0:y.filter(v=>v.functionCall).map(v=>v.functionCall).filter(v=>v!==void 0);if((h==null?void 0:h.length)!==0)return h}get executableCode(){var t,l,a,u,f,p,g,y,h;if(((u=(a=(l=(t=this.candidates)===null||t===void 0?void 0:t[0])===null||l===void 0?void 0:l.content)===null||a===void 0?void 0:a.parts)===null||u===void 0?void 0:u.length)===0)return;this.candidates&&this.candidates.length>1&&console.warn("there are multiple candidates in the response, returning executable code from the first one.");const v=(y=(g=(p=(f=this.candidates)===null||f===void 0?void 0:f[0])===null||p===void 0?void 0:p.content)===null||g===void 0?void 0:g.parts)===null||y===void 0?void 0:y.filter(E=>E.executableCode).map(E=>E.executableCode).filter(E=>E!==void 0);if((v==null?void 0:v.length)!==0)return(h=v==null?void 0:v[0])===null||h===void 0?void 0:h.code}get codeExecutionResult(){var t,l,a,u,f,p,g,y,h;if(((u=(a=(l=(t=this.candidates)===null||t===void 0?void 0:t[0])===null||l===void 0?void 0:l.content)===null||a===void 0?void 0:a.parts)===null||u===void 0?void 0:u.length)===0)return;this.candidates&&this.candidates.length>1&&console.warn("there are multiple candidates in the response, returning code execution result from the first one.");const v=(y=(g=(p=(f=this.candidates)===null||f===void 0?void 0:f[0])===null||p===void 0?void 0:p.content)===null||g===void 0?void 0:g.parts)===null||y===void 0?void 0:y.filter(E=>E.codeExecutionResult).map(E=>E.codeExecutionResult).filter(E=>E!==void 0);if((v==null?void 0:v.length)!==0)return(h=v==null?void 0:v[0])===null||h===void 0?void 0:h.output}}class Ph{}class qh{}class av{}class sv{}class rv{}class uv{}class Gh{}class Vh{}class Hh{}class cv{}class tr{_fromAPIResponse({apiResponse:t,_isVertexAI:l}){const a=new tr;let u;const f=t;return l?u=K0(f):u=X0(f),Object.assign(a,u),a}}class zh{}class Bh{}class kh{}class Fh{}class fv{}class dv{}class mv{}class Fc{_fromAPIResponse({apiResponse:t,_isVertexAI:l}){const a=new Fc,f=tv(t);return Object.assign(a,f),a}}class pv{}class hv{}class gv{}class Oh{}class yv{get text(){var t,l,a;let u="",f=!1;const p=[];for(const g of(a=(l=(t=this.serverContent)===null||t===void 0?void 0:t.modelTurn)===null||l===void 0?void 0:l.parts)!==null&&a!==void 0?a:[]){for(const[y,h]of Object.entries(g))y!=="text"&&y!=="thought"&&h!==null&&p.push(y);if(typeof g.text=="string"){if(typeof g.thought=="boolean"&&g.thought)continue;f=!0,u+=g.text}}return p.length>0&&console.warn(`there are non-text parts ${p} in the response, returning concatenation of all text parts. Please refer to the non text parts for a full response from model.`),f?u:void 0}get data(){var t,l,a;let u="";const f=[];for(const p of(a=(l=(t=this.serverContent)===null||t===void 0?void 0:t.modelTurn)===null||l===void 0?void 0:l.parts)!==null&&a!==void 0?a:[]){for(const[g,y]of Object.entries(p))g!=="inlineData"&&y!==null&&f.push(g);p.inlineData&&typeof p.inlineData.data=="string"&&(u+=atob(p.inlineData.data))}return f.length>0&&console.warn(`there are non-data parts ${f} in the response, returning concatenation of all data parts. Please refer to the non data parts for a full response from model.`),u.length>0?btoa(u):void 0}}class vv{get audioChunk(){if(this.serverContent&&this.serverContent.audioChunks&&this.serverContent.audioChunks.length>0)return this.serverContent.audioChunks[0]}}class Oc{_fromAPIResponse({apiResponse:t,_isVertexAI:l}){const a=new Oc,f=pg(t);return Object.assign(a,f),a}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function Fe(i,t){if(!t||typeof t!="string")throw new Error("model is required and must be a string");if(t.includes("..")||t.includes("?")||t.includes("&"))throw new Error("invalid model parameter");if(i.isVertexAI()){if(t.startsWith("publishers/")||t.startsWith("projects/")||t.startsWith("models/"))return t;if(t.indexOf("/")>=0){const l=t.split("/",2);return`publishers/${l[0]}/models/${l[1]}`}else return`publishers/google/models/${t}`}else return t.startsWith("models/")||t.startsWith("tunedModels/")?t:`models/${t}`}function hg(i,t){const l=Fe(i,t);return l?l.startsWith("publishers/")&&i.isVertexAI()?`projects/${i.getProject()}/locations/${i.getLocation()}/${l}`:l.startsWith("models/")&&i.isVertexAI()?`projects/${i.getProject()}/locations/${i.getLocation()}/publishers/google/${l}`:l:""}function gg(i){return Array.isArray(i)?i.map(t=>nr(t)):[nr(i)]}function nr(i){if(typeof i=="object"&&i!==null)return i;throw new Error(`Could not parse input as Blob. Unsupported blob type: ${typeof i}`)}function yg(i){const t=nr(i);if(t.mimeType&&t.mimeType.startsWith("image/"))return t;throw new Error(`Unsupported mime type: ${t.mimeType}`)}function vg(i){const t=nr(i);if(t.mimeType&&t.mimeType.startsWith("audio/"))return t;throw new Error(`Unsupported mime type: ${t.mimeType}`)}function Yh(i){if(i==null)throw new Error("PartUnion is required");if(typeof i=="object")return i;if(typeof i=="string")return{text:i};throw new Error(`Unsupported part type: ${typeof i}`)}function Tg(i){if(i==null||Array.isArray(i)&&i.length===0)throw new Error("PartListUnion is required");return Array.isArray(i)?i.map(t=>Yh(t)):[Yh(i)]}function Uc(i){return i!=null&&typeof i=="object"&&"parts"in i&&Array.isArray(i.parts)}function Jh(i){return i!=null&&typeof i=="object"&&"functionCall"in i}function Xh(i){return i!=null&&typeof i=="object"&&"functionResponse"in i}function Ut(i){if(i==null)throw new Error("ContentUnion is required");return Uc(i)?i:{role:"user",parts:Tg(i)}}function Yc(i,t){if(!t)return[];if(i.isVertexAI()&&Array.isArray(t))return t.flatMap(l=>{const a=Ut(l);return a.parts&&a.parts.length>0&&a.parts[0].text!==void 0?[a.parts[0].text]:[]});if(i.isVertexAI()){const l=Ut(t);return l.parts&&l.parts.length>0&&l.parts[0].text!==void 0?[l.parts[0].text]:[]}return Array.isArray(t)?t.map(l=>Ut(l)):[Ut(t)]}function Cn(i){if(i==null||Array.isArray(i)&&i.length===0)throw new Error("contents are required");if(!Array.isArray(i)){if(Jh(i)||Xh(i))throw new Error("To specify functionCall or functionResponse parts, please wrap them in a Content object, specifying the role for them");return[Ut(i)]}const t=[],l=[],a=Uc(i[0]);for(const u of i){const f=Uc(u);if(f!=a)throw new Error("Mixing Content and Parts is not supported, please group the parts into a the appropriate Content objects and specify the roles for them");if(f)t.push(u);else{if(Jh(u)||Xh(u))throw new Error("To specify functionCall or functionResponse parts, please wrap them, and any other parts, in Content objects as appropriate, specifying the role for them");l.push(u)}}return a||t.push({role:"user",parts:Tg(l)}),t}function Tv(i,t){i.includes("null")&&(t.nullable=!0);const l=i.filter(a=>a!=="null");if(l.length===1)t.type=Object.values(Xt).includes(l[0].toUpperCase())?l[0].toUpperCase():Xt.TYPE_UNSPECIFIED;else{t.anyOf=[];for(const a of l)t.anyOf.push({type:Object.values(Xt).includes(a.toUpperCase())?a.toUpperCase():Xt.TYPE_UNSPECIFIED})}}function vl(i){const t={},l=["items"],a=["anyOf"],u=["properties"];if(i.type&&i.anyOf)throw new Error("type and anyOf cannot be both populated.");const f=i.anyOf;f!=null&&f.length==2&&(f[0].type==="null"?(t.nullable=!0,i=f[1]):f[1].type==="null"&&(t.nullable=!0,i=f[0])),i.type instanceof Array&&Tv(i.type,t);for(const[p,g]of Object.entries(i))if(g!=null)if(p=="type"){if(g==="null")throw new Error("type: null can not be the only possible type for the field.");if(g instanceof Array)continue;t.type=Object.values(Xt).includes(g.toUpperCase())?g.toUpperCase():Xt.TYPE_UNSPECIFIED}else if(l.includes(p))t[p]=vl(g);else if(a.includes(p)){const y=[];for(const h of g){if(h.type=="null"){t.nullable=!0;continue}y.push(vl(h))}t[p]=y}else if(u.includes(p)){const y={};for(const[h,v]of Object.entries(g))y[h]=vl(v);t[p]=y}else{if(p==="additionalProperties")continue;t[p]=g}return t}function Jc(i){return vl(i)}function Xc(i){if(typeof i=="object")return i;if(typeof i=="string")return{voiceConfig:{prebuiltVoiceConfig:{voiceName:i}}};throw new Error(`Unsupported speechConfig type: ${typeof i}`)}function Kc(i){if("multiSpeakerVoiceConfig"in i)throw new Error("multiSpeakerVoiceConfig is not supported in the live API.");return i}function El(i){if(i.functionDeclarations)for(const t of i.functionDeclarations)t.parameters&&(Object.keys(t.parameters).includes("$schema")?t.parametersJsonSchema||(t.parametersJsonSchema=t.parameters,delete t.parameters):t.parameters=vl(t.parameters)),t.response&&(Object.keys(t.response).includes("$schema")?t.responseJsonSchema||(t.responseJsonSchema=t.response,delete t.response):t.response=vl(t.response));return i}function _l(i){if(i==null)throw new Error("tools is required");if(!Array.isArray(i))throw new Error("tools is required and must be an array of Tools");const t=[];for(const l of i)t.push(l);return t}function Sv(i,t,l,a=1){const u=!t.startsWith(`${l}/`)&&t.split("/").length===a;return i.isVertexAI()?t.startsWith("projects/")?t:t.startsWith("locations/")?`projects/${i.getProject()}/${t}`:t.startsWith(`${l}/`)?`projects/${i.getProject()}/locations/${i.getLocation()}/${t}`:u?`projects/${i.getProject()}/locations/${i.getLocation()}/${l}/${t}`:t:u?`${l}/${t}`:t}function gi(i,t){if(typeof t!="string")throw new Error("name must be a string");return Sv(i,t,"cachedContents")}function Sg(i){switch(i){case"STATE_UNSPECIFIED":return"JOB_STATE_UNSPECIFIED";case"CREATING":return"JOB_STATE_RUNNING";case"ACTIVE":return"JOB_STATE_SUCCEEDED";case"FAILED":return"JOB_STATE_FAILED";default:return i}}function no(i){return kc(i)}function Ev(i){return i!=null&&typeof i=="object"&&"name"in i}function _v(i){return i!=null&&typeof i=="object"&&"video"in i}function Cv(i){return i!=null&&typeof i=="object"&&"uri"in i}function Eg(i){var t;let l;if(Ev(i)&&(l=i.name),!(Cv(i)&&(l=i.uri,l===void 0))&&!(_v(i)&&(l=(t=i.video)===null||t===void 0?void 0:t.uri,l===void 0))){if(typeof i=="string"&&(l=i),l===void 0)throw new Error("Could not extract file name from the provided input.");if(l.startsWith("https://")){const u=l.split("files/")[1].match(/[a-z0-9]+/);if(u===null)throw new Error(`Could not extract file name from URI ${l}`);l=u[0]}else l.startsWith("files/")&&(l=l.split("files/")[1]);return l}}function _g(i,t){let l;return i.isVertexAI()?l=t?"publishers/google/models":"models":l=t?"models":"tunedModels",l}function Cg(i){for(const t of["models","tunedModels","publisherModels"])if(Av(i,t))return i[t];return[]}function Av(i,t){return i!==null&&typeof i=="object"&&t in i}function Rv(i,t={}){const l=i,a={name:l.name,description:l.description,parametersJsonSchema:l.inputSchema};return l.outputSchema&&(a.responseJsonSchema=l.outputSchema),t.behavior&&(a.behavior=t.behavior),{functionDeclarations:[a]}}function xv(i,t={}){const l=[],a=new Set;for(const u of i){const f=u.name;if(a.has(f))throw new Error(`Duplicate function name ${f} found in MCP tools. Please ensure function names are unique.`);a.add(f);const p=Rv(u,t);p.functionDeclarations&&l.push(...p.functionDeclarations)}return{functionDeclarations:l}}function Ag(i,t){let l;if(typeof t=="string")if(i.isVertexAI())if(t.startsWith("gs://"))l={format:"jsonl",gcsUri:[t]};else if(t.startsWith("bq://"))l={format:"bigquery",bigqueryUri:t};else throw new Error(`Unsupported string source for Vertex AI: ${t}`);else if(t.startsWith("files/"))l={fileName:t};else throw new Error(`Unsupported string source for Gemini API: ${t}`);else if(Array.isArray(t)){if(i.isVertexAI())throw new Error("InlinedRequest[] is not supported in Vertex AI.");l={inlinedRequests:t}}else l=t;const a=[l.gcsUri,l.bigqueryUri].filter(Boolean).length,u=[l.inlinedRequests,l.fileName].filter(Boolean).length;if(i.isVertexAI()){if(u>0||a!==1)throw new Error("Exactly one of `gcsUri` or `bigqueryUri` must be set for Vertex AI.")}else if(a>0||u!==1)throw new Error("Exactly one of `inlinedRequests`, `fileName`, must be set for Gemini API.");return l}function Mv(i){if(typeof i!="string")return i;const t=i;if(t.startsWith("gs://"))return{format:"jsonl",gcsUri:t};if(t.startsWith("bq://"))return{format:"bigquery",bigqueryUri:t};throw new Error(`Unsupported destination: ${t}`)}function Rg(i){if(typeof i!="object"||i===null)return{};const t=i,l=t.inlinedResponses;if(typeof l!="object"||l===null)return i;const u=l.inlinedResponses;if(!Array.isArray(u)||u.length===0)return i;let f=!1;for(const p of u){if(typeof p!="object"||p===null)continue;const y=p.response;if(typeof y!="object"||y===null)continue;if(y.embedding!==void 0){f=!0;break}}return f&&(t.inlinedEmbedContentResponses=t.inlinedResponses,delete t.inlinedResponses),i}function Cl(i,t){const l=t;if(!i.isVertexAI()){if(/batches\/[^/]+$/.test(l))return l.split("/").pop();throw new Error(`Invalid batch job name: ${l}.`)}if(/^projects\/[^/]+\/locations\/[^/]+\/batchPredictionJobs\/[^/]+$/.test(l))return l.split("/").pop();if(/^\d+$/.test(l))return l;throw new Error(`Invalid batch job name: ${l}.`)}function xg(i){const t=i;return t==="BATCH_STATE_UNSPECIFIED"?"JOB_STATE_UNSPECIFIED":t==="BATCH_STATE_PENDING"?"JOB_STATE_PENDING":t==="BATCH_STATE_RUNNING"?"JOB_STATE_RUNNING":t==="BATCH_STATE_SUCCEEDED"?"JOB_STATE_SUCCEEDED":t==="BATCH_STATE_FAILED"?"JOB_STATE_FAILED":t==="BATCH_STATE_CANCELLED"?"JOB_STATE_CANCELLED":t==="BATCH_STATE_EXPIRED"?"JOB_STATE_EXPIRED":t}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function Nv(i){const t={},l=r(i,["responsesFile"]);l!=null&&c(t,["fileName"],l);const a=r(i,["inlinedResponses","inlinedResponses"]);if(a!=null){let f=a;Array.isArray(f)&&(f=f.map(p=>rT(p))),c(t,["inlinedResponses"],f)}const u=r(i,["inlinedEmbedContentResponses","inlinedResponses"]);if(u!=null){let f=u;Array.isArray(f)&&(f=f.map(p=>p)),c(t,["inlinedEmbedContentResponses"],f)}return t}function bv(i){const t={},l=r(i,["predictionsFormat"]);l!=null&&c(t,["format"],l);const a=r(i,["gcsDestination","outputUriPrefix"]);a!=null&&c(t,["gcsUri"],a);const u=r(i,["bigqueryDestination","outputUri"]);return u!=null&&c(t,["bigqueryUri"],u),t}function wv(i){const t={},l=r(i,["format"]);l!=null&&c(t,["predictionsFormat"],l);const a=r(i,["gcsUri"]);a!=null&&c(t,["gcsDestination","outputUriPrefix"],a);const u=r(i,["bigqueryUri"]);if(u!=null&&c(t,["bigqueryDestination","outputUri"],u),r(i,["fileName"])!==void 0)throw new Error("fileName parameter is not supported in Vertex AI.");if(r(i,["inlinedResponses"])!==void 0)throw new Error("inlinedResponses parameter is not supported in Vertex AI.");if(r(i,["inlinedEmbedContentResponses"])!==void 0)throw new Error("inlinedEmbedContentResponses parameter is not supported in Vertex AI.");return t}function Ws(i){const t={},l=r(i,["name"]);l!=null&&c(t,["name"],l);const a=r(i,["metadata","displayName"]);a!=null&&c(t,["displayName"],a);const u=r(i,["metadata","state"]);u!=null&&c(t,["state"],xg(u));const f=r(i,["metadata","createTime"]);f!=null&&c(t,["createTime"],f);const p=r(i,["metadata","endTime"]);p!=null&&c(t,["endTime"],p);const g=r(i,["metadata","updateTime"]);g!=null&&c(t,["updateTime"],g);const y=r(i,["metadata","model"]);y!=null&&c(t,["model"],y);const h=r(i,["metadata","output"]);return h!=null&&c(t,["dest"],Nv(Rg(h))),t}function Lc(i){const t={},l=r(i,["name"]);l!=null&&c(t,["name"],l);const a=r(i,["displayName"]);a!=null&&c(t,["displayName"],a);const u=r(i,["state"]);u!=null&&c(t,["state"],xg(u));const f=r(i,["error"]);f!=null&&c(t,["error"],f);const p=r(i,["createTime"]);p!=null&&c(t,["createTime"],p);const g=r(i,["startTime"]);g!=null&&c(t,["startTime"],g);const y=r(i,["endTime"]);y!=null&&c(t,["endTime"],y);const h=r(i,["updateTime"]);h!=null&&c(t,["updateTime"],h);const v=r(i,["model"]);v!=null&&c(t,["model"],v);const E=r(i,["inputConfig"]);E!=null&&c(t,["src"],Dv(E));const T=r(i,["outputConfig"]);T!=null&&c(t,["dest"],bv(Rg(T)));const R=r(i,["completionStats"]);return R!=null&&c(t,["completionStats"],R),t}function Dv(i){const t={},l=r(i,["instancesFormat"]);l!=null&&c(t,["format"],l);const a=r(i,["gcsSource","uris"]);a!=null&&c(t,["gcsUri"],a);const u=r(i,["bigquerySource","inputUri"]);return u!=null&&c(t,["bigqueryUri"],u),t}function Iv(i,t){const l={};if(r(t,["format"])!==void 0)throw new Error("format parameter is not supported in Gemini API.");if(r(t,["gcsUri"])!==void 0)throw new Error("gcsUri parameter is not supported in Gemini API.");if(r(t,["bigqueryUri"])!==void 0)throw new Error("bigqueryUri parameter is not supported in Gemini API.");const a=r(t,["fileName"]);a!=null&&c(l,["fileName"],a);const u=r(t,["inlinedRequests"]);if(u!=null){let f=u;Array.isArray(f)&&(f=f.map(p=>sT(i,p))),c(l,["requests","requests"],f)}return l}function Uv(i){const t={},l=r(i,["format"]);l!=null&&c(t,["instancesFormat"],l);const a=r(i,["gcsUri"]);a!=null&&c(t,["gcsSource","uris"],a);const u=r(i,["bigqueryUri"]);if(u!=null&&c(t,["bigquerySource","inputUri"],u),r(i,["fileName"])!==void 0)throw new Error("fileName parameter is not supported in Vertex AI.");if(r(i,["inlinedRequests"])!==void 0)throw new Error("inlinedRequests parameter is not supported in Vertex AI.");return t}function Lv(i){const t={},l=r(i,["data"]);if(l!=null&&c(t,["data"],l),r(i,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const a=r(i,["mimeType"]);return a!=null&&c(t,["mimeType"],a),t}function Pv(i,t){const l={},a=r(t,["name"]);return a!=null&&c(l,["_url","name"],Cl(i,a)),l}function qv(i,t){const l={},a=r(t,["name"]);return a!=null&&c(l,["_url","name"],Cl(i,a)),l}function Gv(i){const t={},l=r(i,["content"]);l!=null&&c(t,["content"],l);const a=r(i,["citationMetadata"]);a!=null&&c(t,["citationMetadata"],Vv(a));const u=r(i,["tokenCount"]);u!=null&&c(t,["tokenCount"],u);const f=r(i,["finishReason"]);f!=null&&c(t,["finishReason"],f);const p=r(i,["avgLogprobs"]);p!=null&&c(t,["avgLogprobs"],p);const g=r(i,["groundingMetadata"]);g!=null&&c(t,["groundingMetadata"],g);const y=r(i,["index"]);y!=null&&c(t,["index"],y);const h=r(i,["logprobsResult"]);h!=null&&c(t,["logprobsResult"],h);const v=r(i,["safetyRatings"]);if(v!=null){let T=v;Array.isArray(T)&&(T=T.map(R=>R)),c(t,["safetyRatings"],T)}const E=r(i,["urlContextMetadata"]);return E!=null&&c(t,["urlContextMetadata"],E),t}function Vv(i){const t={},l=r(i,["citationSources"]);if(l!=null){let a=l;Array.isArray(a)&&(a=a.map(u=>u)),c(t,["citations"],a)}return t}function Mg(i){const t={},l=r(i,["parts"]);if(l!=null){let u=l;Array.isArray(u)&&(u=u.map(f=>hT(f))),c(t,["parts"],u)}const a=r(i,["role"]);return a!=null&&c(t,["role"],a),t}function Hv(i,t){const l={},a=r(i,["displayName"]);if(t!==void 0&&a!=null&&c(t,["batch","displayName"],a),r(i,["dest"])!==void 0)throw new Error("dest parameter is not supported in Gemini API.");return l}function zv(i,t){const l={},a=r(i,["displayName"]);t!==void 0&&a!=null&&c(t,["displayName"],a);const u=r(i,["dest"]);return t!==void 0&&u!=null&&c(t,["outputConfig"],wv(Mv(u))),l}function Kh(i,t){const l={},a=r(t,["model"]);a!=null&&c(l,["_url","model"],Fe(i,a));const u=r(t,["src"]);u!=null&&c(l,["batch","inputConfig"],Iv(i,Ag(i,u)));const f=r(t,["config"]);return f!=null&&Hv(f,l),l}function Bv(i,t){const l={},a=r(t,["model"]);a!=null&&c(l,["model"],Fe(i,a));const u=r(t,["src"]);u!=null&&c(l,["inputConfig"],Uv(Ag(i,u)));const f=r(t,["config"]);return f!=null&&zv(f,l),l}function kv(i,t){const l={},a=r(i,["displayName"]);return t!==void 0&&a!=null&&c(t,["batch","displayName"],a),l}function Fv(i,t){const l={},a=r(t,["model"]);a!=null&&c(l,["_url","model"],Fe(i,a));const u=r(t,["src"]);u!=null&&c(l,["batch","inputConfig"],Zv(i,u));const f=r(t,["config"]);return f!=null&&kv(f,l),l}function Ov(i,t){const l={},a=r(t,["name"]);return a!=null&&c(l,["_url","name"],Cl(i,a)),l}function Yv(i,t){const l={},a=r(t,["name"]);return a!=null&&c(l,["_url","name"],Cl(i,a)),l}function Jv(i){const t={},l=r(i,["sdkHttpResponse"]);l!=null&&c(t,["sdkHttpResponse"],l);const a=r(i,["name"]);a!=null&&c(t,["name"],a);const u=r(i,["done"]);u!=null&&c(t,["done"],u);const f=r(i,["error"]);return f!=null&&c(t,["error"],f),t}function Xv(i){const t={},l=r(i,["sdkHttpResponse"]);l!=null&&c(t,["sdkHttpResponse"],l);const a=r(i,["name"]);a!=null&&c(t,["name"],a);const u=r(i,["done"]);u!=null&&c(t,["done"],u);const f=r(i,["error"]);return f!=null&&c(t,["error"],f),t}function Kv(i,t){const l={},a=r(t,["contents"]);if(a!=null){let f=Yc(i,a);Array.isArray(f)&&(f=f.map(p=>p)),c(l,["requests[]","request","content"],f)}const u=r(t,["config"]);return u!=null&&(c(l,["_self"],Qv(u,l)),Y0(l,{"requests[].*":"requests[].request.*"})),l}function Qv(i,t){const l={},a=r(i,["taskType"]);t!==void 0&&a!=null&&c(t,["requests[]","taskType"],a);const u=r(i,["title"]);t!==void 0&&u!=null&&c(t,["requests[]","title"],u);const f=r(i,["outputDimensionality"]);if(t!==void 0&&f!=null&&c(t,["requests[]","outputDimensionality"],f),r(i,["mimeType"])!==void 0)throw new Error("mimeType parameter is not supported in Gemini API.");if(r(i,["autoTruncate"])!==void 0)throw new Error("autoTruncate parameter is not supported in Gemini API.");return l}function Zv(i,t){const l={},a=r(t,["fileName"]);a!=null&&c(l,["file_name"],a);const u=r(t,["inlinedRequests"]);return u!=null&&c(l,["requests"],Kv(i,u)),l}function $v(i){const t={};if(r(i,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const l=r(i,["fileUri"]);l!=null&&c(t,["fileUri"],l);const a=r(i,["mimeType"]);return a!=null&&c(t,["mimeType"],a),t}function Wv(i){const t={},l=r(i,["id"]);l!=null&&c(t,["id"],l);const a=r(i,["args"]);a!=null&&c(t,["args"],a);const u=r(i,["name"]);if(u!=null&&c(t,["name"],u),r(i,["partialArgs"])!==void 0)throw new Error("partialArgs parameter is not supported in Gemini API.");if(r(i,["willContinue"])!==void 0)throw new Error("willContinue parameter is not supported in Gemini API.");return t}function jv(i){const t={},l=r(i,["mode"]);l!=null&&c(t,["mode"],l);const a=r(i,["allowedFunctionNames"]);if(a!=null&&c(t,["allowedFunctionNames"],a),r(i,["streamFunctionCallArguments"])!==void 0)throw new Error("streamFunctionCallArguments parameter is not supported in Gemini API.");return t}function eT(i,t,l){const a={},u=r(t,["systemInstruction"]);l!==void 0&&u!=null&&c(l,["systemInstruction"],Mg(Ut(u)));const f=r(t,["temperature"]);f!=null&&c(a,["temperature"],f);const p=r(t,["topP"]);p!=null&&c(a,["topP"],p);const g=r(t,["topK"]);g!=null&&c(a,["topK"],g);const y=r(t,["candidateCount"]);y!=null&&c(a,["candidateCount"],y);const h=r(t,["maxOutputTokens"]);h!=null&&c(a,["maxOutputTokens"],h);const v=r(t,["stopSequences"]);v!=null&&c(a,["stopSequences"],v);const E=r(t,["responseLogprobs"]);E!=null&&c(a,["responseLogprobs"],E);const T=r(t,["logprobs"]);T!=null&&c(a,["logprobs"],T);const R=r(t,["presencePenalty"]);R!=null&&c(a,["presencePenalty"],R);const N=r(t,["frequencyPenalty"]);N!=null&&c(a,["frequencyPenalty"],N);const w=r(t,["seed"]);w!=null&&c(a,["seed"],w);const z=r(t,["responseMimeType"]);z!=null&&c(a,["responseMimeType"],z);const G=r(t,["responseSchema"]);G!=null&&c(a,["responseSchema"],Jc(G));const Z=r(t,["responseJsonSchema"]);if(Z!=null&&c(a,["responseJsonSchema"],Z),r(t,["routingConfig"])!==void 0)throw new Error("routingConfig parameter is not supported in Gemini API.");if(r(t,["modelSelectionConfig"])!==void 0)throw new Error("modelSelectionConfig parameter is not supported in Gemini API.");const J=r(t,["safetySettings"]);if(l!==void 0&&J!=null){let Te=J;Array.isArray(Te)&&(Te=Te.map(qe=>gT(qe))),c(l,["safetySettings"],Te)}const ee=r(t,["tools"]);if(l!==void 0&&ee!=null){let Te=_l(ee);Array.isArray(Te)&&(Te=Te.map(qe=>vT(El(qe)))),c(l,["tools"],Te)}const te=r(t,["toolConfig"]);if(l!==void 0&&te!=null&&c(l,["toolConfig"],yT(te)),r(t,["labels"])!==void 0)throw new Error("labels parameter is not supported in Gemini API.");const ie=r(t,["cachedContent"]);l!==void 0&&ie!=null&&c(l,["cachedContent"],gi(i,ie));const X=r(t,["responseModalities"]);X!=null&&c(a,["responseModalities"],X);const fe=r(t,["mediaResolution"]);fe!=null&&c(a,["mediaResolution"],fe);const W=r(t,["speechConfig"]);if(W!=null&&c(a,["speechConfig"],Xc(W)),r(t,["audioTimestamp"])!==void 0)throw new Error("audioTimestamp parameter is not supported in Gemini API.");const j=r(t,["thinkingConfig"]);j!=null&&c(a,["thinkingConfig"],j);const ge=r(t,["imageConfig"]);ge!=null&&c(a,["imageConfig"],aT(ge));const Re=r(t,["enableEnhancedCivicAnswers"]);return Re!=null&&c(a,["enableEnhancedCivicAnswers"],Re),a}function tT(i){const t={},l=r(i,["sdkHttpResponse"]);l!=null&&c(t,["sdkHttpResponse"],l);const a=r(i,["candidates"]);if(a!=null){let y=a;Array.isArray(y)&&(y=y.map(h=>Gv(h))),c(t,["candidates"],y)}const u=r(i,["modelVersion"]);u!=null&&c(t,["modelVersion"],u);const f=r(i,["promptFeedback"]);f!=null&&c(t,["promptFeedback"],f);const p=r(i,["responseId"]);p!=null&&c(t,["responseId"],p);const g=r(i,["usageMetadata"]);return g!=null&&c(t,["usageMetadata"],g),t}function nT(i,t){const l={},a=r(t,["name"]);return a!=null&&c(l,["_url","name"],Cl(i,a)),l}function iT(i,t){const l={},a=r(t,["name"]);return a!=null&&c(l,["_url","name"],Cl(i,a)),l}function oT(i){const t={};if(r(i,["authConfig"])!==void 0)throw new Error("authConfig parameter is not supported in Gemini API.");const l=r(i,["enableWidget"]);return l!=null&&c(t,["enableWidget"],l),t}function lT(i){const t={};if(r(i,["excludeDomains"])!==void 0)throw new Error("excludeDomains parameter is not supported in Gemini API.");if(r(i,["blockingConfidence"])!==void 0)throw new Error("blockingConfidence parameter is not supported in Gemini API.");const l=r(i,["timeRangeFilter"]);return l!=null&&c(t,["timeRangeFilter"],l),t}function aT(i){const t={},l=r(i,["aspectRatio"]);l!=null&&c(t,["aspectRatio"],l);const a=r(i,["imageSize"]);if(a!=null&&c(t,["imageSize"],a),r(i,["outputMimeType"])!==void 0)throw new Error("outputMimeType parameter is not supported in Gemini API.");if(r(i,["outputCompressionQuality"])!==void 0)throw new Error("outputCompressionQuality parameter is not supported in Gemini API.");return t}function sT(i,t){const l={},a=r(t,["model"]);a!=null&&c(l,["request","model"],Fe(i,a));const u=r(t,["contents"]);if(u!=null){let g=Cn(u);Array.isArray(g)&&(g=g.map(y=>Mg(y))),c(l,["request","contents"],g)}const f=r(t,["metadata"]);f!=null&&c(l,["metadata"],f);const p=r(t,["config"]);return p!=null&&c(l,["request","generationConfig"],eT(i,p,r(l,["request"],{}))),l}function rT(i){const t={},l=r(i,["response"]);l!=null&&c(t,["response"],tT(l));const a=r(i,["error"]);return a!=null&&c(t,["error"],a),t}function uT(i,t){const l={},a=r(i,["pageSize"]);t!==void 0&&a!=null&&c(t,["_query","pageSize"],a);const u=r(i,["pageToken"]);if(t!==void 0&&u!=null&&c(t,["_query","pageToken"],u),r(i,["filter"])!==void 0)throw new Error("filter parameter is not supported in Gemini API.");return l}function cT(i,t){const l={},a=r(i,["pageSize"]);t!==void 0&&a!=null&&c(t,["_query","pageSize"],a);const u=r(i,["pageToken"]);t!==void 0&&u!=null&&c(t,["_query","pageToken"],u);const f=r(i,["filter"]);return t!==void 0&&f!=null&&c(t,["_query","filter"],f),l}function fT(i){const t={},l=r(i,["config"]);return l!=null&&uT(l,t),t}function dT(i){const t={},l=r(i,["config"]);return l!=null&&cT(l,t),t}function mT(i){const t={},l=r(i,["sdkHttpResponse"]);l!=null&&c(t,["sdkHttpResponse"],l);const a=r(i,["nextPageToken"]);a!=null&&c(t,["nextPageToken"],a);const u=r(i,["operations"]);if(u!=null){let f=u;Array.isArray(f)&&(f=f.map(p=>Ws(p))),c(t,["batchJobs"],f)}return t}function pT(i){const t={},l=r(i,["sdkHttpResponse"]);l!=null&&c(t,["sdkHttpResponse"],l);const a=r(i,["nextPageToken"]);a!=null&&c(t,["nextPageToken"],a);const u=r(i,["batchPredictionJobs"]);if(u!=null){let f=u;Array.isArray(f)&&(f=f.map(p=>Lc(p))),c(t,["batchJobs"],f)}return t}function hT(i){const t={},l=r(i,["mediaResolution"]);l!=null&&c(t,["mediaResolution"],l);const a=r(i,["codeExecutionResult"]);a!=null&&c(t,["codeExecutionResult"],a);const u=r(i,["executableCode"]);u!=null&&c(t,["executableCode"],u);const f=r(i,["fileData"]);f!=null&&c(t,["fileData"],$v(f));const p=r(i,["functionCall"]);p!=null&&c(t,["functionCall"],Wv(p));const g=r(i,["functionResponse"]);g!=null&&c(t,["functionResponse"],g);const y=r(i,["inlineData"]);y!=null&&c(t,["inlineData"],Lv(y));const h=r(i,["text"]);h!=null&&c(t,["text"],h);const v=r(i,["thought"]);v!=null&&c(t,["thought"],v);const E=r(i,["thoughtSignature"]);E!=null&&c(t,["thoughtSignature"],E);const T=r(i,["videoMetadata"]);return T!=null&&c(t,["videoMetadata"],T),t}function gT(i){const t={},l=r(i,["category"]);if(l!=null&&c(t,["category"],l),r(i,["method"])!==void 0)throw new Error("method parameter is not supported in Gemini API.");const a=r(i,["threshold"]);return a!=null&&c(t,["threshold"],a),t}function yT(i){const t={},l=r(i,["functionCallingConfig"]);l!=null&&c(t,["functionCallingConfig"],jv(l));const a=r(i,["retrievalConfig"]);return a!=null&&c(t,["retrievalConfig"],a),t}function vT(i){const t={},l=r(i,["functionDeclarations"]);if(l!=null){let v=l;Array.isArray(v)&&(v=v.map(E=>E)),c(t,["functionDeclarations"],v)}if(r(i,["retrieval"])!==void 0)throw new Error("retrieval parameter is not supported in Gemini API.");const a=r(i,["googleSearchRetrieval"]);a!=null&&c(t,["googleSearchRetrieval"],a);const u=r(i,["computerUse"]);u!=null&&c(t,["computerUse"],u);const f=r(i,["fileSearch"]);f!=null&&c(t,["fileSearch"],f);const p=r(i,["codeExecution"]);if(p!=null&&c(t,["codeExecution"],p),r(i,["enterpriseWebSearch"])!==void 0)throw new Error("enterpriseWebSearch parameter is not supported in Gemini API.");const g=r(i,["googleMaps"]);g!=null&&c(t,["googleMaps"],oT(g));const y=r(i,["googleSearch"]);y!=null&&c(t,["googleSearch"],lT(y));const h=r(i,["urlContext"]);return h!=null&&c(t,["urlContext"],h),t}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */var pi;(function(i){i.PAGED_ITEM_BATCH_JOBS="batchJobs",i.PAGED_ITEM_MODELS="models",i.PAGED_ITEM_TUNING_JOBS="tuningJobs",i.PAGED_ITEM_FILES="files",i.PAGED_ITEM_CACHED_CONTENTS="cachedContents",i.PAGED_ITEM_FILE_SEARCH_STORES="fileSearchStores",i.PAGED_ITEM_DOCUMENTS="documents"})(pi||(pi={}));class Do{constructor(t,l,a,u){this.pageInternal=[],this.paramsInternal={},this.requestInternal=l,this.init(t,a,u)}init(t,l,a){var u,f;this.nameInternal=t,this.pageInternal=l[this.nameInternal]||[],this.sdkHttpResponseInternal=l==null?void 0:l.sdkHttpResponse,this.idxInternal=0;let p={config:{}};!a||Object.keys(a).length===0?p={config:{}}:typeof a=="object"?p=Object.assign({},a):p=a,p.config&&(p.config.pageToken=l.nextPageToken),this.paramsInternal=p,this.pageInternalSize=(f=(u=p.config)===null||u===void 0?void 0:u.pageSize)!==null&&f!==void 0?f:this.pageInternal.length}initNextPage(t){this.init(this.nameInternal,t,this.paramsInternal)}get page(){return this.pageInternal}get name(){return this.nameInternal}get pageSize(){return this.pageInternalSize}get sdkHttpResponse(){return this.sdkHttpResponseInternal}get params(){return this.paramsInternal}get pageLength(){return this.pageInternal.length}getItem(t){return this.pageInternal[t]}[Symbol.asyncIterator](){return{next:async()=>{if(this.idxInternal>=this.pageLength)if(this.hasNextPage())await this.nextPage();else return{value:void 0,done:!0};const t=this.getItem(this.idxInternal);return this.idxInternal+=1,{value:t,done:!1}},return:async()=>({value:void 0,done:!0})}}async nextPage(){if(!this.hasNextPage())throw new Error("No more pages to fetch.");const t=await this.requestInternal(this.params);return this.initNextPage(t),this.page}hasNextPage(){var t;return((t=this.params.config)===null||t===void 0?void 0:t.pageToken)!==void 0}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class TT extends hi{constructor(t){super(),this.apiClient=t,this.list=async(l={})=>new Do(pi.PAGED_ITEM_BATCH_JOBS,a=>this.listInternal(a),await this.listInternal(l),l),this.create=async l=>(this.apiClient.isVertexAI()&&(l.config=this.formatDestination(l.src,l.config)),this.createInternal(l)),this.createEmbeddings=async l=>{if(console.warn("batches.createEmbeddings() is experimental and may change without notice."),this.apiClient.isVertexAI())throw new Error("Vertex AI does not support batches.createEmbeddings.");return this.createEmbeddingsInternal(l)}}createInlinedGenerateContentRequest(t){const l=Kh(this.apiClient,t),a=l._url,u=oe("{model}:batchGenerateContent",a),g=l.batch.inputConfig.requests,y=g.requests,h=[];for(const v of y){const E=Object.assign({},v);if(E.systemInstruction){const T=E.systemInstruction;delete E.systemInstruction;const R=E.request;R.systemInstruction=T,E.request=R}h.push(E)}return g.requests=h,delete l.config,delete l._url,delete l._query,{path:u,body:l}}getGcsUri(t){if(typeof t=="string")return t.startsWith("gs://")?t:void 0;if(!Array.isArray(t)&&t.gcsUri&&t.gcsUri.length>0)return t.gcsUri[0]}getBigqueryUri(t){if(typeof t=="string")return t.startsWith("bq://")?t:void 0;if(!Array.isArray(t))return t.bigqueryUri}formatDestination(t,l){const a=l?Object.assign({},l):{},u=Date.now().toString();if(a.displayName||(a.displayName=`genaiBatchJob_${u}`),a.dest===void 0){const f=this.getGcsUri(t),p=this.getBigqueryUri(t);if(f)f.endsWith(".jsonl")?a.dest=`${f.slice(0,-6)}/dest`:a.dest=`${f}_dest_${u}`;else if(p)a.dest=`${p}_dest_${u}`;else throw new Error("Unsupported source for Vertex AI: No GCS or BigQuery URI found.")}return a}async createInternal(t){var l,a,u,f;let p,g="",y={};if(this.apiClient.isVertexAI()){const h=Bv(this.apiClient,t);return g=oe("batchPredictionJobs",h._url),y=h._query,delete h._url,delete h._query,p=this.apiClient.request({path:g,queryParams:y,body:JSON.stringify(h),httpMethod:"POST",httpOptions:(l=t.config)===null||l===void 0?void 0:l.httpOptions,abortSignal:(a=t.config)===null||a===void 0?void 0:a.abortSignal}).then(v=>v.json()),p.then(v=>Lc(v))}else{const h=Kh(this.apiClient,t);return g=oe("{model}:batchGenerateContent",h._url),y=h._query,delete h._url,delete h._query,p=this.apiClient.request({path:g,queryParams:y,body:JSON.stringify(h),httpMethod:"POST",httpOptions:(u=t.config)===null||u===void 0?void 0:u.httpOptions,abortSignal:(f=t.config)===null||f===void 0?void 0:f.abortSignal}).then(v=>v.json()),p.then(v=>Ws(v))}}async createEmbeddingsInternal(t){var l,a;let u,f="",p={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const g=Fv(this.apiClient,t);return f=oe("{model}:asyncBatchEmbedContent",g._url),p=g._query,delete g._url,delete g._query,u=this.apiClient.request({path:f,queryParams:p,body:JSON.stringify(g),httpMethod:"POST",httpOptions:(l=t.config)===null||l===void 0?void 0:l.httpOptions,abortSignal:(a=t.config)===null||a===void 0?void 0:a.abortSignal}).then(y=>y.json()),u.then(y=>Ws(y))}}async get(t){var l,a,u,f;let p,g="",y={};if(this.apiClient.isVertexAI()){const h=iT(this.apiClient,t);return g=oe("batchPredictionJobs/{name}",h._url),y=h._query,delete h._url,delete h._query,p=this.apiClient.request({path:g,queryParams:y,body:JSON.stringify(h),httpMethod:"GET",httpOptions:(l=t.config)===null||l===void 0?void 0:l.httpOptions,abortSignal:(a=t.config)===null||a===void 0?void 0:a.abortSignal}).then(v=>v.json()),p.then(v=>Lc(v))}else{const h=nT(this.apiClient,t);return g=oe("batches/{name}",h._url),y=h._query,delete h._url,delete h._query,p=this.apiClient.request({path:g,queryParams:y,body:JSON.stringify(h),httpMethod:"GET",httpOptions:(u=t.config)===null||u===void 0?void 0:u.httpOptions,abortSignal:(f=t.config)===null||f===void 0?void 0:f.abortSignal}).then(v=>v.json()),p.then(v=>Ws(v))}}async cancel(t){var l,a,u,f;let p="",g={};if(this.apiClient.isVertexAI()){const y=qv(this.apiClient,t);p=oe("batchPredictionJobs/{name}:cancel",y._url),g=y._query,delete y._url,delete y._query,await this.apiClient.request({path:p,queryParams:g,body:JSON.stringify(y),httpMethod:"POST",httpOptions:(l=t.config)===null||l===void 0?void 0:l.httpOptions,abortSignal:(a=t.config)===null||a===void 0?void 0:a.abortSignal})}else{const y=Pv(this.apiClient,t);p=oe("batches/{name}:cancel",y._url),g=y._query,delete y._url,delete y._query,await this.apiClient.request({path:p,queryParams:g,body:JSON.stringify(y),httpMethod:"POST",httpOptions:(u=t.config)===null||u===void 0?void 0:u.httpOptions,abortSignal:(f=t.config)===null||f===void 0?void 0:f.abortSignal})}}async listInternal(t){var l,a,u,f;let p,g="",y={};if(this.apiClient.isVertexAI()){const h=dT(t);return g=oe("batchPredictionJobs",h._url),y=h._query,delete h._url,delete h._query,p=this.apiClient.request({path:g,queryParams:y,body:JSON.stringify(h),httpMethod:"GET",httpOptions:(l=t.config)===null||l===void 0?void 0:l.httpOptions,abortSignal:(a=t.config)===null||a===void 0?void 0:a.abortSignal}).then(v=>v.json().then(E=>{const T=E;return T.sdkHttpResponse={headers:v.headers},T})),p.then(v=>{const E=pT(v),T=new Oh;return Object.assign(T,E),T})}else{const h=fT(t);return g=oe("batches",h._url),y=h._query,delete h._url,delete h._query,p=this.apiClient.request({path:g,queryParams:y,body:JSON.stringify(h),httpMethod:"GET",httpOptions:(u=t.config)===null||u===void 0?void 0:u.httpOptions,abortSignal:(f=t.config)===null||f===void 0?void 0:f.abortSignal}).then(v=>v.json().then(E=>{const T=E;return T.sdkHttpResponse={headers:v.headers},T})),p.then(v=>{const E=mT(v),T=new Oh;return Object.assign(T,E),T})}}async delete(t){var l,a,u,f;let p,g="",y={};if(this.apiClient.isVertexAI()){const h=Yv(this.apiClient,t);return g=oe("batchPredictionJobs/{name}",h._url),y=h._query,delete h._url,delete h._query,p=this.apiClient.request({path:g,queryParams:y,body:JSON.stringify(h),httpMethod:"DELETE",httpOptions:(l=t.config)===null||l===void 0?void 0:l.httpOptions,abortSignal:(a=t.config)===null||a===void 0?void 0:a.abortSignal}).then(v=>v.json().then(E=>{const T=E;return T.sdkHttpResponse={headers:v.headers},T})),p.then(v=>Xv(v))}else{const h=Ov(this.apiClient,t);return g=oe("batches/{name}",h._url),y=h._query,delete h._url,delete h._query,p=this.apiClient.request({path:g,queryParams:y,body:JSON.stringify(h),httpMethod:"DELETE",httpOptions:(u=t.config)===null||u===void 0?void 0:u.httpOptions,abortSignal:(f=t.config)===null||f===void 0?void 0:f.abortSignal}).then(v=>v.json().then(E=>{const T=E;return T.sdkHttpResponse={headers:v.headers},T})),p.then(v=>Jv(v))}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function ST(i){const t={},l=r(i,["data"]);if(l!=null&&c(t,["data"],l),r(i,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const a=r(i,["mimeType"]);return a!=null&&c(t,["mimeType"],a),t}function Qh(i){const t={},l=r(i,["parts"]);if(l!=null){let u=l;Array.isArray(u)&&(u=u.map(f=>FT(f))),c(t,["parts"],u)}const a=r(i,["role"]);return a!=null&&c(t,["role"],a),t}function ET(i,t){const l={},a=r(i,["ttl"]);t!==void 0&&a!=null&&c(t,["ttl"],a);const u=r(i,["expireTime"]);t!==void 0&&u!=null&&c(t,["expireTime"],u);const f=r(i,["displayName"]);t!==void 0&&f!=null&&c(t,["displayName"],f);const p=r(i,["contents"]);if(t!==void 0&&p!=null){let v=Cn(p);Array.isArray(v)&&(v=v.map(E=>Qh(E))),c(t,["contents"],v)}const g=r(i,["systemInstruction"]);t!==void 0&&g!=null&&c(t,["systemInstruction"],Qh(Ut(g)));const y=r(i,["tools"]);if(t!==void 0&&y!=null){let v=y;Array.isArray(v)&&(v=v.map(E=>YT(E))),c(t,["tools"],v)}const h=r(i,["toolConfig"]);if(t!==void 0&&h!=null&&c(t,["toolConfig"],OT(h)),r(i,["kmsKeyName"])!==void 0)throw new Error("kmsKeyName parameter is not supported in Gemini API.");return l}function _T(i,t){const l={},a=r(i,["ttl"]);t!==void 0&&a!=null&&c(t,["ttl"],a);const u=r(i,["expireTime"]);t!==void 0&&u!=null&&c(t,["expireTime"],u);const f=r(i,["displayName"]);t!==void 0&&f!=null&&c(t,["displayName"],f);const p=r(i,["contents"]);if(t!==void 0&&p!=null){let E=Cn(p);Array.isArray(E)&&(E=E.map(T=>T)),c(t,["contents"],E)}const g=r(i,["systemInstruction"]);t!==void 0&&g!=null&&c(t,["systemInstruction"],Ut(g));const y=r(i,["tools"]);if(t!==void 0&&y!=null){let E=y;Array.isArray(E)&&(E=E.map(T=>JT(T))),c(t,["tools"],E)}const h=r(i,["toolConfig"]);t!==void 0&&h!=null&&c(t,["toolConfig"],h);const v=r(i,["kmsKeyName"]);return t!==void 0&&v!=null&&c(t,["encryption_spec","kmsKeyName"],v),l}function CT(i,t){const l={},a=r(t,["model"]);a!=null&&c(l,["model"],hg(i,a));const u=r(t,["config"]);return u!=null&&ET(u,l),l}function AT(i,t){const l={},a=r(t,["model"]);a!=null&&c(l,["model"],hg(i,a));const u=r(t,["config"]);return u!=null&&_T(u,l),l}function RT(i,t){const l={},a=r(t,["name"]);return a!=null&&c(l,["_url","name"],gi(i,a)),l}function xT(i,t){const l={},a=r(t,["name"]);return a!=null&&c(l,["_url","name"],gi(i,a)),l}function MT(i){const t={},l=r(i,["sdkHttpResponse"]);return l!=null&&c(t,["sdkHttpResponse"],l),t}function NT(i){const t={},l=r(i,["sdkHttpResponse"]);return l!=null&&c(t,["sdkHttpResponse"],l),t}function bT(i){const t={};if(r(i,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const l=r(i,["fileUri"]);l!=null&&c(t,["fileUri"],l);const a=r(i,["mimeType"]);return a!=null&&c(t,["mimeType"],a),t}function wT(i){const t={},l=r(i,["id"]);l!=null&&c(t,["id"],l);const a=r(i,["args"]);a!=null&&c(t,["args"],a);const u=r(i,["name"]);if(u!=null&&c(t,["name"],u),r(i,["partialArgs"])!==void 0)throw new Error("partialArgs parameter is not supported in Gemini API.");if(r(i,["willContinue"])!==void 0)throw new Error("willContinue parameter is not supported in Gemini API.");return t}function DT(i){const t={},l=r(i,["mode"]);l!=null&&c(t,["mode"],l);const a=r(i,["allowedFunctionNames"]);if(a!=null&&c(t,["allowedFunctionNames"],a),r(i,["streamFunctionCallArguments"])!==void 0)throw new Error("streamFunctionCallArguments parameter is not supported in Gemini API.");return t}function IT(i){const t={};if(r(i,["behavior"])!==void 0)throw new Error("behavior parameter is not supported in Vertex AI.");const l=r(i,["description"]);l!=null&&c(t,["description"],l);const a=r(i,["name"]);a!=null&&c(t,["name"],a);const u=r(i,["parameters"]);u!=null&&c(t,["parameters"],u);const f=r(i,["parametersJsonSchema"]);f!=null&&c(t,["parametersJsonSchema"],f);const p=r(i,["response"]);p!=null&&c(t,["response"],p);const g=r(i,["responseJsonSchema"]);return g!=null&&c(t,["responseJsonSchema"],g),t}function UT(i,t){const l={},a=r(t,["name"]);return a!=null&&c(l,["_url","name"],gi(i,a)),l}function LT(i,t){const l={},a=r(t,["name"]);return a!=null&&c(l,["_url","name"],gi(i,a)),l}function PT(i){const t={};if(r(i,["authConfig"])!==void 0)throw new Error("authConfig parameter is not supported in Gemini API.");const l=r(i,["enableWidget"]);return l!=null&&c(t,["enableWidget"],l),t}function qT(i){const t={};if(r(i,["excludeDomains"])!==void 0)throw new Error("excludeDomains parameter is not supported in Gemini API.");if(r(i,["blockingConfidence"])!==void 0)throw new Error("blockingConfidence parameter is not supported in Gemini API.");const l=r(i,["timeRangeFilter"]);return l!=null&&c(t,["timeRangeFilter"],l),t}function GT(i,t){const l={},a=r(i,["pageSize"]);t!==void 0&&a!=null&&c(t,["_query","pageSize"],a);const u=r(i,["pageToken"]);return t!==void 0&&u!=null&&c(t,["_query","pageToken"],u),l}function VT(i,t){const l={},a=r(i,["pageSize"]);t!==void 0&&a!=null&&c(t,["_query","pageSize"],a);const u=r(i,["pageToken"]);return t!==void 0&&u!=null&&c(t,["_query","pageToken"],u),l}function HT(i){const t={},l=r(i,["config"]);return l!=null&&GT(l,t),t}function zT(i){const t={},l=r(i,["config"]);return l!=null&&VT(l,t),t}function BT(i){const t={},l=r(i,["sdkHttpResponse"]);l!=null&&c(t,["sdkHttpResponse"],l);const a=r(i,["nextPageToken"]);a!=null&&c(t,["nextPageToken"],a);const u=r(i,["cachedContents"]);if(u!=null){let f=u;Array.isArray(f)&&(f=f.map(p=>p)),c(t,["cachedContents"],f)}return t}function kT(i){const t={},l=r(i,["sdkHttpResponse"]);l!=null&&c(t,["sdkHttpResponse"],l);const a=r(i,["nextPageToken"]);a!=null&&c(t,["nextPageToken"],a);const u=r(i,["cachedContents"]);if(u!=null){let f=u;Array.isArray(f)&&(f=f.map(p=>p)),c(t,["cachedContents"],f)}return t}function FT(i){const t={},l=r(i,["mediaResolution"]);l!=null&&c(t,["mediaResolution"],l);const a=r(i,["codeExecutionResult"]);a!=null&&c(t,["codeExecutionResult"],a);const u=r(i,["executableCode"]);u!=null&&c(t,["executableCode"],u);const f=r(i,["fileData"]);f!=null&&c(t,["fileData"],bT(f));const p=r(i,["functionCall"]);p!=null&&c(t,["functionCall"],wT(p));const g=r(i,["functionResponse"]);g!=null&&c(t,["functionResponse"],g);const y=r(i,["inlineData"]);y!=null&&c(t,["inlineData"],ST(y));const h=r(i,["text"]);h!=null&&c(t,["text"],h);const v=r(i,["thought"]);v!=null&&c(t,["thought"],v);const E=r(i,["thoughtSignature"]);E!=null&&c(t,["thoughtSignature"],E);const T=r(i,["videoMetadata"]);return T!=null&&c(t,["videoMetadata"],T),t}function OT(i){const t={},l=r(i,["functionCallingConfig"]);l!=null&&c(t,["functionCallingConfig"],DT(l));const a=r(i,["retrievalConfig"]);return a!=null&&c(t,["retrievalConfig"],a),t}function YT(i){const t={},l=r(i,["functionDeclarations"]);if(l!=null){let v=l;Array.isArray(v)&&(v=v.map(E=>E)),c(t,["functionDeclarations"],v)}if(r(i,["retrieval"])!==void 0)throw new Error("retrieval parameter is not supported in Gemini API.");const a=r(i,["googleSearchRetrieval"]);a!=null&&c(t,["googleSearchRetrieval"],a);const u=r(i,["computerUse"]);u!=null&&c(t,["computerUse"],u);const f=r(i,["fileSearch"]);f!=null&&c(t,["fileSearch"],f);const p=r(i,["codeExecution"]);if(p!=null&&c(t,["codeExecution"],p),r(i,["enterpriseWebSearch"])!==void 0)throw new Error("enterpriseWebSearch parameter is not supported in Gemini API.");const g=r(i,["googleMaps"]);g!=null&&c(t,["googleMaps"],PT(g));const y=r(i,["googleSearch"]);y!=null&&c(t,["googleSearch"],qT(y));const h=r(i,["urlContext"]);return h!=null&&c(t,["urlContext"],h),t}function JT(i){const t={},l=r(i,["functionDeclarations"]);if(l!=null){let E=l;Array.isArray(E)&&(E=E.map(T=>IT(T))),c(t,["functionDeclarations"],E)}const a=r(i,["retrieval"]);a!=null&&c(t,["retrieval"],a);const u=r(i,["googleSearchRetrieval"]);u!=null&&c(t,["googleSearchRetrieval"],u);const f=r(i,["computerUse"]);if(f!=null&&c(t,["computerUse"],f),r(i,["fileSearch"])!==void 0)throw new Error("fileSearch parameter is not supported in Vertex AI.");const p=r(i,["codeExecution"]);p!=null&&c(t,["codeExecution"],p);const g=r(i,["enterpriseWebSearch"]);g!=null&&c(t,["enterpriseWebSearch"],g);const y=r(i,["googleMaps"]);y!=null&&c(t,["googleMaps"],y);const h=r(i,["googleSearch"]);h!=null&&c(t,["googleSearch"],h);const v=r(i,["urlContext"]);return v!=null&&c(t,["urlContext"],v),t}function XT(i,t){const l={},a=r(i,["ttl"]);t!==void 0&&a!=null&&c(t,["ttl"],a);const u=r(i,["expireTime"]);return t!==void 0&&u!=null&&c(t,["expireTime"],u),l}function KT(i,t){const l={},a=r(i,["ttl"]);t!==void 0&&a!=null&&c(t,["ttl"],a);const u=r(i,["expireTime"]);return t!==void 0&&u!=null&&c(t,["expireTime"],u),l}function QT(i,t){const l={},a=r(t,["name"]);a!=null&&c(l,["_url","name"],gi(i,a));const u=r(t,["config"]);return u!=null&&XT(u,l),l}function ZT(i,t){const l={},a=r(t,["name"]);a!=null&&c(l,["_url","name"],gi(i,a));const u=r(t,["config"]);return u!=null&&KT(u,l),l}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class $T extends hi{constructor(t){super(),this.apiClient=t,this.list=async(l={})=>new Do(pi.PAGED_ITEM_CACHED_CONTENTS,a=>this.listInternal(a),await this.listInternal(l),l)}async create(t){var l,a,u,f;let p,g="",y={};if(this.apiClient.isVertexAI()){const h=AT(this.apiClient,t);return g=oe("cachedContents",h._url),y=h._query,delete h._url,delete h._query,p=this.apiClient.request({path:g,queryParams:y,body:JSON.stringify(h),httpMethod:"POST",httpOptions:(l=t.config)===null||l===void 0?void 0:l.httpOptions,abortSignal:(a=t.config)===null||a===void 0?void 0:a.abortSignal}).then(v=>v.json()),p.then(v=>v)}else{const h=CT(this.apiClient,t);return g=oe("cachedContents",h._url),y=h._query,delete h._url,delete h._query,p=this.apiClient.request({path:g,queryParams:y,body:JSON.stringify(h),httpMethod:"POST",httpOptions:(u=t.config)===null||u===void 0?void 0:u.httpOptions,abortSignal:(f=t.config)===null||f===void 0?void 0:f.abortSignal}).then(v=>v.json()),p.then(v=>v)}}async get(t){var l,a,u,f;let p,g="",y={};if(this.apiClient.isVertexAI()){const h=LT(this.apiClient,t);return g=oe("{name}",h._url),y=h._query,delete h._url,delete h._query,p=this.apiClient.request({path:g,queryParams:y,body:JSON.stringify(h),httpMethod:"GET",httpOptions:(l=t.config)===null||l===void 0?void 0:l.httpOptions,abortSignal:(a=t.config)===null||a===void 0?void 0:a.abortSignal}).then(v=>v.json()),p.then(v=>v)}else{const h=UT(this.apiClient,t);return g=oe("{name}",h._url),y=h._query,delete h._url,delete h._query,p=this.apiClient.request({path:g,queryParams:y,body:JSON.stringify(h),httpMethod:"GET",httpOptions:(u=t.config)===null||u===void 0?void 0:u.httpOptions,abortSignal:(f=t.config)===null||f===void 0?void 0:f.abortSignal}).then(v=>v.json()),p.then(v=>v)}}async delete(t){var l,a,u,f;let p,g="",y={};if(this.apiClient.isVertexAI()){const h=xT(this.apiClient,t);return g=oe("{name}",h._url),y=h._query,delete h._url,delete h._query,p=this.apiClient.request({path:g,queryParams:y,body:JSON.stringify(h),httpMethod:"DELETE",httpOptions:(l=t.config)===null||l===void 0?void 0:l.httpOptions,abortSignal:(a=t.config)===null||a===void 0?void 0:a.abortSignal}).then(v=>v.json().then(E=>{const T=E;return T.sdkHttpResponse={headers:v.headers},T})),p.then(v=>{const E=NT(v),T=new kh;return Object.assign(T,E),T})}else{const h=RT(this.apiClient,t);return g=oe("{name}",h._url),y=h._query,delete h._url,delete h._query,p=this.apiClient.request({path:g,queryParams:y,body:JSON.stringify(h),httpMethod:"DELETE",httpOptions:(u=t.config)===null||u===void 0?void 0:u.httpOptions,abortSignal:(f=t.config)===null||f===void 0?void 0:f.abortSignal}).then(v=>v.json().then(E=>{const T=E;return T.sdkHttpResponse={headers:v.headers},T})),p.then(v=>{const E=MT(v),T=new kh;return Object.assign(T,E),T})}}async update(t){var l,a,u,f;let p,g="",y={};if(this.apiClient.isVertexAI()){const h=ZT(this.apiClient,t);return g=oe("{name}",h._url),y=h._query,delete h._url,delete h._query,p=this.apiClient.request({path:g,queryParams:y,body:JSON.stringify(h),httpMethod:"PATCH",httpOptions:(l=t.config)===null||l===void 0?void 0:l.httpOptions,abortSignal:(a=t.config)===null||a===void 0?void 0:a.abortSignal}).then(v=>v.json()),p.then(v=>v)}else{const h=QT(this.apiClient,t);return g=oe("{name}",h._url),y=h._query,delete h._url,delete h._query,p=this.apiClient.request({path:g,queryParams:y,body:JSON.stringify(h),httpMethod:"PATCH",httpOptions:(u=t.config)===null||u===void 0?void 0:u.httpOptions,abortSignal:(f=t.config)===null||f===void 0?void 0:f.abortSignal}).then(v=>v.json()),p.then(v=>v)}}async listInternal(t){var l,a,u,f;let p,g="",y={};if(this.apiClient.isVertexAI()){const h=zT(t);return g=oe("cachedContents",h._url),y=h._query,delete h._url,delete h._query,p=this.apiClient.request({path:g,queryParams:y,body:JSON.stringify(h),httpMethod:"GET",httpOptions:(l=t.config)===null||l===void 0?void 0:l.httpOptions,abortSignal:(a=t.config)===null||a===void 0?void 0:a.abortSignal}).then(v=>v.json().then(E=>{const T=E;return T.sdkHttpResponse={headers:v.headers},T})),p.then(v=>{const E=kT(v),T=new Fh;return Object.assign(T,E),T})}else{const h=HT(t);return g=oe("cachedContents",h._url),y=h._query,delete h._url,delete h._query,p=this.apiClient.request({path:g,queryParams:y,body:JSON.stringify(h),httpMethod:"GET",httpOptions:(u=t.config)===null||u===void 0?void 0:u.httpOptions,abortSignal:(f=t.config)===null||f===void 0?void 0:f.abortSignal}).then(v=>v.json().then(E=>{const T=E;return T.sdkHttpResponse={headers:v.headers},T})),p.then(v=>{const E=BT(v),T=new Fh;return Object.assign(T,E),T})}}}function Zh(i){var t=typeof Symbol=="function"&&Symbol.iterator,l=t&&i[t],a=0;if(l)return l.call(i);if(i&&typeof i.length=="number")return{next:function(){return i&&a>=i.length&&(i=void 0),{value:i&&i[a++],done:!i}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")}function it(i){return this instanceof it?(this.v=i,this):new it(i)}function Tl(i,t,l){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var a=l.apply(i,t||[]),u,f=[];return u=Object.create((typeof AsyncIterator=="function"?AsyncIterator:Object).prototype),g("next"),g("throw"),g("return",p),u[Symbol.asyncIterator]=function(){return this},u;function p(R){return function(N){return Promise.resolve(N).then(R,E)}}function g(R,N){a[R]&&(u[R]=function(w){return new Promise(function(z,G){f.push([R,w,z,G])>1||y(R,w)})},N&&(u[R]=N(u[R])))}function y(R,N){try{h(a[R](N))}catch(w){T(f[0][3],w)}}function h(R){R.value instanceof it?Promise.resolve(R.value.v).then(v,E):T(f[0][2],R)}function v(R){y("next",R)}function E(R){y("throw",R)}function T(R,N){R(N),f.shift(),f.length&&y(f[0][0],f[0][1])}}function wa(i){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var t=i[Symbol.asyncIterator],l;return t?t.call(i):(i=typeof Zh=="function"?Zh(i):i[Symbol.iterator](),l={},a("next"),a("throw"),a("return"),l[Symbol.asyncIterator]=function(){return this},l);function a(f){l[f]=i[f]&&function(p){return new Promise(function(g,y){p=i[f](p),u(g,y,p.done,p.value)})}}function u(f,p,g,y){Promise.resolve(y).then(function(h){f({value:h,done:g})},p)}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function WT(i){var t;if(i.candidates==null||i.candidates.length===0)return!1;const l=(t=i.candidates[0])===null||t===void 0?void 0:t.content;return l===void 0?!1:Ng(l)}function Ng(i){if(i.parts===void 0||i.parts.length===0)return!1;for(const t of i.parts)if(t===void 0||Object.keys(t).length===0)return!1;return!0}function jT(i){if(i.length!==0){for(const t of i)if(t.role!=="user"&&t.role!=="model")throw new Error(`Role must be user or model, but got ${t.role}.`)}}function $h(i){if(i===void 0||i.length===0)return[];const t=[],l=i.length;let a=0;for(;a<l;)if(i[a].role==="user")t.push(i[a]),a++;else{const u=[];let f=!0;for(;a<l&&i[a].role==="model";)u.push(i[a]),f&&!Ng(i[a])&&(f=!1),a++;f?t.push(...u):t.pop()}return t}class eS{constructor(t,l){this.modelsModule=t,this.apiClient=l}create(t){return new tS(this.apiClient,this.modelsModule,t.model,t.config,structuredClone(t.history))}}class tS{constructor(t,l,a,u={},f=[]){this.apiClient=t,this.modelsModule=l,this.model=a,this.config=u,this.history=f,this.sendPromise=Promise.resolve(),jT(f)}async sendMessage(t){var l;await this.sendPromise;const a=Ut(t.message),u=this.modelsModule.generateContent({model:this.model,contents:this.getHistory(!0).concat(a),config:(l=t.config)!==null&&l!==void 0?l:this.config});return this.sendPromise=(async()=>{var f,p,g;const y=await u,h=(p=(f=y.candidates)===null||f===void 0?void 0:f[0])===null||p===void 0?void 0:p.content,v=y.automaticFunctionCallingHistory,E=this.getHistory(!0).length;let T=[];v!=null&&(T=(g=v.slice(E))!==null&&g!==void 0?g:[]);const R=h?[h]:[];this.recordHistory(a,R,T)})(),await this.sendPromise.catch(()=>{this.sendPromise=Promise.resolve()}),u}async sendMessageStream(t){var l;await this.sendPromise;const a=Ut(t.message),u=this.modelsModule.generateContentStream({model:this.model,contents:this.getHistory(!0).concat(a),config:(l=t.config)!==null&&l!==void 0?l:this.config});this.sendPromise=u.then(()=>{}).catch(()=>{});const f=await u;return this.processStreamResponse(f,a)}getHistory(t=!1){const l=t?$h(this.history):this.history;return structuredClone(l)}processStreamResponse(t,l){return Tl(this,arguments,function*(){var u,f,p,g,y,h;const v=[];try{for(var E=!0,T=wa(t),R;R=yield it(T.next()),u=R.done,!u;E=!0){g=R.value,E=!1;const N=g;if(WT(N)){const w=(h=(y=N.candidates)===null||y===void 0?void 0:y[0])===null||h===void 0?void 0:h.content;w!==void 0&&v.push(w)}yield yield it(N)}}catch(N){f={error:N}}finally{try{!E&&!u&&(p=T.return)&&(yield it(p.call(T)))}finally{if(f)throw f.error}}this.recordHistory(l,v)})}recordHistory(t,l,a){let u=[];l.length>0&&l.every(f=>f.role!==void 0)?u=l:u.push({role:"model",parts:[]}),a&&a.length>0?this.history.push(...$h(a)):this.history.push(t),this.history.push(...u)}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class lr extends Error{constructor(t){super(t.message),this.name="ApiError",this.status=t.status,Object.setPrototypeOf(this,lr.prototype)}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function nS(i){const t={},l=r(i,["file"]);return l!=null&&c(t,["file"],l),t}function iS(i){const t={},l=r(i,["sdkHttpResponse"]);return l!=null&&c(t,["sdkHttpResponse"],l),t}function oS(i){const t={},l=r(i,["name"]);return l!=null&&c(t,["_url","file"],Eg(l)),t}function lS(i){const t={},l=r(i,["sdkHttpResponse"]);return l!=null&&c(t,["sdkHttpResponse"],l),t}function aS(i){const t={},l=r(i,["name"]);return l!=null&&c(t,["_url","file"],Eg(l)),t}function sS(i,t){const l={},a=r(i,["pageSize"]);t!==void 0&&a!=null&&c(t,["_query","pageSize"],a);const u=r(i,["pageToken"]);return t!==void 0&&u!=null&&c(t,["_query","pageToken"],u),l}function rS(i){const t={},l=r(i,["config"]);return l!=null&&sS(l,t),t}function uS(i){const t={},l=r(i,["sdkHttpResponse"]);l!=null&&c(t,["sdkHttpResponse"],l);const a=r(i,["nextPageToken"]);a!=null&&c(t,["nextPageToken"],a);const u=r(i,["files"]);if(u!=null){let f=u;Array.isArray(f)&&(f=f.map(p=>p)),c(t,["files"],f)}return t}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class cS extends hi{constructor(t){super(),this.apiClient=t,this.list=async(l={})=>new Do(pi.PAGED_ITEM_FILES,a=>this.listInternal(a),await this.listInternal(l),l)}async upload(t){if(this.apiClient.isVertexAI())throw new Error("Vertex AI does not support uploading files. You can share files through a GCS bucket.");return this.apiClient.uploadFile(t.file,t.config).then(l=>l)}async download(t){await this.apiClient.downloadFile(t)}async listInternal(t){var l,a;let u,f="",p={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const g=rS(t);return f=oe("files",g._url),p=g._query,delete g._url,delete g._query,u=this.apiClient.request({path:f,queryParams:p,body:JSON.stringify(g),httpMethod:"GET",httpOptions:(l=t.config)===null||l===void 0?void 0:l.httpOptions,abortSignal:(a=t.config)===null||a===void 0?void 0:a.abortSignal}).then(y=>y.json().then(h=>{const v=h;return v.sdkHttpResponse={headers:y.headers},v})),u.then(y=>{const h=uS(y),v=new pv;return Object.assign(v,h),v})}}async createInternal(t){var l,a;let u,f="",p={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const g=nS(t);return f=oe("upload/v1beta/files",g._url),p=g._query,delete g._url,delete g._query,u=this.apiClient.request({path:f,queryParams:p,body:JSON.stringify(g),httpMethod:"POST",httpOptions:(l=t.config)===null||l===void 0?void 0:l.httpOptions,abortSignal:(a=t.config)===null||a===void 0?void 0:a.abortSignal}).then(y=>y.json()),u.then(y=>{const h=iS(y),v=new hv;return Object.assign(v,h),v})}}async get(t){var l,a;let u,f="",p={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const g=aS(t);return f=oe("files/{file}",g._url),p=g._query,delete g._url,delete g._query,u=this.apiClient.request({path:f,queryParams:p,body:JSON.stringify(g),httpMethod:"GET",httpOptions:(l=t.config)===null||l===void 0?void 0:l.httpOptions,abortSignal:(a=t.config)===null||a===void 0?void 0:a.abortSignal}).then(y=>y.json()),u.then(y=>y)}}async delete(t){var l,a;let u,f="",p={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const g=oS(t);return f=oe("files/{file}",g._url),p=g._query,delete g._url,delete g._query,u=this.apiClient.request({path:f,queryParams:p,body:JSON.stringify(g),httpMethod:"DELETE",httpOptions:(l=t.config)===null||l===void 0?void 0:l.httpOptions,abortSignal:(a=t.config)===null||a===void 0?void 0:a.abortSignal}).then(y=>y.json().then(h=>{const v=h;return v.sdkHttpResponse={headers:y.headers},v})),u.then(y=>{const h=lS(y),v=new gv;return Object.assign(v,h),v})}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function js(i){const t={},l=r(i,["data"]);if(l!=null&&c(t,["data"],l),r(i,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const a=r(i,["mimeType"]);return a!=null&&c(t,["mimeType"],a),t}function fS(i){const t={},l=r(i,["parts"]);if(l!=null){let u=l;Array.isArray(u)&&(u=u.map(f=>MS(f))),c(t,["parts"],u)}const a=r(i,["role"]);return a!=null&&c(t,["role"],a),t}function dS(i){const t={};if(r(i,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const l=r(i,["fileUri"]);l!=null&&c(t,["fileUri"],l);const a=r(i,["mimeType"]);return a!=null&&c(t,["mimeType"],a),t}function mS(i){const t={},l=r(i,["id"]);l!=null&&c(t,["id"],l);const a=r(i,["args"]);a!=null&&c(t,["args"],a);const u=r(i,["name"]);if(u!=null&&c(t,["name"],u),r(i,["partialArgs"])!==void 0)throw new Error("partialArgs parameter is not supported in Gemini API.");if(r(i,["willContinue"])!==void 0)throw new Error("willContinue parameter is not supported in Gemini API.");return t}function pS(i){const t={};if(r(i,["behavior"])!==void 0)throw new Error("behavior parameter is not supported in Vertex AI.");const l=r(i,["description"]);l!=null&&c(t,["description"],l);const a=r(i,["name"]);a!=null&&c(t,["name"],a);const u=r(i,["parameters"]);u!=null&&c(t,["parameters"],u);const f=r(i,["parametersJsonSchema"]);f!=null&&c(t,["parametersJsonSchema"],f);const p=r(i,["response"]);p!=null&&c(t,["response"],p);const g=r(i,["responseJsonSchema"]);return g!=null&&c(t,["responseJsonSchema"],g),t}function hS(i){const t={},l=r(i,["modelSelectionConfig"]);l!=null&&c(t,["modelConfig"],l);const a=r(i,["responseJsonSchema"]);a!=null&&c(t,["responseJsonSchema"],a);const u=r(i,["audioTimestamp"]);u!=null&&c(t,["audioTimestamp"],u);const f=r(i,["candidateCount"]);f!=null&&c(t,["candidateCount"],f);const p=r(i,["enableAffectiveDialog"]);p!=null&&c(t,["enableAffectiveDialog"],p);const g=r(i,["frequencyPenalty"]);g!=null&&c(t,["frequencyPenalty"],g);const y=r(i,["logprobs"]);y!=null&&c(t,["logprobs"],y);const h=r(i,["maxOutputTokens"]);h!=null&&c(t,["maxOutputTokens"],h);const v=r(i,["mediaResolution"]);v!=null&&c(t,["mediaResolution"],v);const E=r(i,["presencePenalty"]);E!=null&&c(t,["presencePenalty"],E);const T=r(i,["responseLogprobs"]);T!=null&&c(t,["responseLogprobs"],T);const R=r(i,["responseMimeType"]);R!=null&&c(t,["responseMimeType"],R);const N=r(i,["responseModalities"]);N!=null&&c(t,["responseModalities"],N);const w=r(i,["responseSchema"]);w!=null&&c(t,["responseSchema"],w);const z=r(i,["routingConfig"]);z!=null&&c(t,["routingConfig"],z);const G=r(i,["seed"]);G!=null&&c(t,["seed"],G);const Z=r(i,["speechConfig"]);Z!=null&&c(t,["speechConfig"],bg(Z));const J=r(i,["stopSequences"]);J!=null&&c(t,["stopSequences"],J);const ee=r(i,["temperature"]);ee!=null&&c(t,["temperature"],ee);const te=r(i,["thinkingConfig"]);te!=null&&c(t,["thinkingConfig"],te);const ie=r(i,["topK"]);ie!=null&&c(t,["topK"],ie);const X=r(i,["topP"]);if(X!=null&&c(t,["topP"],X),r(i,["enableEnhancedCivicAnswers"])!==void 0)throw new Error("enableEnhancedCivicAnswers parameter is not supported in Vertex AI.");return t}function gS(i){const t={};if(r(i,["authConfig"])!==void 0)throw new Error("authConfig parameter is not supported in Gemini API.");const l=r(i,["enableWidget"]);return l!=null&&c(t,["enableWidget"],l),t}function yS(i){const t={};if(r(i,["excludeDomains"])!==void 0)throw new Error("excludeDomains parameter is not supported in Gemini API.");if(r(i,["blockingConfidence"])!==void 0)throw new Error("blockingConfidence parameter is not supported in Gemini API.");const l=r(i,["timeRangeFilter"]);return l!=null&&c(t,["timeRangeFilter"],l),t}function vS(i,t){const l={},a=r(i,["generationConfig"]);t!==void 0&&a!=null&&c(t,["setup","generationConfig"],a);const u=r(i,["responseModalities"]);t!==void 0&&u!=null&&c(t,["setup","generationConfig","responseModalities"],u);const f=r(i,["temperature"]);t!==void 0&&f!=null&&c(t,["setup","generationConfig","temperature"],f);const p=r(i,["topP"]);t!==void 0&&p!=null&&c(t,["setup","generationConfig","topP"],p);const g=r(i,["topK"]);t!==void 0&&g!=null&&c(t,["setup","generationConfig","topK"],g);const y=r(i,["maxOutputTokens"]);t!==void 0&&y!=null&&c(t,["setup","generationConfig","maxOutputTokens"],y);const h=r(i,["mediaResolution"]);t!==void 0&&h!=null&&c(t,["setup","generationConfig","mediaResolution"],h);const v=r(i,["seed"]);t!==void 0&&v!=null&&c(t,["setup","generationConfig","seed"],v);const E=r(i,["speechConfig"]);t!==void 0&&E!=null&&c(t,["setup","generationConfig","speechConfig"],Kc(E));const T=r(i,["thinkingConfig"]);t!==void 0&&T!=null&&c(t,["setup","generationConfig","thinkingConfig"],T);const R=r(i,["enableAffectiveDialog"]);t!==void 0&&R!=null&&c(t,["setup","generationConfig","enableAffectiveDialog"],R);const N=r(i,["systemInstruction"]);t!==void 0&&N!=null&&c(t,["setup","systemInstruction"],fS(Ut(N)));const w=r(i,["tools"]);if(t!==void 0&&w!=null){let ie=_l(w);Array.isArray(ie)&&(ie=ie.map(X=>bS(El(X)))),c(t,["setup","tools"],ie)}const z=r(i,["sessionResumption"]);t!==void 0&&z!=null&&c(t,["setup","sessionResumption"],NS(z));const G=r(i,["inputAudioTranscription"]);t!==void 0&&G!=null&&c(t,["setup","inputAudioTranscription"],G);const Z=r(i,["outputAudioTranscription"]);t!==void 0&&Z!=null&&c(t,["setup","outputAudioTranscription"],Z);const J=r(i,["realtimeInputConfig"]);t!==void 0&&J!=null&&c(t,["setup","realtimeInputConfig"],J);const ee=r(i,["contextWindowCompression"]);t!==void 0&&ee!=null&&c(t,["setup","contextWindowCompression"],ee);const te=r(i,["proactivity"]);return t!==void 0&&te!=null&&c(t,["setup","proactivity"],te),l}function TS(i,t){const l={},a=r(i,["generationConfig"]);t!==void 0&&a!=null&&c(t,["setup","generationConfig"],hS(a));const u=r(i,["responseModalities"]);t!==void 0&&u!=null&&c(t,["setup","generationConfig","responseModalities"],u);const f=r(i,["temperature"]);t!==void 0&&f!=null&&c(t,["setup","generationConfig","temperature"],f);const p=r(i,["topP"]);t!==void 0&&p!=null&&c(t,["setup","generationConfig","topP"],p);const g=r(i,["topK"]);t!==void 0&&g!=null&&c(t,["setup","generationConfig","topK"],g);const y=r(i,["maxOutputTokens"]);t!==void 0&&y!=null&&c(t,["setup","generationConfig","maxOutputTokens"],y);const h=r(i,["mediaResolution"]);t!==void 0&&h!=null&&c(t,["setup","generationConfig","mediaResolution"],h);const v=r(i,["seed"]);t!==void 0&&v!=null&&c(t,["setup","generationConfig","seed"],v);const E=r(i,["speechConfig"]);t!==void 0&&E!=null&&c(t,["setup","generationConfig","speechConfig"],bg(Kc(E)));const T=r(i,["thinkingConfig"]);t!==void 0&&T!=null&&c(t,["setup","generationConfig","thinkingConfig"],T);const R=r(i,["enableAffectiveDialog"]);t!==void 0&&R!=null&&c(t,["setup","generationConfig","enableAffectiveDialog"],R);const N=r(i,["systemInstruction"]);t!==void 0&&N!=null&&c(t,["setup","systemInstruction"],Ut(N));const w=r(i,["tools"]);if(t!==void 0&&w!=null){let ie=_l(w);Array.isArray(ie)&&(ie=ie.map(X=>wS(El(X)))),c(t,["setup","tools"],ie)}const z=r(i,["sessionResumption"]);t!==void 0&&z!=null&&c(t,["setup","sessionResumption"],z);const G=r(i,["inputAudioTranscription"]);t!==void 0&&G!=null&&c(t,["setup","inputAudioTranscription"],G);const Z=r(i,["outputAudioTranscription"]);t!==void 0&&Z!=null&&c(t,["setup","outputAudioTranscription"],Z);const J=r(i,["realtimeInputConfig"]);t!==void 0&&J!=null&&c(t,["setup","realtimeInputConfig"],J);const ee=r(i,["contextWindowCompression"]);t!==void 0&&ee!=null&&c(t,["setup","contextWindowCompression"],ee);const te=r(i,["proactivity"]);return t!==void 0&&te!=null&&c(t,["setup","proactivity"],te),l}function SS(i,t){const l={},a=r(t,["model"]);a!=null&&c(l,["setup","model"],Fe(i,a));const u=r(t,["config"]);return u!=null&&c(l,["config"],vS(u,l)),l}function ES(i,t){const l={},a=r(t,["model"]);a!=null&&c(l,["setup","model"],Fe(i,a));const u=r(t,["config"]);return u!=null&&c(l,["config"],TS(u,l)),l}function _S(i){const t={},l=r(i,["musicGenerationConfig"]);return l!=null&&c(t,["musicGenerationConfig"],l),t}function CS(i){const t={},l=r(i,["weightedPrompts"]);if(l!=null){let a=l;Array.isArray(a)&&(a=a.map(u=>u)),c(t,["weightedPrompts"],a)}return t}function AS(i){const t={},l=r(i,["media"]);if(l!=null){let h=gg(l);Array.isArray(h)&&(h=h.map(v=>js(v))),c(t,["mediaChunks"],h)}const a=r(i,["audio"]);a!=null&&c(t,["audio"],js(vg(a)));const u=r(i,["audioStreamEnd"]);u!=null&&c(t,["audioStreamEnd"],u);const f=r(i,["video"]);f!=null&&c(t,["video"],js(yg(f)));const p=r(i,["text"]);p!=null&&c(t,["text"],p);const g=r(i,["activityStart"]);g!=null&&c(t,["activityStart"],g);const y=r(i,["activityEnd"]);return y!=null&&c(t,["activityEnd"],y),t}function RS(i){const t={},l=r(i,["media"]);if(l!=null){let h=gg(l);Array.isArray(h)&&(h=h.map(v=>v)),c(t,["mediaChunks"],h)}const a=r(i,["audio"]);a!=null&&c(t,["audio"],vg(a));const u=r(i,["audioStreamEnd"]);u!=null&&c(t,["audioStreamEnd"],u);const f=r(i,["video"]);f!=null&&c(t,["video"],yg(f));const p=r(i,["text"]);p!=null&&c(t,["text"],p);const g=r(i,["activityStart"]);g!=null&&c(t,["activityStart"],g);const y=r(i,["activityEnd"]);return y!=null&&c(t,["activityEnd"],y),t}function xS(i){const t={},l=r(i,["setupComplete"]);l!=null&&c(t,["setupComplete"],l);const a=r(i,["serverContent"]);a!=null&&c(t,["serverContent"],a);const u=r(i,["toolCall"]);u!=null&&c(t,["toolCall"],u);const f=r(i,["toolCallCancellation"]);f!=null&&c(t,["toolCallCancellation"],f);const p=r(i,["usageMetadata"]);p!=null&&c(t,["usageMetadata"],DS(p));const g=r(i,["goAway"]);g!=null&&c(t,["goAway"],g);const y=r(i,["sessionResumptionUpdate"]);return y!=null&&c(t,["sessionResumptionUpdate"],y),t}function MS(i){const t={},l=r(i,["mediaResolution"]);l!=null&&c(t,["mediaResolution"],l);const a=r(i,["codeExecutionResult"]);a!=null&&c(t,["codeExecutionResult"],a);const u=r(i,["executableCode"]);u!=null&&c(t,["executableCode"],u);const f=r(i,["fileData"]);f!=null&&c(t,["fileData"],dS(f));const p=r(i,["functionCall"]);p!=null&&c(t,["functionCall"],mS(p));const g=r(i,["functionResponse"]);g!=null&&c(t,["functionResponse"],g);const y=r(i,["inlineData"]);y!=null&&c(t,["inlineData"],js(y));const h=r(i,["text"]);h!=null&&c(t,["text"],h);const v=r(i,["thought"]);v!=null&&c(t,["thought"],v);const E=r(i,["thoughtSignature"]);E!=null&&c(t,["thoughtSignature"],E);const T=r(i,["videoMetadata"]);return T!=null&&c(t,["videoMetadata"],T),t}function NS(i){const t={},l=r(i,["handle"]);if(l!=null&&c(t,["handle"],l),r(i,["transparent"])!==void 0)throw new Error("transparent parameter is not supported in Gemini API.");return t}function bg(i){const t={},l=r(i,["voiceConfig"]);l!=null&&c(t,["voiceConfig"],l);const a=r(i,["languageCode"]);if(a!=null&&c(t,["languageCode"],a),r(i,["multiSpeakerVoiceConfig"])!==void 0)throw new Error("multiSpeakerVoiceConfig parameter is not supported in Vertex AI.");return t}function bS(i){const t={},l=r(i,["functionDeclarations"]);if(l!=null){let v=l;Array.isArray(v)&&(v=v.map(E=>E)),c(t,["functionDeclarations"],v)}if(r(i,["retrieval"])!==void 0)throw new Error("retrieval parameter is not supported in Gemini API.");const a=r(i,["googleSearchRetrieval"]);a!=null&&c(t,["googleSearchRetrieval"],a);const u=r(i,["computerUse"]);u!=null&&c(t,["computerUse"],u);const f=r(i,["fileSearch"]);f!=null&&c(t,["fileSearch"],f);const p=r(i,["codeExecution"]);if(p!=null&&c(t,["codeExecution"],p),r(i,["enterpriseWebSearch"])!==void 0)throw new Error("enterpriseWebSearch parameter is not supported in Gemini API.");const g=r(i,["googleMaps"]);g!=null&&c(t,["googleMaps"],gS(g));const y=r(i,["googleSearch"]);y!=null&&c(t,["googleSearch"],yS(y));const h=r(i,["urlContext"]);return h!=null&&c(t,["urlContext"],h),t}function wS(i){const t={},l=r(i,["functionDeclarations"]);if(l!=null){let E=l;Array.isArray(E)&&(E=E.map(T=>pS(T))),c(t,["functionDeclarations"],E)}const a=r(i,["retrieval"]);a!=null&&c(t,["retrieval"],a);const u=r(i,["googleSearchRetrieval"]);u!=null&&c(t,["googleSearchRetrieval"],u);const f=r(i,["computerUse"]);if(f!=null&&c(t,["computerUse"],f),r(i,["fileSearch"])!==void 0)throw new Error("fileSearch parameter is not supported in Vertex AI.");const p=r(i,["codeExecution"]);p!=null&&c(t,["codeExecution"],p);const g=r(i,["enterpriseWebSearch"]);g!=null&&c(t,["enterpriseWebSearch"],g);const y=r(i,["googleMaps"]);y!=null&&c(t,["googleMaps"],y);const h=r(i,["googleSearch"]);h!=null&&c(t,["googleSearch"],h);const v=r(i,["urlContext"]);return v!=null&&c(t,["urlContext"],v),t}function DS(i){const t={},l=r(i,["promptTokenCount"]);l!=null&&c(t,["promptTokenCount"],l);const a=r(i,["cachedContentTokenCount"]);a!=null&&c(t,["cachedContentTokenCount"],a);const u=r(i,["candidatesTokenCount"]);u!=null&&c(t,["responseTokenCount"],u);const f=r(i,["toolUsePromptTokenCount"]);f!=null&&c(t,["toolUsePromptTokenCount"],f);const p=r(i,["thoughtsTokenCount"]);p!=null&&c(t,["thoughtsTokenCount"],p);const g=r(i,["totalTokenCount"]);g!=null&&c(t,["totalTokenCount"],g);const y=r(i,["promptTokensDetails"]);if(y!=null){let R=y;Array.isArray(R)&&(R=R.map(N=>N)),c(t,["promptTokensDetails"],R)}const h=r(i,["cacheTokensDetails"]);if(h!=null){let R=h;Array.isArray(R)&&(R=R.map(N=>N)),c(t,["cacheTokensDetails"],R)}const v=r(i,["candidatesTokensDetails"]);if(v!=null){let R=v;Array.isArray(R)&&(R=R.map(N=>N)),c(t,["responseTokensDetails"],R)}const E=r(i,["toolUsePromptTokensDetails"]);if(E!=null){let R=E;Array.isArray(R)&&(R=R.map(N=>N)),c(t,["toolUsePromptTokensDetails"],R)}const T=r(i,["trafficType"]);return T!=null&&c(t,["trafficType"],T),t}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function IS(i){const t={},l=r(i,["data"]);if(l!=null&&c(t,["data"],l),r(i,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const a=r(i,["mimeType"]);return a!=null&&c(t,["mimeType"],a),t}function US(i){const t={},l=r(i,["content"]);l!=null&&c(t,["content"],l);const a=r(i,["citationMetadata"]);a!=null&&c(t,["citationMetadata"],LS(a));const u=r(i,["tokenCount"]);u!=null&&c(t,["tokenCount"],u);const f=r(i,["finishReason"]);f!=null&&c(t,["finishReason"],f);const p=r(i,["avgLogprobs"]);p!=null&&c(t,["avgLogprobs"],p);const g=r(i,["groundingMetadata"]);g!=null&&c(t,["groundingMetadata"],g);const y=r(i,["index"]);y!=null&&c(t,["index"],y);const h=r(i,["logprobsResult"]);h!=null&&c(t,["logprobsResult"],h);const v=r(i,["safetyRatings"]);if(v!=null){let T=v;Array.isArray(T)&&(T=T.map(R=>R)),c(t,["safetyRatings"],T)}const E=r(i,["urlContextMetadata"]);return E!=null&&c(t,["urlContextMetadata"],E),t}function LS(i){const t={},l=r(i,["citationSources"]);if(l!=null){let a=l;Array.isArray(a)&&(a=a.map(u=>u)),c(t,["citations"],a)}return t}function PS(i,t){const l={},a=r(t,["model"]);a!=null&&c(l,["_url","model"],Fe(i,a));const u=r(t,["contents"]);if(u!=null){let f=Cn(u);Array.isArray(f)&&(f=f.map(p=>p)),c(l,["contents"],f)}return l}function qS(i){const t={},l=r(i,["sdkHttpResponse"]);l!=null&&c(t,["sdkHttpResponse"],l);const a=r(i,["tokensInfo"]);if(a!=null){let u=a;Array.isArray(u)&&(u=u.map(f=>f)),c(t,["tokensInfo"],u)}return t}function GS(i){const t={},l=r(i,["values"]);l!=null&&c(t,["values"],l);const a=r(i,["statistics"]);return a!=null&&c(t,["statistics"],VS(a)),t}function VS(i){const t={},l=r(i,["truncated"]);l!=null&&c(t,["truncated"],l);const a=r(i,["token_count"]);return a!=null&&c(t,["tokenCount"],a),t}function ar(i){const t={},l=r(i,["parts"]);if(l!=null){let u=l;Array.isArray(u)&&(u=u.map(f=>XE(f))),c(t,["parts"],u)}const a=r(i,["role"]);return a!=null&&c(t,["role"],a),t}function HS(i){const t={},l=r(i,["controlType"]);l!=null&&c(t,["controlType"],l);const a=r(i,["enableControlImageComputation"]);return a!=null&&c(t,["computeControl"],a),t}function zS(i){const t={};if(r(i,["systemInstruction"])!==void 0)throw new Error("systemInstruction parameter is not supported in Gemini API.");if(r(i,["tools"])!==void 0)throw new Error("tools parameter is not supported in Gemini API.");if(r(i,["generationConfig"])!==void 0)throw new Error("generationConfig parameter is not supported in Gemini API.");return t}function BS(i,t){const l={},a=r(i,["systemInstruction"]);t!==void 0&&a!=null&&c(t,["systemInstruction"],Ut(a));const u=r(i,["tools"]);if(t!==void 0&&u!=null){let p=u;Array.isArray(p)&&(p=p.map(g=>Lg(g))),c(t,["tools"],p)}const f=r(i,["generationConfig"]);return t!==void 0&&f!=null&&c(t,["generationConfig"],IE(f)),l}function kS(i,t){const l={},a=r(t,["model"]);a!=null&&c(l,["_url","model"],Fe(i,a));const u=r(t,["contents"]);if(u!=null){let p=Cn(u);Array.isArray(p)&&(p=p.map(g=>ar(g))),c(l,["contents"],p)}const f=r(t,["config"]);return f!=null&&zS(f),l}function FS(i,t){const l={},a=r(t,["model"]);a!=null&&c(l,["_url","model"],Fe(i,a));const u=r(t,["contents"]);if(u!=null){let p=Cn(u);Array.isArray(p)&&(p=p.map(g=>g)),c(l,["contents"],p)}const f=r(t,["config"]);return f!=null&&BS(f,l),l}function OS(i){const t={},l=r(i,["sdkHttpResponse"]);l!=null&&c(t,["sdkHttpResponse"],l);const a=r(i,["totalTokens"]);a!=null&&c(t,["totalTokens"],a);const u=r(i,["cachedContentTokenCount"]);return u!=null&&c(t,["cachedContentTokenCount"],u),t}function YS(i){const t={},l=r(i,["sdkHttpResponse"]);l!=null&&c(t,["sdkHttpResponse"],l);const a=r(i,["totalTokens"]);return a!=null&&c(t,["totalTokens"],a),t}function JS(i,t){const l={},a=r(t,["model"]);return a!=null&&c(l,["_url","name"],Fe(i,a)),l}function XS(i,t){const l={},a=r(t,["model"]);return a!=null&&c(l,["_url","name"],Fe(i,a)),l}function KS(i){const t={},l=r(i,["sdkHttpResponse"]);return l!=null&&c(t,["sdkHttpResponse"],l),t}function QS(i){const t={},l=r(i,["sdkHttpResponse"]);return l!=null&&c(t,["sdkHttpResponse"],l),t}function ZS(i,t){const l={},a=r(i,["outputGcsUri"]);t!==void 0&&a!=null&&c(t,["parameters","storageUri"],a);const u=r(i,["negativePrompt"]);t!==void 0&&u!=null&&c(t,["parameters","negativePrompt"],u);const f=r(i,["numberOfImages"]);t!==void 0&&f!=null&&c(t,["parameters","sampleCount"],f);const p=r(i,["aspectRatio"]);t!==void 0&&p!=null&&c(t,["parameters","aspectRatio"],p);const g=r(i,["guidanceScale"]);t!==void 0&&g!=null&&c(t,["parameters","guidanceScale"],g);const y=r(i,["seed"]);t!==void 0&&y!=null&&c(t,["parameters","seed"],y);const h=r(i,["safetyFilterLevel"]);t!==void 0&&h!=null&&c(t,["parameters","safetySetting"],h);const v=r(i,["personGeneration"]);t!==void 0&&v!=null&&c(t,["parameters","personGeneration"],v);const E=r(i,["includeSafetyAttributes"]);t!==void 0&&E!=null&&c(t,["parameters","includeSafetyAttributes"],E);const T=r(i,["includeRaiReason"]);t!==void 0&&T!=null&&c(t,["parameters","includeRaiReason"],T);const R=r(i,["language"]);t!==void 0&&R!=null&&c(t,["parameters","language"],R);const N=r(i,["outputMimeType"]);t!==void 0&&N!=null&&c(t,["parameters","outputOptions","mimeType"],N);const w=r(i,["outputCompressionQuality"]);t!==void 0&&w!=null&&c(t,["parameters","outputOptions","compressionQuality"],w);const z=r(i,["addWatermark"]);t!==void 0&&z!=null&&c(t,["parameters","addWatermark"],z);const G=r(i,["labels"]);t!==void 0&&G!=null&&c(t,["labels"],G);const Z=r(i,["editMode"]);t!==void 0&&Z!=null&&c(t,["parameters","editMode"],Z);const J=r(i,["baseSteps"]);return t!==void 0&&J!=null&&c(t,["parameters","editConfig","baseSteps"],J),l}function $S(i,t){const l={},a=r(t,["model"]);a!=null&&c(l,["_url","model"],Fe(i,a));const u=r(t,["prompt"]);u!=null&&c(l,["instances[0]","prompt"],u);const f=r(t,["referenceImages"]);if(f!=null){let g=f;Array.isArray(g)&&(g=g.map(y=>jE(y))),c(l,["instances[0]","referenceImages"],g)}const p=r(t,["config"]);return p!=null&&ZS(p,l),l}function WS(i){const t={},l=r(i,["sdkHttpResponse"]);l!=null&&c(t,["sdkHttpResponse"],l);const a=r(i,["predictions"]);if(a!=null){let u=a;Array.isArray(u)&&(u=u.map(f=>sr(f))),c(t,["generatedImages"],u)}return t}function jS(i,t){const l={},a=r(i,["taskType"]);t!==void 0&&a!=null&&c(t,["requests[]","taskType"],a);const u=r(i,["title"]);t!==void 0&&u!=null&&c(t,["requests[]","title"],u);const f=r(i,["outputDimensionality"]);if(t!==void 0&&f!=null&&c(t,["requests[]","outputDimensionality"],f),r(i,["mimeType"])!==void 0)throw new Error("mimeType parameter is not supported in Gemini API.");if(r(i,["autoTruncate"])!==void 0)throw new Error("autoTruncate parameter is not supported in Gemini API.");return l}function eE(i,t){const l={},a=r(i,["taskType"]);t!==void 0&&a!=null&&c(t,["instances[]","task_type"],a);const u=r(i,["title"]);t!==void 0&&u!=null&&c(t,["instances[]","title"],u);const f=r(i,["outputDimensionality"]);t!==void 0&&f!=null&&c(t,["parameters","outputDimensionality"],f);const p=r(i,["mimeType"]);t!==void 0&&p!=null&&c(t,["instances[]","mimeType"],p);const g=r(i,["autoTruncate"]);return t!==void 0&&g!=null&&c(t,["parameters","autoTruncate"],g),l}function tE(i,t){const l={},a=r(t,["model"]);a!=null&&c(l,["_url","model"],Fe(i,a));const u=r(t,["contents"]);if(u!=null){let g=Yc(i,u);Array.isArray(g)&&(g=g.map(y=>y)),c(l,["requests[]","content"],g)}const f=r(t,["config"]);f!=null&&jS(f,l);const p=r(t,["model"]);return p!==void 0&&c(l,["requests[]","model"],Fe(i,p)),l}function nE(i,t){const l={},a=r(t,["model"]);a!=null&&c(l,["_url","model"],Fe(i,a));const u=r(t,["contents"]);if(u!=null){let p=Yc(i,u);Array.isArray(p)&&(p=p.map(g=>g)),c(l,["instances[]","content"],p)}const f=r(t,["config"]);return f!=null&&eE(f,l),l}function iE(i){const t={},l=r(i,["sdkHttpResponse"]);l!=null&&c(t,["sdkHttpResponse"],l);const a=r(i,["embeddings"]);if(a!=null){let f=a;Array.isArray(f)&&(f=f.map(p=>p)),c(t,["embeddings"],f)}const u=r(i,["metadata"]);return u!=null&&c(t,["metadata"],u),t}function oE(i){const t={},l=r(i,["sdkHttpResponse"]);l!=null&&c(t,["sdkHttpResponse"],l);const a=r(i,["predictions[]","embeddings"]);if(a!=null){let f=a;Array.isArray(f)&&(f=f.map(p=>GS(p))),c(t,["embeddings"],f)}const u=r(i,["metadata"]);return u!=null&&c(t,["metadata"],u),t}function lE(i){const t={},l=r(i,["endpoint"]);l!=null&&c(t,["name"],l);const a=r(i,["deployedModelId"]);return a!=null&&c(t,["deployedModelId"],a),t}function aE(i){const t={};if(r(i,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const l=r(i,["fileUri"]);l!=null&&c(t,["fileUri"],l);const a=r(i,["mimeType"]);return a!=null&&c(t,["mimeType"],a),t}function sE(i){const t={},l=r(i,["id"]);l!=null&&c(t,["id"],l);const a=r(i,["args"]);a!=null&&c(t,["args"],a);const u=r(i,["name"]);if(u!=null&&c(t,["name"],u),r(i,["partialArgs"])!==void 0)throw new Error("partialArgs parameter is not supported in Gemini API.");if(r(i,["willContinue"])!==void 0)throw new Error("willContinue parameter is not supported in Gemini API.");return t}function rE(i){const t={},l=r(i,["mode"]);l!=null&&c(t,["mode"],l);const a=r(i,["allowedFunctionNames"]);if(a!=null&&c(t,["allowedFunctionNames"],a),r(i,["streamFunctionCallArguments"])!==void 0)throw new Error("streamFunctionCallArguments parameter is not supported in Gemini API.");return t}function uE(i){const t={};if(r(i,["behavior"])!==void 0)throw new Error("behavior parameter is not supported in Vertex AI.");const l=r(i,["description"]);l!=null&&c(t,["description"],l);const a=r(i,["name"]);a!=null&&c(t,["name"],a);const u=r(i,["parameters"]);u!=null&&c(t,["parameters"],u);const f=r(i,["parametersJsonSchema"]);f!=null&&c(t,["parametersJsonSchema"],f);const p=r(i,["response"]);p!=null&&c(t,["response"],p);const g=r(i,["responseJsonSchema"]);return g!=null&&c(t,["responseJsonSchema"],g),t}function cE(i,t,l){const a={},u=r(t,["systemInstruction"]);l!==void 0&&u!=null&&c(l,["systemInstruction"],ar(Ut(u)));const f=r(t,["temperature"]);f!=null&&c(a,["temperature"],f);const p=r(t,["topP"]);p!=null&&c(a,["topP"],p);const g=r(t,["topK"]);g!=null&&c(a,["topK"],g);const y=r(t,["candidateCount"]);y!=null&&c(a,["candidateCount"],y);const h=r(t,["maxOutputTokens"]);h!=null&&c(a,["maxOutputTokens"],h);const v=r(t,["stopSequences"]);v!=null&&c(a,["stopSequences"],v);const E=r(t,["responseLogprobs"]);E!=null&&c(a,["responseLogprobs"],E);const T=r(t,["logprobs"]);T!=null&&c(a,["logprobs"],T);const R=r(t,["presencePenalty"]);R!=null&&c(a,["presencePenalty"],R);const N=r(t,["frequencyPenalty"]);N!=null&&c(a,["frequencyPenalty"],N);const w=r(t,["seed"]);w!=null&&c(a,["seed"],w);const z=r(t,["responseMimeType"]);z!=null&&c(a,["responseMimeType"],z);const G=r(t,["responseSchema"]);G!=null&&c(a,["responseSchema"],Jc(G));const Z=r(t,["responseJsonSchema"]);if(Z!=null&&c(a,["responseJsonSchema"],Z),r(t,["routingConfig"])!==void 0)throw new Error("routingConfig parameter is not supported in Gemini API.");if(r(t,["modelSelectionConfig"])!==void 0)throw new Error("modelSelectionConfig parameter is not supported in Gemini API.");const J=r(t,["safetySettings"]);if(l!==void 0&&J!=null){let Te=J;Array.isArray(Te)&&(Te=Te.map(qe=>e_(qe))),c(l,["safetySettings"],Te)}const ee=r(t,["tools"]);if(l!==void 0&&ee!=null){let Te=_l(ee);Array.isArray(Te)&&(Te=Te.map(qe=>s_(El(qe)))),c(l,["tools"],Te)}const te=r(t,["toolConfig"]);if(l!==void 0&&te!=null&&c(l,["toolConfig"],a_(te)),r(t,["labels"])!==void 0)throw new Error("labels parameter is not supported in Gemini API.");const ie=r(t,["cachedContent"]);l!==void 0&&ie!=null&&c(l,["cachedContent"],gi(i,ie));const X=r(t,["responseModalities"]);X!=null&&c(a,["responseModalities"],X);const fe=r(t,["mediaResolution"]);fe!=null&&c(a,["mediaResolution"],fe);const W=r(t,["speechConfig"]);if(W!=null&&c(a,["speechConfig"],Xc(W)),r(t,["audioTimestamp"])!==void 0)throw new Error("audioTimestamp parameter is not supported in Gemini API.");const j=r(t,["thinkingConfig"]);j!=null&&c(a,["thinkingConfig"],j);const ge=r(t,["imageConfig"]);ge!=null&&c(a,["imageConfig"],GE(ge));const Re=r(t,["enableEnhancedCivicAnswers"]);return Re!=null&&c(a,["enableEnhancedCivicAnswers"],Re),a}function fE(i,t,l){const a={},u=r(t,["systemInstruction"]);l!==void 0&&u!=null&&c(l,["systemInstruction"],Ut(u));const f=r(t,["temperature"]);f!=null&&c(a,["temperature"],f);const p=r(t,["topP"]);p!=null&&c(a,["topP"],p);const g=r(t,["topK"]);g!=null&&c(a,["topK"],g);const y=r(t,["candidateCount"]);y!=null&&c(a,["candidateCount"],y);const h=r(t,["maxOutputTokens"]);h!=null&&c(a,["maxOutputTokens"],h);const v=r(t,["stopSequences"]);v!=null&&c(a,["stopSequences"],v);const E=r(t,["responseLogprobs"]);E!=null&&c(a,["responseLogprobs"],E);const T=r(t,["logprobs"]);T!=null&&c(a,["logprobs"],T);const R=r(t,["presencePenalty"]);R!=null&&c(a,["presencePenalty"],R);const N=r(t,["frequencyPenalty"]);N!=null&&c(a,["frequencyPenalty"],N);const w=r(t,["seed"]);w!=null&&c(a,["seed"],w);const z=r(t,["responseMimeType"]);z!=null&&c(a,["responseMimeType"],z);const G=r(t,["responseSchema"]);G!=null&&c(a,["responseSchema"],Jc(G));const Z=r(t,["responseJsonSchema"]);Z!=null&&c(a,["responseJsonSchema"],Z);const J=r(t,["routingConfig"]);J!=null&&c(a,["routingConfig"],J);const ee=r(t,["modelSelectionConfig"]);ee!=null&&c(a,["modelConfig"],ee);const te=r(t,["safetySettings"]);if(l!==void 0&&te!=null){let P=te;Array.isArray(P)&&(P=P.map(K=>K)),c(l,["safetySettings"],P)}const ie=r(t,["tools"]);if(l!==void 0&&ie!=null){let P=_l(ie);Array.isArray(P)&&(P=P.map(K=>Lg(El(K)))),c(l,["tools"],P)}const X=r(t,["toolConfig"]);l!==void 0&&X!=null&&c(l,["toolConfig"],X);const fe=r(t,["labels"]);l!==void 0&&fe!=null&&c(l,["labels"],fe);const W=r(t,["cachedContent"]);l!==void 0&&W!=null&&c(l,["cachedContent"],gi(i,W));const j=r(t,["responseModalities"]);j!=null&&c(a,["responseModalities"],j);const ge=r(t,["mediaResolution"]);ge!=null&&c(a,["mediaResolution"],ge);const Re=r(t,["speechConfig"]);Re!=null&&c(a,["speechConfig"],Ug(Xc(Re)));const Te=r(t,["audioTimestamp"]);Te!=null&&c(a,["audioTimestamp"],Te);const qe=r(t,["thinkingConfig"]);qe!=null&&c(a,["thinkingConfig"],qe);const Ge=r(t,["imageConfig"]);if(Ge!=null&&c(a,["imageConfig"],VE(Ge)),r(t,["enableEnhancedCivicAnswers"])!==void 0)throw new Error("enableEnhancedCivicAnswers parameter is not supported in Vertex AI.");return a}function Wh(i,t){const l={},a=r(t,["model"]);a!=null&&c(l,["_url","model"],Fe(i,a));const u=r(t,["contents"]);if(u!=null){let p=Cn(u);Array.isArray(p)&&(p=p.map(g=>ar(g))),c(l,["contents"],p)}const f=r(t,["config"]);return f!=null&&c(l,["generationConfig"],cE(i,f,l)),l}function jh(i,t){const l={},a=r(t,["model"]);a!=null&&c(l,["_url","model"],Fe(i,a));const u=r(t,["contents"]);if(u!=null){let p=Cn(u);Array.isArray(p)&&(p=p.map(g=>g)),c(l,["contents"],p)}const f=r(t,["config"]);return f!=null&&c(l,["generationConfig"],fE(i,f,l)),l}function eg(i){const t={},l=r(i,["sdkHttpResponse"]);l!=null&&c(t,["sdkHttpResponse"],l);const a=r(i,["candidates"]);if(a!=null){let y=a;Array.isArray(y)&&(y=y.map(h=>US(h))),c(t,["candidates"],y)}const u=r(i,["modelVersion"]);u!=null&&c(t,["modelVersion"],u);const f=r(i,["promptFeedback"]);f!=null&&c(t,["promptFeedback"],f);const p=r(i,["responseId"]);p!=null&&c(t,["responseId"],p);const g=r(i,["usageMetadata"]);return g!=null&&c(t,["usageMetadata"],g),t}function tg(i){const t={},l=r(i,["sdkHttpResponse"]);l!=null&&c(t,["sdkHttpResponse"],l);const a=r(i,["candidates"]);if(a!=null){let h=a;Array.isArray(h)&&(h=h.map(v=>v)),c(t,["candidates"],h)}const u=r(i,["createTime"]);u!=null&&c(t,["createTime"],u);const f=r(i,["modelVersion"]);f!=null&&c(t,["modelVersion"],f);const p=r(i,["promptFeedback"]);p!=null&&c(t,["promptFeedback"],p);const g=r(i,["responseId"]);g!=null&&c(t,["responseId"],g);const y=r(i,["usageMetadata"]);return y!=null&&c(t,["usageMetadata"],y),t}function dE(i,t){const l={};if(r(i,["outputGcsUri"])!==void 0)throw new Error("outputGcsUri parameter is not supported in Gemini API.");if(r(i,["negativePrompt"])!==void 0)throw new Error("negativePrompt parameter is not supported in Gemini API.");const a=r(i,["numberOfImages"]);t!==void 0&&a!=null&&c(t,["parameters","sampleCount"],a);const u=r(i,["aspectRatio"]);t!==void 0&&u!=null&&c(t,["parameters","aspectRatio"],u);const f=r(i,["guidanceScale"]);if(t!==void 0&&f!=null&&c(t,["parameters","guidanceScale"],f),r(i,["seed"])!==void 0)throw new Error("seed parameter is not supported in Gemini API.");const p=r(i,["safetyFilterLevel"]);t!==void 0&&p!=null&&c(t,["parameters","safetySetting"],p);const g=r(i,["personGeneration"]);t!==void 0&&g!=null&&c(t,["parameters","personGeneration"],g);const y=r(i,["includeSafetyAttributes"]);t!==void 0&&y!=null&&c(t,["parameters","includeSafetyAttributes"],y);const h=r(i,["includeRaiReason"]);t!==void 0&&h!=null&&c(t,["parameters","includeRaiReason"],h);const v=r(i,["language"]);t!==void 0&&v!=null&&c(t,["parameters","language"],v);const E=r(i,["outputMimeType"]);t!==void 0&&E!=null&&c(t,["parameters","outputOptions","mimeType"],E);const T=r(i,["outputCompressionQuality"]);if(t!==void 0&&T!=null&&c(t,["parameters","outputOptions","compressionQuality"],T),r(i,["addWatermark"])!==void 0)throw new Error("addWatermark parameter is not supported in Gemini API.");if(r(i,["labels"])!==void 0)throw new Error("labels parameter is not supported in Gemini API.");const R=r(i,["imageSize"]);if(t!==void 0&&R!=null&&c(t,["parameters","sampleImageSize"],R),r(i,["enhancePrompt"])!==void 0)throw new Error("enhancePrompt parameter is not supported in Gemini API.");return l}function mE(i,t){const l={},a=r(i,["outputGcsUri"]);t!==void 0&&a!=null&&c(t,["parameters","storageUri"],a);const u=r(i,["negativePrompt"]);t!==void 0&&u!=null&&c(t,["parameters","negativePrompt"],u);const f=r(i,["numberOfImages"]);t!==void 0&&f!=null&&c(t,["parameters","sampleCount"],f);const p=r(i,["aspectRatio"]);t!==void 0&&p!=null&&c(t,["parameters","aspectRatio"],p);const g=r(i,["guidanceScale"]);t!==void 0&&g!=null&&c(t,["parameters","guidanceScale"],g);const y=r(i,["seed"]);t!==void 0&&y!=null&&c(t,["parameters","seed"],y);const h=r(i,["safetyFilterLevel"]);t!==void 0&&h!=null&&c(t,["parameters","safetySetting"],h);const v=r(i,["personGeneration"]);t!==void 0&&v!=null&&c(t,["parameters","personGeneration"],v);const E=r(i,["includeSafetyAttributes"]);t!==void 0&&E!=null&&c(t,["parameters","includeSafetyAttributes"],E);const T=r(i,["includeRaiReason"]);t!==void 0&&T!=null&&c(t,["parameters","includeRaiReason"],T);const R=r(i,["language"]);t!==void 0&&R!=null&&c(t,["parameters","language"],R);const N=r(i,["outputMimeType"]);t!==void 0&&N!=null&&c(t,["parameters","outputOptions","mimeType"],N);const w=r(i,["outputCompressionQuality"]);t!==void 0&&w!=null&&c(t,["parameters","outputOptions","compressionQuality"],w);const z=r(i,["addWatermark"]);t!==void 0&&z!=null&&c(t,["parameters","addWatermark"],z);const G=r(i,["labels"]);t!==void 0&&G!=null&&c(t,["labels"],G);const Z=r(i,["imageSize"]);t!==void 0&&Z!=null&&c(t,["parameters","sampleImageSize"],Z);const J=r(i,["enhancePrompt"]);return t!==void 0&&J!=null&&c(t,["parameters","enhancePrompt"],J),l}function pE(i,t){const l={},a=r(t,["model"]);a!=null&&c(l,["_url","model"],Fe(i,a));const u=r(t,["prompt"]);u!=null&&c(l,["instances[0]","prompt"],u);const f=r(t,["config"]);return f!=null&&dE(f,l),l}function hE(i,t){const l={},a=r(t,["model"]);a!=null&&c(l,["_url","model"],Fe(i,a));const u=r(t,["prompt"]);u!=null&&c(l,["instances[0]","prompt"],u);const f=r(t,["config"]);return f!=null&&mE(f,l),l}function gE(i){const t={},l=r(i,["sdkHttpResponse"]);l!=null&&c(t,["sdkHttpResponse"],l);const a=r(i,["predictions"]);if(a!=null){let f=a;Array.isArray(f)&&(f=f.map(p=>NE(p))),c(t,["generatedImages"],f)}const u=r(i,["positivePromptSafetyAttributes"]);return u!=null&&c(t,["positivePromptSafetyAttributes"],Dg(u)),t}function yE(i){const t={},l=r(i,["sdkHttpResponse"]);l!=null&&c(t,["sdkHttpResponse"],l);const a=r(i,["predictions"]);if(a!=null){let f=a;Array.isArray(f)&&(f=f.map(p=>sr(p))),c(t,["generatedImages"],f)}const u=r(i,["positivePromptSafetyAttributes"]);return u!=null&&c(t,["positivePromptSafetyAttributes"],Ig(u)),t}function vE(i,t){const l={},a=r(i,["numberOfVideos"]);if(t!==void 0&&a!=null&&c(t,["parameters","sampleCount"],a),r(i,["outputGcsUri"])!==void 0)throw new Error("outputGcsUri parameter is not supported in Gemini API.");if(r(i,["fps"])!==void 0)throw new Error("fps parameter is not supported in Gemini API.");const u=r(i,["durationSeconds"]);if(t!==void 0&&u!=null&&c(t,["parameters","durationSeconds"],u),r(i,["seed"])!==void 0)throw new Error("seed parameter is not supported in Gemini API.");const f=r(i,["aspectRatio"]);t!==void 0&&f!=null&&c(t,["parameters","aspectRatio"],f);const p=r(i,["resolution"]);t!==void 0&&p!=null&&c(t,["parameters","resolution"],p);const g=r(i,["personGeneration"]);if(t!==void 0&&g!=null&&c(t,["parameters","personGeneration"],g),r(i,["pubsubTopic"])!==void 0)throw new Error("pubsubTopic parameter is not supported in Gemini API.");const y=r(i,["negativePrompt"]);t!==void 0&&y!=null&&c(t,["parameters","negativePrompt"],y);const h=r(i,["enhancePrompt"]);if(t!==void 0&&h!=null&&c(t,["parameters","enhancePrompt"],h),r(i,["generateAudio"])!==void 0)throw new Error("generateAudio parameter is not supported in Gemini API.");const v=r(i,["lastFrame"]);t!==void 0&&v!=null&&c(t,["instances[0]","lastFrame"],rr(v));const E=r(i,["referenceImages"]);if(t!==void 0&&E!=null){let T=E;Array.isArray(T)&&(T=T.map(R=>S_(R))),c(t,["instances[0]","referenceImages"],T)}if(r(i,["mask"])!==void 0)throw new Error("mask parameter is not supported in Gemini API.");if(r(i,["compressionQuality"])!==void 0)throw new Error("compressionQuality parameter is not supported in Gemini API.");return l}function TE(i,t){const l={},a=r(i,["numberOfVideos"]);t!==void 0&&a!=null&&c(t,["parameters","sampleCount"],a);const u=r(i,["outputGcsUri"]);t!==void 0&&u!=null&&c(t,["parameters","storageUri"],u);const f=r(i,["fps"]);t!==void 0&&f!=null&&c(t,["parameters","fps"],f);const p=r(i,["durationSeconds"]);t!==void 0&&p!=null&&c(t,["parameters","durationSeconds"],p);const g=r(i,["seed"]);t!==void 0&&g!=null&&c(t,["parameters","seed"],g);const y=r(i,["aspectRatio"]);t!==void 0&&y!=null&&c(t,["parameters","aspectRatio"],y);const h=r(i,["resolution"]);t!==void 0&&h!=null&&c(t,["parameters","resolution"],h);const v=r(i,["personGeneration"]);t!==void 0&&v!=null&&c(t,["parameters","personGeneration"],v);const E=r(i,["pubsubTopic"]);t!==void 0&&E!=null&&c(t,["parameters","pubsubTopic"],E);const T=r(i,["negativePrompt"]);t!==void 0&&T!=null&&c(t,["parameters","negativePrompt"],T);const R=r(i,["enhancePrompt"]);t!==void 0&&R!=null&&c(t,["parameters","enhancePrompt"],R);const N=r(i,["generateAudio"]);t!==void 0&&N!=null&&c(t,["parameters","generateAudio"],N);const w=r(i,["lastFrame"]);t!==void 0&&w!=null&&c(t,["instances[0]","lastFrame"],Pn(w));const z=r(i,["referenceImages"]);if(t!==void 0&&z!=null){let J=z;Array.isArray(J)&&(J=J.map(ee=>E_(ee))),c(t,["instances[0]","referenceImages"],J)}const G=r(i,["mask"]);t!==void 0&&G!=null&&c(t,["instances[0]","mask"],T_(G));const Z=r(i,["compressionQuality"]);return t!==void 0&&Z!=null&&c(t,["parameters","compressionQuality"],Z),l}function SE(i){const t={},l=r(i,["name"]);l!=null&&c(t,["name"],l);const a=r(i,["metadata"]);a!=null&&c(t,["metadata"],a);const u=r(i,["done"]);u!=null&&c(t,["done"],u);const f=r(i,["error"]);f!=null&&c(t,["error"],f);const p=r(i,["response","generateVideoResponse"]);return p!=null&&c(t,["response"],AE(p)),t}function EE(i){const t={},l=r(i,["name"]);l!=null&&c(t,["name"],l);const a=r(i,["metadata"]);a!=null&&c(t,["metadata"],a);const u=r(i,["done"]);u!=null&&c(t,["done"],u);const f=r(i,["error"]);f!=null&&c(t,["error"],f);const p=r(i,["response"]);return p!=null&&c(t,["response"],RE(p)),t}function _E(i,t){const l={},a=r(t,["model"]);a!=null&&c(l,["_url","model"],Fe(i,a));const u=r(t,["prompt"]);u!=null&&c(l,["instances[0]","prompt"],u);const f=r(t,["image"]);f!=null&&c(l,["instances[0]","image"],rr(f));const p=r(t,["video"]);p!=null&&c(l,["instances[0]","video"],Pg(p));const g=r(t,["source"]);g!=null&&xE(g,l);const y=r(t,["config"]);return y!=null&&vE(y,l),l}function CE(i,t){const l={},a=r(t,["model"]);a!=null&&c(l,["_url","model"],Fe(i,a));const u=r(t,["prompt"]);u!=null&&c(l,["instances[0]","prompt"],u);const f=r(t,["image"]);f!=null&&c(l,["instances[0]","image"],Pn(f));const p=r(t,["video"]);p!=null&&c(l,["instances[0]","video"],qg(p));const g=r(t,["source"]);g!=null&&ME(g,l);const y=r(t,["config"]);return y!=null&&TE(y,l),l}function AE(i){const t={},l=r(i,["generatedSamples"]);if(l!=null){let f=l;Array.isArray(f)&&(f=f.map(p=>wE(p))),c(t,["generatedVideos"],f)}const a=r(i,["raiMediaFilteredCount"]);a!=null&&c(t,["raiMediaFilteredCount"],a);const u=r(i,["raiMediaFilteredReasons"]);return u!=null&&c(t,["raiMediaFilteredReasons"],u),t}function RE(i){const t={},l=r(i,["videos"]);if(l!=null){let f=l;Array.isArray(f)&&(f=f.map(p=>DE(p))),c(t,["generatedVideos"],f)}const a=r(i,["raiMediaFilteredCount"]);a!=null&&c(t,["raiMediaFilteredCount"],a);const u=r(i,["raiMediaFilteredReasons"]);return u!=null&&c(t,["raiMediaFilteredReasons"],u),t}function xE(i,t){const l={},a=r(i,["prompt"]);t!==void 0&&a!=null&&c(t,["instances[0]","prompt"],a);const u=r(i,["image"]);t!==void 0&&u!=null&&c(t,["instances[0]","image"],rr(u));const f=r(i,["video"]);return t!==void 0&&f!=null&&c(t,["instances[0]","video"],Pg(f)),l}function ME(i,t){const l={},a=r(i,["prompt"]);t!==void 0&&a!=null&&c(t,["instances[0]","prompt"],a);const u=r(i,["image"]);t!==void 0&&u!=null&&c(t,["instances[0]","image"],Pn(u));const f=r(i,["video"]);return t!==void 0&&f!=null&&c(t,["instances[0]","video"],qg(f)),l}function NE(i){const t={},l=r(i,["_self"]);l!=null&&c(t,["image"],HE(l));const a=r(i,["raiFilteredReason"]);a!=null&&c(t,["raiFilteredReason"],a);const u=r(i,["_self"]);return u!=null&&c(t,["safetyAttributes"],Dg(u)),t}function sr(i){const t={},l=r(i,["_self"]);l!=null&&c(t,["image"],wg(l));const a=r(i,["raiFilteredReason"]);a!=null&&c(t,["raiFilteredReason"],a);const u=r(i,["_self"]);u!=null&&c(t,["safetyAttributes"],Ig(u));const f=r(i,["prompt"]);return f!=null&&c(t,["enhancedPrompt"],f),t}function bE(i){const t={},l=r(i,["_self"]);l!=null&&c(t,["mask"],wg(l));const a=r(i,["labels"]);if(a!=null){let u=a;Array.isArray(u)&&(u=u.map(f=>f)),c(t,["labels"],u)}return t}function wE(i){const t={},l=r(i,["video"]);return l!=null&&c(t,["video"],y_(l)),t}function DE(i){const t={},l=r(i,["_self"]);return l!=null&&c(t,["video"],v_(l)),t}function IE(i){const t={},l=r(i,["modelSelectionConfig"]);l!=null&&c(t,["modelConfig"],l);const a=r(i,["responseJsonSchema"]);a!=null&&c(t,["responseJsonSchema"],a);const u=r(i,["audioTimestamp"]);u!=null&&c(t,["audioTimestamp"],u);const f=r(i,["candidateCount"]);f!=null&&c(t,["candidateCount"],f);const p=r(i,["enableAffectiveDialog"]);p!=null&&c(t,["enableAffectiveDialog"],p);const g=r(i,["frequencyPenalty"]);g!=null&&c(t,["frequencyPenalty"],g);const y=r(i,["logprobs"]);y!=null&&c(t,["logprobs"],y);const h=r(i,["maxOutputTokens"]);h!=null&&c(t,["maxOutputTokens"],h);const v=r(i,["mediaResolution"]);v!=null&&c(t,["mediaResolution"],v);const E=r(i,["presencePenalty"]);E!=null&&c(t,["presencePenalty"],E);const T=r(i,["responseLogprobs"]);T!=null&&c(t,["responseLogprobs"],T);const R=r(i,["responseMimeType"]);R!=null&&c(t,["responseMimeType"],R);const N=r(i,["responseModalities"]);N!=null&&c(t,["responseModalities"],N);const w=r(i,["responseSchema"]);w!=null&&c(t,["responseSchema"],w);const z=r(i,["routingConfig"]);z!=null&&c(t,["routingConfig"],z);const G=r(i,["seed"]);G!=null&&c(t,["seed"],G);const Z=r(i,["speechConfig"]);Z!=null&&c(t,["speechConfig"],Ug(Z));const J=r(i,["stopSequences"]);J!=null&&c(t,["stopSequences"],J);const ee=r(i,["temperature"]);ee!=null&&c(t,["temperature"],ee);const te=r(i,["thinkingConfig"]);te!=null&&c(t,["thinkingConfig"],te);const ie=r(i,["topK"]);ie!=null&&c(t,["topK"],ie);const X=r(i,["topP"]);if(X!=null&&c(t,["topP"],X),r(i,["enableEnhancedCivicAnswers"])!==void 0)throw new Error("enableEnhancedCivicAnswers parameter is not supported in Vertex AI.");return t}function UE(i,t){const l={},a=r(t,["model"]);return a!=null&&c(l,["_url","name"],Fe(i,a)),l}function LE(i,t){const l={},a=r(t,["model"]);return a!=null&&c(l,["_url","name"],Fe(i,a)),l}function PE(i){const t={};if(r(i,["authConfig"])!==void 0)throw new Error("authConfig parameter is not supported in Gemini API.");const l=r(i,["enableWidget"]);return l!=null&&c(t,["enableWidget"],l),t}function qE(i){const t={};if(r(i,["excludeDomains"])!==void 0)throw new Error("excludeDomains parameter is not supported in Gemini API.");if(r(i,["blockingConfidence"])!==void 0)throw new Error("blockingConfidence parameter is not supported in Gemini API.");const l=r(i,["timeRangeFilter"]);return l!=null&&c(t,["timeRangeFilter"],l),t}function GE(i){const t={},l=r(i,["aspectRatio"]);l!=null&&c(t,["aspectRatio"],l);const a=r(i,["imageSize"]);if(a!=null&&c(t,["imageSize"],a),r(i,["outputMimeType"])!==void 0)throw new Error("outputMimeType parameter is not supported in Gemini API.");if(r(i,["outputCompressionQuality"])!==void 0)throw new Error("outputCompressionQuality parameter is not supported in Gemini API.");return t}function VE(i){const t={},l=r(i,["aspectRatio"]);l!=null&&c(t,["aspectRatio"],l);const a=r(i,["imageSize"]);a!=null&&c(t,["imageSize"],a);const u=r(i,["outputMimeType"]);u!=null&&c(t,["imageOutputOptions","mimeType"],u);const f=r(i,["outputCompressionQuality"]);return f!=null&&c(t,["imageOutputOptions","compressionQuality"],f),t}function HE(i){const t={},l=r(i,["bytesBase64Encoded"]);l!=null&&c(t,["imageBytes"],no(l));const a=r(i,["mimeType"]);return a!=null&&c(t,["mimeType"],a),t}function wg(i){const t={},l=r(i,["gcsUri"]);l!=null&&c(t,["gcsUri"],l);const a=r(i,["bytesBase64Encoded"]);a!=null&&c(t,["imageBytes"],no(a));const u=r(i,["mimeType"]);return u!=null&&c(t,["mimeType"],u),t}function rr(i){const t={};if(r(i,["gcsUri"])!==void 0)throw new Error("gcsUri parameter is not supported in Gemini API.");const l=r(i,["imageBytes"]);l!=null&&c(t,["bytesBase64Encoded"],no(l));const a=r(i,["mimeType"]);return a!=null&&c(t,["mimeType"],a),t}function Pn(i){const t={},l=r(i,["gcsUri"]);l!=null&&c(t,["gcsUri"],l);const a=r(i,["imageBytes"]);a!=null&&c(t,["bytesBase64Encoded"],no(a));const u=r(i,["mimeType"]);return u!=null&&c(t,["mimeType"],u),t}function zE(i,t,l){const a={},u=r(t,["pageSize"]);l!==void 0&&u!=null&&c(l,["_query","pageSize"],u);const f=r(t,["pageToken"]);l!==void 0&&f!=null&&c(l,["_query","pageToken"],f);const p=r(t,["filter"]);l!==void 0&&p!=null&&c(l,["_query","filter"],p);const g=r(t,["queryBase"]);return l!==void 0&&g!=null&&c(l,["_url","models_url"],_g(i,g)),a}function BE(i,t,l){const a={},u=r(t,["pageSize"]);l!==void 0&&u!=null&&c(l,["_query","pageSize"],u);const f=r(t,["pageToken"]);l!==void 0&&f!=null&&c(l,["_query","pageToken"],f);const p=r(t,["filter"]);l!==void 0&&p!=null&&c(l,["_query","filter"],p);const g=r(t,["queryBase"]);return l!==void 0&&g!=null&&c(l,["_url","models_url"],_g(i,g)),a}function kE(i,t){const l={},a=r(t,["config"]);return a!=null&&zE(i,a,l),l}function FE(i,t){const l={},a=r(t,["config"]);return a!=null&&BE(i,a,l),l}function OE(i){const t={},l=r(i,["sdkHttpResponse"]);l!=null&&c(t,["sdkHttpResponse"],l);const a=r(i,["nextPageToken"]);a!=null&&c(t,["nextPageToken"],a);const u=r(i,["_self"]);if(u!=null){let f=Cg(u);Array.isArray(f)&&(f=f.map(p=>Pc(p))),c(t,["models"],f)}return t}function YE(i){const t={},l=r(i,["sdkHttpResponse"]);l!=null&&c(t,["sdkHttpResponse"],l);const a=r(i,["nextPageToken"]);a!=null&&c(t,["nextPageToken"],a);const u=r(i,["_self"]);if(u!=null){let f=Cg(u);Array.isArray(f)&&(f=f.map(p=>qc(p))),c(t,["models"],f)}return t}function JE(i){const t={},l=r(i,["maskMode"]);l!=null&&c(t,["maskMode"],l);const a=r(i,["segmentationClasses"]);a!=null&&c(t,["maskClasses"],a);const u=r(i,["maskDilation"]);return u!=null&&c(t,["dilation"],u),t}function Pc(i){const t={},l=r(i,["name"]);l!=null&&c(t,["name"],l);const a=r(i,["displayName"]);a!=null&&c(t,["displayName"],a);const u=r(i,["description"]);u!=null&&c(t,["description"],u);const f=r(i,["version"]);f!=null&&c(t,["version"],f);const p=r(i,["_self"]);p!=null&&c(t,["tunedModelInfo"],r_(p));const g=r(i,["inputTokenLimit"]);g!=null&&c(t,["inputTokenLimit"],g);const y=r(i,["outputTokenLimit"]);y!=null&&c(t,["outputTokenLimit"],y);const h=r(i,["supportedGenerationMethods"]);h!=null&&c(t,["supportedActions"],h);const v=r(i,["temperature"]);v!=null&&c(t,["temperature"],v);const E=r(i,["maxTemperature"]);E!=null&&c(t,["maxTemperature"],E);const T=r(i,["topP"]);T!=null&&c(t,["topP"],T);const R=r(i,["topK"]);R!=null&&c(t,["topK"],R);const N=r(i,["thinking"]);return N!=null&&c(t,["thinking"],N),t}function qc(i){const t={},l=r(i,["name"]);l!=null&&c(t,["name"],l);const a=r(i,["displayName"]);a!=null&&c(t,["displayName"],a);const u=r(i,["description"]);u!=null&&c(t,["description"],u);const f=r(i,["versionId"]);f!=null&&c(t,["version"],f);const p=r(i,["deployedModels"]);if(p!=null){let E=p;Array.isArray(E)&&(E=E.map(T=>lE(T))),c(t,["endpoints"],E)}const g=r(i,["labels"]);g!=null&&c(t,["labels"],g);const y=r(i,["_self"]);y!=null&&c(t,["tunedModelInfo"],u_(y));const h=r(i,["defaultCheckpointId"]);h!=null&&c(t,["defaultCheckpointId"],h);const v=r(i,["checkpoints"]);if(v!=null){let E=v;Array.isArray(E)&&(E=E.map(T=>T)),c(t,["checkpoints"],E)}return t}function XE(i){const t={},l=r(i,["mediaResolution"]);l!=null&&c(t,["mediaResolution"],l);const a=r(i,["codeExecutionResult"]);a!=null&&c(t,["codeExecutionResult"],a);const u=r(i,["executableCode"]);u!=null&&c(t,["executableCode"],u);const f=r(i,["fileData"]);f!=null&&c(t,["fileData"],aE(f));const p=r(i,["functionCall"]);p!=null&&c(t,["functionCall"],sE(p));const g=r(i,["functionResponse"]);g!=null&&c(t,["functionResponse"],g);const y=r(i,["inlineData"]);y!=null&&c(t,["inlineData"],IS(y));const h=r(i,["text"]);h!=null&&c(t,["text"],h);const v=r(i,["thought"]);v!=null&&c(t,["thought"],v);const E=r(i,["thoughtSignature"]);E!=null&&c(t,["thoughtSignature"],E);const T=r(i,["videoMetadata"]);return T!=null&&c(t,["videoMetadata"],T),t}function KE(i){const t={},l=r(i,["productImage"]);return l!=null&&c(t,["image"],Pn(l)),t}function QE(i,t){const l={},a=r(i,["numberOfImages"]);t!==void 0&&a!=null&&c(t,["parameters","sampleCount"],a);const u=r(i,["baseSteps"]);t!==void 0&&u!=null&&c(t,["parameters","baseSteps"],u);const f=r(i,["outputGcsUri"]);t!==void 0&&f!=null&&c(t,["parameters","storageUri"],f);const p=r(i,["seed"]);t!==void 0&&p!=null&&c(t,["parameters","seed"],p);const g=r(i,["safetyFilterLevel"]);t!==void 0&&g!=null&&c(t,["parameters","safetySetting"],g);const y=r(i,["personGeneration"]);t!==void 0&&y!=null&&c(t,["parameters","personGeneration"],y);const h=r(i,["addWatermark"]);t!==void 0&&h!=null&&c(t,["parameters","addWatermark"],h);const v=r(i,["outputMimeType"]);t!==void 0&&v!=null&&c(t,["parameters","outputOptions","mimeType"],v);const E=r(i,["outputCompressionQuality"]);t!==void 0&&E!=null&&c(t,["parameters","outputOptions","compressionQuality"],E);const T=r(i,["enhancePrompt"]);t!==void 0&&T!=null&&c(t,["parameters","enhancePrompt"],T);const R=r(i,["labels"]);return t!==void 0&&R!=null&&c(t,["labels"],R),l}function ZE(i,t){const l={},a=r(t,["model"]);a!=null&&c(l,["_url","model"],Fe(i,a));const u=r(t,["source"]);u!=null&&WE(u,l);const f=r(t,["config"]);return f!=null&&QE(f,l),l}function $E(i){const t={},l=r(i,["predictions"]);if(l!=null){let a=l;Array.isArray(a)&&(a=a.map(u=>sr(u))),c(t,["generatedImages"],a)}return t}function WE(i,t){const l={},a=r(i,["prompt"]);t!==void 0&&a!=null&&c(t,["instances[0]","prompt"],a);const u=r(i,["personImage"]);t!==void 0&&u!=null&&c(t,["instances[0]","personImage","image"],Pn(u));const f=r(i,["productImages"]);if(t!==void 0&&f!=null){let p=f;Array.isArray(p)&&(p=p.map(g=>KE(g))),c(t,["instances[0]","productImages"],p)}return l}function jE(i){const t={},l=r(i,["referenceImage"]);l!=null&&c(t,["referenceImage"],Pn(l));const a=r(i,["referenceId"]);a!=null&&c(t,["referenceId"],a);const u=r(i,["referenceType"]);u!=null&&c(t,["referenceType"],u);const f=r(i,["maskImageConfig"]);f!=null&&c(t,["maskImageConfig"],JE(f));const p=r(i,["controlImageConfig"]);p!=null&&c(t,["controlImageConfig"],HS(p));const g=r(i,["styleImageConfig"]);g!=null&&c(t,["styleImageConfig"],g);const y=r(i,["subjectImageConfig"]);return y!=null&&c(t,["subjectImageConfig"],y),t}function Dg(i){const t={},l=r(i,["safetyAttributes","categories"]);l!=null&&c(t,["categories"],l);const a=r(i,["safetyAttributes","scores"]);a!=null&&c(t,["scores"],a);const u=r(i,["contentType"]);return u!=null&&c(t,["contentType"],u),t}function Ig(i){const t={},l=r(i,["safetyAttributes","categories"]);l!=null&&c(t,["categories"],l);const a=r(i,["safetyAttributes","scores"]);a!=null&&c(t,["scores"],a);const u=r(i,["contentType"]);return u!=null&&c(t,["contentType"],u),t}function e_(i){const t={},l=r(i,["category"]);if(l!=null&&c(t,["category"],l),r(i,["method"])!==void 0)throw new Error("method parameter is not supported in Gemini API.");const a=r(i,["threshold"]);return a!=null&&c(t,["threshold"],a),t}function t_(i){const t={},l=r(i,["image"]);return l!=null&&c(t,["image"],Pn(l)),t}function n_(i,t){const l={},a=r(i,["mode"]);t!==void 0&&a!=null&&c(t,["parameters","mode"],a);const u=r(i,["maxPredictions"]);t!==void 0&&u!=null&&c(t,["parameters","maxPredictions"],u);const f=r(i,["confidenceThreshold"]);t!==void 0&&f!=null&&c(t,["parameters","confidenceThreshold"],f);const p=r(i,["maskDilation"]);t!==void 0&&p!=null&&c(t,["parameters","maskDilation"],p);const g=r(i,["binaryColorThreshold"]);t!==void 0&&g!=null&&c(t,["parameters","binaryColorThreshold"],g);const y=r(i,["labels"]);return t!==void 0&&y!=null&&c(t,["labels"],y),l}function i_(i,t){const l={},a=r(t,["model"]);a!=null&&c(l,["_url","model"],Fe(i,a));const u=r(t,["source"]);u!=null&&l_(u,l);const f=r(t,["config"]);return f!=null&&n_(f,l),l}function o_(i){const t={},l=r(i,["predictions"]);if(l!=null){let a=l;Array.isArray(a)&&(a=a.map(u=>bE(u))),c(t,["generatedMasks"],a)}return t}function l_(i,t){const l={},a=r(i,["prompt"]);t!==void 0&&a!=null&&c(t,["instances[0]","prompt"],a);const u=r(i,["image"]);t!==void 0&&u!=null&&c(t,["instances[0]","image"],Pn(u));const f=r(i,["scribbleImage"]);return t!==void 0&&f!=null&&c(t,["instances[0]","scribble"],t_(f)),l}function Ug(i){const t={},l=r(i,["voiceConfig"]);l!=null&&c(t,["voiceConfig"],l);const a=r(i,["languageCode"]);if(a!=null&&c(t,["languageCode"],a),r(i,["multiSpeakerVoiceConfig"])!==void 0)throw new Error("multiSpeakerVoiceConfig parameter is not supported in Vertex AI.");return t}function a_(i){const t={},l=r(i,["functionCallingConfig"]);l!=null&&c(t,["functionCallingConfig"],rE(l));const a=r(i,["retrievalConfig"]);return a!=null&&c(t,["retrievalConfig"],a),t}function s_(i){const t={},l=r(i,["functionDeclarations"]);if(l!=null){let v=l;Array.isArray(v)&&(v=v.map(E=>E)),c(t,["functionDeclarations"],v)}if(r(i,["retrieval"])!==void 0)throw new Error("retrieval parameter is not supported in Gemini API.");const a=r(i,["googleSearchRetrieval"]);a!=null&&c(t,["googleSearchRetrieval"],a);const u=r(i,["computerUse"]);u!=null&&c(t,["computerUse"],u);const f=r(i,["fileSearch"]);f!=null&&c(t,["fileSearch"],f);const p=r(i,["codeExecution"]);if(p!=null&&c(t,["codeExecution"],p),r(i,["enterpriseWebSearch"])!==void 0)throw new Error("enterpriseWebSearch parameter is not supported in Gemini API.");const g=r(i,["googleMaps"]);g!=null&&c(t,["googleMaps"],PE(g));const y=r(i,["googleSearch"]);y!=null&&c(t,["googleSearch"],qE(y));const h=r(i,["urlContext"]);return h!=null&&c(t,["urlContext"],h),t}function Lg(i){const t={},l=r(i,["functionDeclarations"]);if(l!=null){let E=l;Array.isArray(E)&&(E=E.map(T=>uE(T))),c(t,["functionDeclarations"],E)}const a=r(i,["retrieval"]);a!=null&&c(t,["retrieval"],a);const u=r(i,["googleSearchRetrieval"]);u!=null&&c(t,["googleSearchRetrieval"],u);const f=r(i,["computerUse"]);if(f!=null&&c(t,["computerUse"],f),r(i,["fileSearch"])!==void 0)throw new Error("fileSearch parameter is not supported in Vertex AI.");const p=r(i,["codeExecution"]);p!=null&&c(t,["codeExecution"],p);const g=r(i,["enterpriseWebSearch"]);g!=null&&c(t,["enterpriseWebSearch"],g);const y=r(i,["googleMaps"]);y!=null&&c(t,["googleMaps"],y);const h=r(i,["googleSearch"]);h!=null&&c(t,["googleSearch"],h);const v=r(i,["urlContext"]);return v!=null&&c(t,["urlContext"],v),t}function r_(i){const t={},l=r(i,["baseModel"]);l!=null&&c(t,["baseModel"],l);const a=r(i,["createTime"]);a!=null&&c(t,["createTime"],a);const u=r(i,["updateTime"]);return u!=null&&c(t,["updateTime"],u),t}function u_(i){const t={},l=r(i,["labels","google-vertex-llm-tuning-base-model-id"]);l!=null&&c(t,["baseModel"],l);const a=r(i,["createTime"]);a!=null&&c(t,["createTime"],a);const u=r(i,["updateTime"]);return u!=null&&c(t,["updateTime"],u),t}function c_(i,t){const l={},a=r(i,["displayName"]);t!==void 0&&a!=null&&c(t,["displayName"],a);const u=r(i,["description"]);t!==void 0&&u!=null&&c(t,["description"],u);const f=r(i,["defaultCheckpointId"]);return t!==void 0&&f!=null&&c(t,["defaultCheckpointId"],f),l}function f_(i,t){const l={},a=r(i,["displayName"]);t!==void 0&&a!=null&&c(t,["displayName"],a);const u=r(i,["description"]);t!==void 0&&u!=null&&c(t,["description"],u);const f=r(i,["defaultCheckpointId"]);return t!==void 0&&f!=null&&c(t,["defaultCheckpointId"],f),l}function d_(i,t){const l={},a=r(t,["model"]);a!=null&&c(l,["_url","name"],Fe(i,a));const u=r(t,["config"]);return u!=null&&c_(u,l),l}function m_(i,t){const l={},a=r(t,["model"]);a!=null&&c(l,["_url","model"],Fe(i,a));const u=r(t,["config"]);return u!=null&&f_(u,l),l}function p_(i,t){const l={},a=r(i,["outputGcsUri"]);t!==void 0&&a!=null&&c(t,["parameters","storageUri"],a);const u=r(i,["safetyFilterLevel"]);t!==void 0&&u!=null&&c(t,["parameters","safetySetting"],u);const f=r(i,["personGeneration"]);t!==void 0&&f!=null&&c(t,["parameters","personGeneration"],f);const p=r(i,["includeRaiReason"]);t!==void 0&&p!=null&&c(t,["parameters","includeRaiReason"],p);const g=r(i,["outputMimeType"]);t!==void 0&&g!=null&&c(t,["parameters","outputOptions","mimeType"],g);const y=r(i,["outputCompressionQuality"]);t!==void 0&&y!=null&&c(t,["parameters","outputOptions","compressionQuality"],y);const h=r(i,["enhanceInputImage"]);t!==void 0&&h!=null&&c(t,["parameters","upscaleConfig","enhanceInputImage"],h);const v=r(i,["imagePreservationFactor"]);t!==void 0&&v!=null&&c(t,["parameters","upscaleConfig","imagePreservationFactor"],v);const E=r(i,["labels"]);t!==void 0&&E!=null&&c(t,["labels"],E);const T=r(i,["numberOfImages"]);t!==void 0&&T!=null&&c(t,["parameters","sampleCount"],T);const R=r(i,["mode"]);return t!==void 0&&R!=null&&c(t,["parameters","mode"],R),l}function h_(i,t){const l={},a=r(t,["model"]);a!=null&&c(l,["_url","model"],Fe(i,a));const u=r(t,["image"]);u!=null&&c(l,["instances[0]","image"],Pn(u));const f=r(t,["upscaleFactor"]);f!=null&&c(l,["parameters","upscaleConfig","upscaleFactor"],f);const p=r(t,["config"]);return p!=null&&p_(p,l),l}function g_(i){const t={},l=r(i,["sdkHttpResponse"]);l!=null&&c(t,["sdkHttpResponse"],l);const a=r(i,["predictions"]);if(a!=null){let u=a;Array.isArray(u)&&(u=u.map(f=>sr(f))),c(t,["generatedImages"],u)}return t}function y_(i){const t={},l=r(i,["uri"]);l!=null&&c(t,["uri"],l);const a=r(i,["encodedVideo"]);a!=null&&c(t,["videoBytes"],no(a));const u=r(i,["encoding"]);return u!=null&&c(t,["mimeType"],u),t}function v_(i){const t={},l=r(i,["gcsUri"]);l!=null&&c(t,["uri"],l);const a=r(i,["bytesBase64Encoded"]);a!=null&&c(t,["videoBytes"],no(a));const u=r(i,["mimeType"]);return u!=null&&c(t,["mimeType"],u),t}function T_(i){const t={},l=r(i,["image"]);l!=null&&c(t,["_self"],Pn(l));const a=r(i,["maskMode"]);return a!=null&&c(t,["maskMode"],a),t}function S_(i){const t={},l=r(i,["image"]);l!=null&&c(t,["image"],rr(l));const a=r(i,["referenceType"]);return a!=null&&c(t,["referenceType"],a),t}function E_(i){const t={},l=r(i,["image"]);l!=null&&c(t,["image"],Pn(l));const a=r(i,["referenceType"]);return a!=null&&c(t,["referenceType"],a),t}function Pg(i){const t={},l=r(i,["uri"]);l!=null&&c(t,["uri"],l);const a=r(i,["videoBytes"]);a!=null&&c(t,["encodedVideo"],no(a));const u=r(i,["mimeType"]);return u!=null&&c(t,["encoding"],u),t}function qg(i){const t={},l=r(i,["uri"]);l!=null&&c(t,["gcsUri"],l);const a=r(i,["videoBytes"]);a!=null&&c(t,["bytesBase64Encoded"],no(a));const u=r(i,["mimeType"]);return u!=null&&c(t,["mimeType"],u),t}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function __(i,t){const l={},a=r(i,["displayName"]);return t!==void 0&&a!=null&&c(t,["displayName"],a),l}function C_(i){const t={},l=r(i,["config"]);return l!=null&&__(l,t),t}function A_(i,t){const l={},a=r(i,["force"]);return t!==void 0&&a!=null&&c(t,["_query","force"],a),l}function R_(i){const t={},l=r(i,["name"]);l!=null&&c(t,["_url","name"],l);const a=r(i,["config"]);return a!=null&&A_(a,t),t}function x_(i){const t={},l=r(i,["name"]);return l!=null&&c(t,["_url","name"],l),t}function M_(i,t){const l={},a=r(i,["customMetadata"]);if(t!==void 0&&a!=null){let f=a;Array.isArray(f)&&(f=f.map(p=>p)),c(t,["customMetadata"],f)}const u=r(i,["chunkingConfig"]);return t!==void 0&&u!=null&&c(t,["chunkingConfig"],u),l}function N_(i){const t={},l=r(i,["name"]);l!=null&&c(t,["name"],l);const a=r(i,["metadata"]);a!=null&&c(t,["metadata"],a);const u=r(i,["done"]);u!=null&&c(t,["done"],u);const f=r(i,["error"]);f!=null&&c(t,["error"],f);const p=r(i,["response"]);return p!=null&&c(t,["response"],w_(p)),t}function b_(i){const t={},l=r(i,["fileSearchStoreName"]);l!=null&&c(t,["_url","file_search_store_name"],l);const a=r(i,["fileName"]);a!=null&&c(t,["fileName"],a);const u=r(i,["config"]);return u!=null&&M_(u,t),t}function w_(i){const t={},l=r(i,["sdkHttpResponse"]);l!=null&&c(t,["sdkHttpResponse"],l);const a=r(i,["parent"]);a!=null&&c(t,["parent"],a);const u=r(i,["documentName"]);return u!=null&&c(t,["documentName"],u),t}function D_(i,t){const l={},a=r(i,["pageSize"]);t!==void 0&&a!=null&&c(t,["_query","pageSize"],a);const u=r(i,["pageToken"]);return t!==void 0&&u!=null&&c(t,["_query","pageToken"],u),l}function I_(i){const t={},l=r(i,["config"]);return l!=null&&D_(l,t),t}function U_(i){const t={},l=r(i,["sdkHttpResponse"]);l!=null&&c(t,["sdkHttpResponse"],l);const a=r(i,["nextPageToken"]);a!=null&&c(t,["nextPageToken"],a);const u=r(i,["fileSearchStores"]);if(u!=null){let f=u;Array.isArray(f)&&(f=f.map(p=>p)),c(t,["fileSearchStores"],f)}return t}function Gg(i,t){const l={},a=r(i,["mimeType"]);t!==void 0&&a!=null&&c(t,["mimeType"],a);const u=r(i,["displayName"]);t!==void 0&&u!=null&&c(t,["displayName"],u);const f=r(i,["customMetadata"]);if(t!==void 0&&f!=null){let g=f;Array.isArray(g)&&(g=g.map(y=>y)),c(t,["customMetadata"],g)}const p=r(i,["chunkingConfig"]);return t!==void 0&&p!=null&&c(t,["chunkingConfig"],p),l}function L_(i){const t={},l=r(i,["fileSearchStoreName"]);l!=null&&c(t,["_url","file_search_store_name"],l);const a=r(i,["config"]);return a!=null&&Gg(a,t),t}function P_(i){const t={},l=r(i,["sdkHttpResponse"]);return l!=null&&c(t,["sdkHttpResponse"],l),t}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const q_="Content-Type",G_="X-Server-Timeout",V_="User-Agent",Gc="x-goog-api-client",H_="1.32.0",z_=`google-genai-sdk/${H_}`,B_="v1beta1",k_="v1beta";class F_{constructor(t){var l,a;this.clientOptions=Object.assign(Object.assign({},t),{project:t.project,location:t.location,apiKey:t.apiKey,vertexai:t.vertexai});const u={};this.clientOptions.vertexai?(u.apiVersion=(l=this.clientOptions.apiVersion)!==null&&l!==void 0?l:B_,u.baseUrl=this.baseUrlFromProjectLocation(),this.normalizeAuthParameters()):(u.apiVersion=(a=this.clientOptions.apiVersion)!==null&&a!==void 0?a:k_,u.baseUrl="https://generativelanguage.googleapis.com/"),u.headers=this.getDefaultHeaders(),this.clientOptions.httpOptions=u,t.httpOptions&&(this.clientOptions.httpOptions=this.patchHttpOptions(u,t.httpOptions))}baseUrlFromProjectLocation(){return this.clientOptions.project&&this.clientOptions.location&&this.clientOptions.location!=="global"?`https://${this.clientOptions.location}-aiplatform.googleapis.com/`:"https://aiplatform.googleapis.com/"}normalizeAuthParameters(){if(this.clientOptions.project&&this.clientOptions.location){this.clientOptions.apiKey=void 0;return}this.clientOptions.project=void 0,this.clientOptions.location=void 0}isVertexAI(){var t;return(t=this.clientOptions.vertexai)!==null&&t!==void 0?t:!1}getProject(){return this.clientOptions.project}getLocation(){return this.clientOptions.location}getApiVersion(){if(this.clientOptions.httpOptions&&this.clientOptions.httpOptions.apiVersion!==void 0)return this.clientOptions.httpOptions.apiVersion;throw new Error("API version is not set.")}getBaseUrl(){if(this.clientOptions.httpOptions&&this.clientOptions.httpOptions.baseUrl!==void 0)return this.clientOptions.httpOptions.baseUrl;throw new Error("Base URL is not set.")}getRequestUrl(){return this.getRequestUrlInternal(this.clientOptions.httpOptions)}getHeaders(){if(this.clientOptions.httpOptions&&this.clientOptions.httpOptions.headers!==void 0)return this.clientOptions.httpOptions.headers;throw new Error("Headers are not set.")}getRequestUrlInternal(t){if(!t||t.baseUrl===void 0||t.apiVersion===void 0)throw new Error("HTTP options are not correctly set.");const a=[t.baseUrl.endsWith("/")?t.baseUrl.slice(0,-1):t.baseUrl];return t.apiVersion&&t.apiVersion!==""&&a.push(t.apiVersion),a.join("/")}getBaseResourcePath(){return`projects/${this.clientOptions.project}/locations/${this.clientOptions.location}`}getApiKey(){return this.clientOptions.apiKey}getWebsocketBaseUrl(){const t=this.getBaseUrl(),l=new URL(t);return l.protocol=l.protocol=="http:"?"ws":"wss",l.toString()}setBaseUrl(t){if(this.clientOptions.httpOptions)this.clientOptions.httpOptions.baseUrl=t;else throw new Error("HTTP options are not correctly set.")}constructUrl(t,l,a){const u=[this.getRequestUrlInternal(l)];return a&&u.push(this.getBaseResourcePath()),t!==""&&u.push(t),new URL(`${u.join("/")}`)}shouldPrependVertexProjectPath(t){return!(this.clientOptions.apiKey||!this.clientOptions.vertexai||t.path.startsWith("projects/")||t.httpMethod==="GET"&&t.path.startsWith("publishers/google/models"))}async request(t){let l=this.clientOptions.httpOptions;t.httpOptions&&(l=this.patchHttpOptions(this.clientOptions.httpOptions,t.httpOptions));const a=this.shouldPrependVertexProjectPath(t),u=this.constructUrl(t.path,l,a);if(t.queryParams)for(const[p,g]of Object.entries(t.queryParams))u.searchParams.append(p,String(g));let f={};if(t.httpMethod==="GET"){if(t.body&&t.body!=="{}")throw new Error("Request body should be empty for GET request, but got non empty request body")}else f.body=t.body;return f=await this.includeExtraHttpOptionsToRequestInit(f,l,u.toString(),t.abortSignal),this.unaryApiCall(u,f,t.httpMethod)}patchHttpOptions(t,l){const a=JSON.parse(JSON.stringify(t));for(const[u,f]of Object.entries(l))typeof f=="object"?a[u]=Object.assign(Object.assign({},a[u]),f):f!==void 0&&(a[u]=f);return a}async requestStream(t){let l=this.clientOptions.httpOptions;t.httpOptions&&(l=this.patchHttpOptions(this.clientOptions.httpOptions,t.httpOptions));const a=this.shouldPrependVertexProjectPath(t),u=this.constructUrl(t.path,l,a);(!u.searchParams.has("alt")||u.searchParams.get("alt")!=="sse")&&u.searchParams.set("alt","sse");let f={};return f.body=t.body,f=await this.includeExtraHttpOptionsToRequestInit(f,l,u.toString(),t.abortSignal),this.streamApiCall(u,f,t.httpMethod)}async includeExtraHttpOptionsToRequestInit(t,l,a,u){if(l&&l.timeout||u){const f=new AbortController,p=f.signal;if(l.timeout&&(l==null?void 0:l.timeout)>0){const g=setTimeout(()=>f.abort(),l.timeout);g&&typeof g.unref=="function"&&g.unref()}u&&u.addEventListener("abort",()=>{f.abort()}),t.signal=p}return l&&l.extraBody!==null&&O_(t,l.extraBody),t.headers=await this.getHeadersInternal(l,a),t}async unaryApiCall(t,l,a){return this.apiCall(t.toString(),Object.assign(Object.assign({},l),{method:a})).then(async u=>(await ng(u),new Ic(u))).catch(u=>{throw u instanceof Error?u:new Error(JSON.stringify(u))})}async streamApiCall(t,l,a){return this.apiCall(t.toString(),Object.assign(Object.assign({},l),{method:a})).then(async u=>(await ng(u),this.processStreamResponse(u))).catch(u=>{throw u instanceof Error?u:new Error(JSON.stringify(u))})}processStreamResponse(t){return Tl(this,arguments,function*(){var a;const u=(a=t==null?void 0:t.body)===null||a===void 0?void 0:a.getReader(),f=new TextDecoder("utf-8");if(!u)throw new Error("Response body is empty");try{let p="";const g="data:",y=[`

`,"\r\r",`\r
\r
`];for(;;){const{done:h,value:v}=yield it(u.read());if(h){if(p.trim().length>0)throw new Error("Incomplete JSON segment at the end");break}const E=f.decode(v,{stream:!0});try{const N=JSON.parse(E);if("error"in N){const w=JSON.parse(JSON.stringify(N.error)),z=w.status,G=w.code,Z=`got status: ${z}. ${JSON.stringify(N)}`;if(G>=400&&G<600)throw new lr({message:Z,status:G})}}catch(N){if(N.name==="ApiError")throw N}p+=E;let T=-1,R=0;for(;;){T=-1,R=0;for(const z of y){const G=p.indexOf(z);G!==-1&&(T===-1||G<T)&&(T=G,R=z.length)}if(T===-1)break;const N=p.substring(0,T);p=p.substring(T+R);const w=N.trim();if(w.startsWith(g)){const z=w.substring(g.length).trim();try{const G=new Response(z,{headers:t==null?void 0:t.headers,status:t==null?void 0:t.status,statusText:t==null?void 0:t.statusText});yield yield it(new Ic(G))}catch(G){throw new Error(`exception parsing stream chunk ${z}. ${G}`)}}}}}finally{u.releaseLock()}})}async apiCall(t,l){return fetch(t,l).catch(a=>{throw new Error(`exception ${a} sending request`)})}getDefaultHeaders(){const t={},l=z_+" "+this.clientOptions.userAgentExtra;return t[V_]=l,t[Gc]=l,t[q_]="application/json",t}async getHeadersInternal(t,l){const a=new Headers;if(t&&t.headers){for(const[u,f]of Object.entries(t.headers))a.append(u,f);t.timeout&&t.timeout>0&&a.append(G_,String(Math.ceil(t.timeout/1e3)))}return await this.clientOptions.auth.addAuthHeaders(a,l),a}getFileName(t){var l;let a="";return typeof t=="string"&&(a=t.replace(/[/\\]+$/,""),a=(l=a.split(/[/\\]/).pop())!==null&&l!==void 0?l:""),a}async uploadFile(t,l){var a;const u={};l!=null&&(u.mimeType=l.mimeType,u.name=l.name,u.displayName=l.displayName),u.name&&!u.name.startsWith("files/")&&(u.name=`files/${u.name}`);const f=this.clientOptions.uploader,p=await f.stat(t);u.sizeBytes=String(p.size);const g=(a=l==null?void 0:l.mimeType)!==null&&a!==void 0?a:p.type;if(g===void 0||g==="")throw new Error("Can not determine mimeType. Please provide mimeType in the config.");u.mimeType=g;const y={file:u},h=this.getFileName(t),v=oe("upload/v1beta/files",y._url),E=await this.fetchUploadUrl(v,u.sizeBytes,u.mimeType,h,y,l==null?void 0:l.httpOptions);return f.upload(t,E,this)}async uploadFileToFileSearchStore(t,l,a){var u;const f=this.clientOptions.uploader,p=await f.stat(l),g=String(p.size),y=(u=a==null?void 0:a.mimeType)!==null&&u!==void 0?u:p.type;if(y===void 0||y==="")throw new Error("Can not determine mimeType. Please provide mimeType in the config.");const h=`upload/v1beta/${t}:uploadToFileSearchStore`,v=this.getFileName(l),E={};a!=null&&Gg(a,E);const T=await this.fetchUploadUrl(h,g,y,v,E,a==null?void 0:a.httpOptions);return f.uploadToFileSearchStore(l,T,this)}async downloadFile(t){await this.clientOptions.downloader.download(t,this)}async fetchUploadUrl(t,l,a,u,f,p){var g;let y={};p?y=p:y={apiVersion:"",headers:Object.assign({"Content-Type":"application/json","X-Goog-Upload-Protocol":"resumable","X-Goog-Upload-Command":"start","X-Goog-Upload-Header-Content-Length":`${l}`,"X-Goog-Upload-Header-Content-Type":`${a}`},u?{"X-Goog-Upload-File-Name":u}:{})};const h=await this.request({path:t,body:JSON.stringify(f),httpMethod:"POST",httpOptions:y});if(!h||!(h!=null&&h.headers))throw new Error("Server did not return an HttpResponse or the returned HttpResponse did not have headers.");const v=(g=h==null?void 0:h.headers)===null||g===void 0?void 0:g["x-goog-upload-url"];if(v===void 0)throw new Error("Failed to get upload url. Server did not return the x-google-upload-url in the headers");return v}}async function ng(i){var t;if(i===void 0)throw new Error("response is undefined");if(!i.ok){const l=i.status;let a;!((t=i.headers.get("content-type"))===null||t===void 0)&&t.includes("application/json")?a=await i.json():a={error:{message:await i.text(),code:i.status,status:i.statusText}};const u=JSON.stringify(a);throw l>=400&&l<600?new lr({message:u,status:l}):new Error(u)}}function O_(i,t){if(!t||Object.keys(t).length===0)return;if(i.body instanceof Blob){console.warn("includeExtraBodyToRequestInit: extraBody provided but current request body is a Blob. extraBody will be ignored as merging is not supported for Blob bodies.");return}let l={};if(typeof i.body=="string"&&i.body.length>0)try{const f=JSON.parse(i.body);if(typeof f=="object"&&f!==null&&!Array.isArray(f))l=f;else{console.warn("includeExtraBodyToRequestInit: Original request body is valid JSON but not a non-array object. Skip applying extraBody to the request body.");return}}catch{console.warn("includeExtraBodyToRequestInit: Original request body is not valid JSON. Skip applying extraBody to the request body.");return}function a(f,p){const g=Object.assign({},f);for(const y in p)if(Object.prototype.hasOwnProperty.call(p,y)){const h=p[y],v=g[y];h&&typeof h=="object"&&!Array.isArray(h)&&v&&typeof v=="object"&&!Array.isArray(v)?g[y]=a(v,h):(v&&h&&typeof v!=typeof h&&console.warn(`includeExtraBodyToRequestInit:deepMerge: Type mismatch for key "${y}". Original type: ${typeof v}, New type: ${typeof h}. Overwriting.`),g[y]=h)}return g}const u=a(l,t);i.body=JSON.stringify(u)}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const Y_="mcp_used/unknown";let J_=!1;function Vg(i){for(const t of i)if(X_(t)||typeof t=="object"&&"inputSchema"in t)return!0;return J_}function Hg(i){var t;const l=(t=i[Gc])!==null&&t!==void 0?t:"";i[Gc]=(l+` ${Y_}`).trimStart()}function X_(i){return i!==null&&typeof i=="object"&&i instanceof Qc}function K_(i){return Tl(this,arguments,function*(l,a=100){let u,f=0;for(;f<a;){const p=yield it(l.listTools({cursor:u}));for(const g of p.tools)yield yield it(g),f++;if(!p.nextCursor)break;u=p.nextCursor}})}class Qc{constructor(t=[],l){this.mcpTools=[],this.functionNameToMcpClient={},this.mcpClients=t,this.config=l}static create(t,l){return new Qc(t,l)}async initialize(){var t,l,a,u;if(this.mcpTools.length>0)return;const f={},p=[];for(const v of this.mcpClients)try{for(var g=!0,y=(l=void 0,wa(K_(v))),h;h=await y.next(),t=h.done,!t;g=!0){u=h.value,g=!1;const E=u;p.push(E);const T=E.name;if(f[T])throw new Error(`Duplicate function name ${T} found in MCP tools. Please ensure function names are unique.`);f[T]=v}}catch(E){l={error:E}}finally{try{!g&&!t&&(a=y.return)&&await a.call(y)}finally{if(l)throw l.error}}this.mcpTools=p,this.functionNameToMcpClient=f}async tool(){return await this.initialize(),xv(this.mcpTools,this.config)}async callTool(t){await this.initialize();const l=[];for(const a of t)if(a.name in this.functionNameToMcpClient){const u=this.functionNameToMcpClient[a.name];let f;this.config.timeout&&(f={timeout:this.config.timeout});const p=await u.callTool({name:a.name,arguments:a.args},void 0,f);l.push({functionResponse:{name:a.name,response:p.isError?{error:p}:p}})}return l}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */async function Q_(i,t,l){const a=new vv;let u;l.data instanceof Blob?u=JSON.parse(await l.data.text()):u=JSON.parse(l.data),Object.assign(a,u),t(a)}class Z_{constructor(t,l,a){this.apiClient=t,this.auth=l,this.webSocketFactory=a}async connect(t){var l,a;if(this.apiClient.isVertexAI())throw new Error("Live music is not supported for Vertex AI.");console.warn("Live music generation is experimental and may change in future versions.");const u=this.apiClient.getWebsocketBaseUrl(),f=this.apiClient.getApiVersion(),p=j_(this.apiClient.getDefaultHeaders()),g=this.apiClient.getApiKey(),y=`${u}/ws/google.ai.generativelanguage.${f}.GenerativeService.BidiGenerateMusic?key=${g}`;let h=()=>{};const v=new Promise(J=>{h=J}),E=t.callbacks,T=function(){h({})},R=this.apiClient,N={onopen:T,onmessage:J=>{Q_(R,E.onmessage,J)},onerror:(l=E==null?void 0:E.onerror)!==null&&l!==void 0?l:function(J){},onclose:(a=E==null?void 0:E.onclose)!==null&&a!==void 0?a:function(J){}},w=this.webSocketFactory.create(y,W_(p),N);w.connect(),await v;const Z={setup:{model:Fe(this.apiClient,t.model)}};return w.send(JSON.stringify(Z)),new $_(w,this.apiClient)}}class $_{constructor(t,l){this.conn=t,this.apiClient=l}async setWeightedPrompts(t){if(!t.weightedPrompts||Object.keys(t.weightedPrompts).length===0)throw new Error("Weighted prompts must be set and contain at least one entry.");const l=CS(t);this.conn.send(JSON.stringify({clientContent:l}))}async setMusicGenerationConfig(t){t.musicGenerationConfig||(t.musicGenerationConfig={});const l=_S(t);this.conn.send(JSON.stringify(l))}sendPlaybackControl(t){const l={playbackControl:t};this.conn.send(JSON.stringify(l))}play(){this.sendPlaybackControl(yl.PLAY)}pause(){this.sendPlaybackControl(yl.PAUSE)}stop(){this.sendPlaybackControl(yl.STOP)}resetContext(){this.sendPlaybackControl(yl.RESET_CONTEXT)}close(){this.conn.close()}}function W_(i){const t={};return i.forEach((l,a)=>{t[a]=l}),t}function j_(i){const t=new Headers;for(const[l,a]of Object.entries(i))t.append(l,a);return t}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const eC="FunctionResponse request must have an `id` field from the response of a ToolCall.FunctionalCalls in Google AI.";async function tC(i,t,l){const a=new yv;let u;l.data instanceof Blob?u=await l.data.text():l.data instanceof ArrayBuffer?u=new TextDecoder().decode(l.data):u=l.data;const f=JSON.parse(u);if(i.isVertexAI()){const p=xS(f);Object.assign(a,p)}else Object.assign(a,f);t(a)}class nC{constructor(t,l,a){this.apiClient=t,this.auth=l,this.webSocketFactory=a,this.music=new Z_(this.apiClient,this.auth,this.webSocketFactory)}async connect(t){var l,a,u,f,p,g;if(t.config&&t.config.httpOptions)throw new Error("The Live module does not support httpOptions at request-level in LiveConnectConfig yet. Please use the client-level httpOptions configuration instead.");const y=this.apiClient.getWebsocketBaseUrl(),h=this.apiClient.getApiVersion();let v;const E=this.apiClient.getHeaders();t.config&&t.config.tools&&Vg(t.config.tools)&&Hg(E);const T=aC(E);if(this.apiClient.isVertexAI())v=`${y}/ws/google.cloud.aiplatform.${h}.LlmBidiService/BidiGenerateContent`,await this.auth.addAuthHeaders(T,v);else{const W=this.apiClient.getApiKey();let j="BidiGenerateContent",ge="key";W!=null&&W.startsWith("auth_tokens/")&&(console.warn("Warning: Ephemeral token support is experimental and may change in future versions."),h!=="v1alpha"&&console.warn("Warning: The SDK's ephemeral token support is in v1alpha only. Please use const ai = new GoogleGenAI({apiKey: token.name, httpOptions: { apiVersion: 'v1alpha' }}); before session connection."),j="BidiGenerateContentConstrained",ge="access_token"),v=`${y}/ws/google.ai.generativelanguage.${h}.GenerativeService.${j}?${ge}=${W}`}let R=()=>{};const N=new Promise(W=>{R=W}),w=t.callbacks,z=function(){var W;(W=w==null?void 0:w.onopen)===null||W===void 0||W.call(w),R({})},G=this.apiClient,Z={onopen:z,onmessage:W=>{tC(G,w.onmessage,W)},onerror:(l=w==null?void 0:w.onerror)!==null&&l!==void 0?l:function(W){},onclose:(a=w==null?void 0:w.onclose)!==null&&a!==void 0?a:function(W){}},J=this.webSocketFactory.create(v,lC(T),Z);J.connect(),await N;let ee=Fe(this.apiClient,t.model);if(this.apiClient.isVertexAI()&&ee.startsWith("publishers/")){const W=this.apiClient.getProject(),j=this.apiClient.getLocation();ee=`projects/${W}/locations/${j}/`+ee}let te={};this.apiClient.isVertexAI()&&((u=t.config)===null||u===void 0?void 0:u.responseModalities)===void 0&&(t.config===void 0?t.config={responseModalities:[er.AUDIO]}:t.config.responseModalities=[er.AUDIO]),!((f=t.config)===null||f===void 0)&&f.generationConfig&&console.warn("Setting `LiveConnectConfig.generation_config` is deprecated, please set the fields on `LiveConnectConfig` directly. This will become an error in a future version (not before Q3 2025).");const ie=(g=(p=t.config)===null||p===void 0?void 0:p.tools)!==null&&g!==void 0?g:[],X=[];for(const W of ie)if(this.isCallableTool(W)){const j=W;X.push(await j.tool())}else X.push(W);X.length>0&&(t.config.tools=X);const fe={model:ee,config:t.config,callbacks:t.callbacks};return this.apiClient.isVertexAI()?te=ES(this.apiClient,fe):te=SS(this.apiClient,fe),delete te.config,J.send(JSON.stringify(te)),new oC(J,this.apiClient)}isCallableTool(t){return"callTool"in t&&typeof t.callTool=="function"}}const iC={turnComplete:!0};class oC{constructor(t,l){this.conn=t,this.apiClient=l}tLiveClientContent(t,l){if(l.turns!==null&&l.turns!==void 0){let a=[];try{a=Cn(l.turns),t.isVertexAI()||(a=a.map(u=>ar(u)))}catch{throw new Error(`Failed to parse client content "turns", type: '${typeof l.turns}'`)}return{clientContent:{turns:a,turnComplete:l.turnComplete}}}return{clientContent:{turnComplete:l.turnComplete}}}tLiveClienttToolResponse(t,l){let a=[];if(l.functionResponses==null)throw new Error("functionResponses is required.");if(Array.isArray(l.functionResponses)?a=l.functionResponses:a=[l.functionResponses],a.length===0)throw new Error("functionResponses is required.");for(const f of a){if(typeof f!="object"||f===null||!("name"in f)||!("response"in f))throw new Error(`Could not parse function response, type '${typeof f}'.`);if(!t.isVertexAI()&&!("id"in f))throw new Error(eC)}return{toolResponse:{functionResponses:a}}}sendClientContent(t){t=Object.assign(Object.assign({},iC),t);const l=this.tLiveClientContent(this.apiClient,t);this.conn.send(JSON.stringify(l))}sendRealtimeInput(t){let l={};this.apiClient.isVertexAI()?l={realtimeInput:RS(t)}:l={realtimeInput:AS(t)},this.conn.send(JSON.stringify(l))}sendToolResponse(t){if(t.functionResponses==null)throw new Error("Tool response parameters are required.");const l=this.tLiveClienttToolResponse(this.apiClient,t);this.conn.send(JSON.stringify(l))}close(){this.conn.close()}}function lC(i){const t={};return i.forEach((l,a)=>{t[a]=l}),t}function aC(i){const t=new Headers;for(const[l,a]of Object.entries(i))t.append(l,a);return t}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const ig=10;function og(i){var t,l,a;if(!((t=i==null?void 0:i.automaticFunctionCalling)===null||t===void 0)&&t.disable)return!0;let u=!1;for(const p of(l=i==null?void 0:i.tools)!==null&&l!==void 0?l:[])if(Sl(p)){u=!0;break}if(!u)return!0;const f=(a=i==null?void 0:i.automaticFunctionCalling)===null||a===void 0?void 0:a.maximumRemoteCalls;return f&&(f<0||!Number.isInteger(f))||f==0?(console.warn("Invalid maximumRemoteCalls value provided for automatic function calling. Disabled automatic function calling. Please provide a valid integer value greater than 0. maximumRemoteCalls provided:",f),!0):!1}function Sl(i){return"callTool"in i&&typeof i.callTool=="function"}function sC(i){var t,l,a;return(a=(l=(t=i.config)===null||t===void 0?void 0:t.tools)===null||l===void 0?void 0:l.some(u=>Sl(u)))!==null&&a!==void 0?a:!1}function lg(i){var t;const l=[];return!((t=i==null?void 0:i.config)===null||t===void 0)&&t.tools&&i.config.tools.forEach((a,u)=>{if(Sl(a))return;const f=a;f.functionDeclarations&&f.functionDeclarations.length>0&&l.push(u)}),l}function ag(i){var t;return!(!((t=i==null?void 0:i.automaticFunctionCalling)===null||t===void 0)&&t.ignoreCallHistory)}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class rC extends hi{constructor(t){super(),this.apiClient=t,this.generateContent=async l=>{var a,u,f,p,g;const y=await this.processParamsMaybeAddMcpUsage(l);if(this.maybeMoveToResponseJsonSchem(l),!sC(l)||og(l.config))return await this.generateContentInternal(y);const h=lg(l);if(h.length>0){const w=h.map(z=>`tools[${z}]`).join(", ");throw new Error(`Automatic function calling with CallableTools (or MCP objects) and basic FunctionDeclarations is not yet supported. Incompatible tools found at ${w}.`)}let v,E;const T=Cn(y.contents),R=(f=(u=(a=y.config)===null||a===void 0?void 0:a.automaticFunctionCalling)===null||u===void 0?void 0:u.maximumRemoteCalls)!==null&&f!==void 0?f:ig;let N=0;for(;N<R&&(v=await this.generateContentInternal(y),!(!v.functionCalls||v.functionCalls.length===0));){const w=v.candidates[0].content,z=[];for(const G of(g=(p=l.config)===null||p===void 0?void 0:p.tools)!==null&&g!==void 0?g:[])if(Sl(G)){const J=await G.callTool(v.functionCalls);z.push(...J)}N++,E={role:"user",parts:z},y.contents=Cn(y.contents),y.contents.push(w),y.contents.push(E),ag(y.config)&&(T.push(w),T.push(E))}return ag(y.config)&&(v.automaticFunctionCallingHistory=T),v},this.generateContentStream=async l=>{var a,u,f,p,g;if(this.maybeMoveToResponseJsonSchem(l),og(l.config)){const E=await this.processParamsMaybeAddMcpUsage(l);return await this.generateContentStreamInternal(E)}const y=lg(l);if(y.length>0){const E=y.map(T=>`tools[${T}]`).join(", ");throw new Error(`Incompatible tools found at ${E}. Automatic function calling with CallableTools (or MCP objects) and basic FunctionDeclarations" is not yet supported.`)}const h=(f=(u=(a=l==null?void 0:l.config)===null||a===void 0?void 0:a.toolConfig)===null||u===void 0?void 0:u.functionCallingConfig)===null||f===void 0?void 0:f.streamFunctionCallArguments,v=(g=(p=l==null?void 0:l.config)===null||p===void 0?void 0:p.automaticFunctionCalling)===null||g===void 0?void 0:g.disable;if(h&&!v)throw new Error("Running in streaming mode with 'streamFunctionCallArguments' enabled, this feature is not compatible with automatic function calling (AFC). Please set 'config.automaticFunctionCalling.disable' to true to disable AFC or leave 'config.toolConfig.functionCallingConfig.streamFunctionCallArguments' to be undefined or set to false to disable streaming function call arguments feature.");return await this.processAfcStream(l)},this.generateImages=async l=>await this.generateImagesInternal(l).then(a=>{var u;let f;const p=[];if(a!=null&&a.generatedImages)for(const y of a.generatedImages)y&&(y!=null&&y.safetyAttributes)&&((u=y==null?void 0:y.safetyAttributes)===null||u===void 0?void 0:u.contentType)==="Positive Prompt"?f=y==null?void 0:y.safetyAttributes:p.push(y);let g;return f?g={generatedImages:p,positivePromptSafetyAttributes:f,sdkHttpResponse:a.sdkHttpResponse}:g={generatedImages:p,sdkHttpResponse:a.sdkHttpResponse},g}),this.list=async l=>{var a;const p={config:Object.assign(Object.assign({},{queryBase:!0}),l==null?void 0:l.config)};if(this.apiClient.isVertexAI()&&!p.config.queryBase){if(!((a=p.config)===null||a===void 0)&&a.filter)throw new Error("Filtering tuned models list for Vertex AI is not currently supported");p.config.filter="labels.tune-type:*"}return new Do(pi.PAGED_ITEM_MODELS,g=>this.listInternal(g),await this.listInternal(p),p)},this.editImage=async l=>{const a={model:l.model,prompt:l.prompt,referenceImages:[],config:l.config};return l.referenceImages&&l.referenceImages&&(a.referenceImages=l.referenceImages.map(u=>u.toReferenceImageAPI())),await this.editImageInternal(a)},this.upscaleImage=async l=>{let a={numberOfImages:1,mode:"upscale"};l.config&&(a=Object.assign(Object.assign({},a),l.config));const u={model:l.model,image:l.image,upscaleFactor:l.upscaleFactor,config:a};return await this.upscaleImageInternal(u)},this.generateVideos=async l=>{var a,u,f,p,g,y;if((l.prompt||l.image||l.video)&&l.source)throw new Error("Source and prompt/image/video are mutually exclusive. Please only use source.");return this.apiClient.isVertexAI()||(!((a=l.video)===null||a===void 0)&&a.uri&&(!((u=l.video)===null||u===void 0)&&u.videoBytes)?l.video={uri:l.video.uri,mimeType:l.video.mimeType}:!((p=(f=l.source)===null||f===void 0?void 0:f.video)===null||p===void 0)&&p.uri&&(!((y=(g=l.source)===null||g===void 0?void 0:g.video)===null||y===void 0)&&y.videoBytes)&&(l.source.video={uri:l.source.video.uri,mimeType:l.source.video.mimeType})),await this.generateVideosInternal(l)}}maybeMoveToResponseJsonSchem(t){t.config&&t.config.responseSchema&&(t.config.responseJsonSchema||Object.keys(t.config.responseSchema).includes("$schema")&&(t.config.responseJsonSchema=t.config.responseSchema,delete t.config.responseSchema))}async processParamsMaybeAddMcpUsage(t){var l,a,u;const f=(l=t.config)===null||l===void 0?void 0:l.tools;if(!f)return t;const p=await Promise.all(f.map(async y=>Sl(y)?await y.tool():y)),g={model:t.model,contents:t.contents,config:Object.assign(Object.assign({},t.config),{tools:p})};if(g.config.tools=p,t.config&&t.config.tools&&Vg(t.config.tools)){const y=(u=(a=t.config.httpOptions)===null||a===void 0?void 0:a.headers)!==null&&u!==void 0?u:{};let h=Object.assign({},y);Object.keys(h).length===0&&(h=this.apiClient.getDefaultHeaders()),Hg(h),g.config.httpOptions=Object.assign(Object.assign({},t.config.httpOptions),{headers:h})}return g}async initAfcToolsMap(t){var l,a,u;const f=new Map;for(const p of(a=(l=t.config)===null||l===void 0?void 0:l.tools)!==null&&a!==void 0?a:[])if(Sl(p)){const g=p,y=await g.tool();for(const h of(u=y.functionDeclarations)!==null&&u!==void 0?u:[]){if(!h.name)throw new Error("Function declaration name is required.");if(f.has(h.name))throw new Error(`Duplicate tool declaration name: ${h.name}`);f.set(h.name,g)}}return f}async processAfcStream(t){var l,a,u;const f=(u=(a=(l=t.config)===null||l===void 0?void 0:l.automaticFunctionCalling)===null||a===void 0?void 0:a.maximumRemoteCalls)!==null&&u!==void 0?u:ig;let p=!1,g=0;const y=await this.initAfcToolsMap(t);return(function(h,v,E){return Tl(this,arguments,function*(){for(var T,R,N,w,z,G;g<f;){p&&(g++,p=!1);const te=yield it(h.processParamsMaybeAddMcpUsage(E)),ie=yield it(h.generateContentStreamInternal(te)),X=[],fe=[];try{for(var Z=!0,J=(R=void 0,wa(ie)),ee;ee=yield it(J.next()),T=ee.done,!T;Z=!0){w=ee.value,Z=!1;const W=w;if(yield yield it(W),W.candidates&&(!((z=W.candidates[0])===null||z===void 0)&&z.content)){fe.push(W.candidates[0].content);for(const j of(G=W.candidates[0].content.parts)!==null&&G!==void 0?G:[])if(g<f&&j.functionCall){if(!j.functionCall.name)throw new Error("Function call name was not returned by the model.");if(v.has(j.functionCall.name)){const ge=yield it(v.get(j.functionCall.name).callTool([j.functionCall]));X.push(...ge)}else throw new Error(`Automatic function calling was requested, but not all the tools the model used implement the CallableTool interface. Available tools: ${v.keys()}, mising tool: ${j.functionCall.name}`)}}}}catch(W){R={error:W}}finally{try{!Z&&!T&&(N=J.return)&&(yield it(N.call(J)))}finally{if(R)throw R.error}}if(X.length>0){p=!0;const W=new Na;W.candidates=[{content:{role:"user",parts:X}}],yield yield it(W);const j=[];j.push(...fe),j.push({role:"user",parts:X});const ge=Cn(E.contents).concat(j);E.contents=ge}else break}})})(this,y,t)}async generateContentInternal(t){var l,a,u,f;let p,g="",y={};if(this.apiClient.isVertexAI()){const h=jh(this.apiClient,t);return g=oe("{model}:generateContent",h._url),y=h._query,delete h._url,delete h._query,p=this.apiClient.request({path:g,queryParams:y,body:JSON.stringify(h),httpMethod:"POST",httpOptions:(l=t.config)===null||l===void 0?void 0:l.httpOptions,abortSignal:(a=t.config)===null||a===void 0?void 0:a.abortSignal}).then(v=>v.json().then(E=>{const T=E;return T.sdkHttpResponse={headers:v.headers},T})),p.then(v=>{const E=tg(v),T=new Na;return Object.assign(T,E),T})}else{const h=Wh(this.apiClient,t);return g=oe("{model}:generateContent",h._url),y=h._query,delete h._url,delete h._query,p=this.apiClient.request({path:g,queryParams:y,body:JSON.stringify(h),httpMethod:"POST",httpOptions:(u=t.config)===null||u===void 0?void 0:u.httpOptions,abortSignal:(f=t.config)===null||f===void 0?void 0:f.abortSignal}).then(v=>v.json().then(E=>{const T=E;return T.sdkHttpResponse={headers:v.headers},T})),p.then(v=>{const E=eg(v),T=new Na;return Object.assign(T,E),T})}}async generateContentStreamInternal(t){var l,a,u,f;let p,g="",y={};if(this.apiClient.isVertexAI()){const h=jh(this.apiClient,t);return g=oe("{model}:streamGenerateContent?alt=sse",h._url),y=h._query,delete h._url,delete h._query,p=this.apiClient.requestStream({path:g,queryParams:y,body:JSON.stringify(h),httpMethod:"POST",httpOptions:(l=t.config)===null||l===void 0?void 0:l.httpOptions,abortSignal:(a=t.config)===null||a===void 0?void 0:a.abortSignal}),p.then(function(E){return Tl(this,arguments,function*(){var T,R,N,w;try{for(var z=!0,G=wa(E),Z;Z=yield it(G.next()),T=Z.done,!T;z=!0){w=Z.value,z=!1;const J=w,ee=tg(yield it(J.json()));ee.sdkHttpResponse={headers:J.headers};const te=new Na;Object.assign(te,ee),yield yield it(te)}}catch(J){R={error:J}}finally{try{!z&&!T&&(N=G.return)&&(yield it(N.call(G)))}finally{if(R)throw R.error}}})})}else{const h=Wh(this.apiClient,t);return g=oe("{model}:streamGenerateContent?alt=sse",h._url),y=h._query,delete h._url,delete h._query,p=this.apiClient.requestStream({path:g,queryParams:y,body:JSON.stringify(h),httpMethod:"POST",httpOptions:(u=t.config)===null||u===void 0?void 0:u.httpOptions,abortSignal:(f=t.config)===null||f===void 0?void 0:f.abortSignal}),p.then(function(E){return Tl(this,arguments,function*(){var T,R,N,w;try{for(var z=!0,G=wa(E),Z;Z=yield it(G.next()),T=Z.done,!T;z=!0){w=Z.value,z=!1;const J=w,ee=eg(yield it(J.json()));ee.sdkHttpResponse={headers:J.headers};const te=new Na;Object.assign(te,ee),yield yield it(te)}}catch(J){R={error:J}}finally{try{!z&&!T&&(N=G.return)&&(yield it(N.call(G)))}finally{if(R)throw R.error}}})})}}async embedContent(t){var l,a,u,f;let p,g="",y={};if(this.apiClient.isVertexAI()){const h=nE(this.apiClient,t);return g=oe("{model}:predict",h._url),y=h._query,delete h._url,delete h._query,p=this.apiClient.request({path:g,queryParams:y,body:JSON.stringify(h),httpMethod:"POST",httpOptions:(l=t.config)===null||l===void 0?void 0:l.httpOptions,abortSignal:(a=t.config)===null||a===void 0?void 0:a.abortSignal}).then(v=>v.json().then(E=>{const T=E;return T.sdkHttpResponse={headers:v.headers},T})),p.then(v=>{const E=oE(v),T=new Ph;return Object.assign(T,E),T})}else{const h=tE(this.apiClient,t);return g=oe("{model}:batchEmbedContents",h._url),y=h._query,delete h._url,delete h._query,p=this.apiClient.request({path:g,queryParams:y,body:JSON.stringify(h),httpMethod:"POST",httpOptions:(u=t.config)===null||u===void 0?void 0:u.httpOptions,abortSignal:(f=t.config)===null||f===void 0?void 0:f.abortSignal}).then(v=>v.json().then(E=>{const T=E;return T.sdkHttpResponse={headers:v.headers},T})),p.then(v=>{const E=iE(v),T=new Ph;return Object.assign(T,E),T})}}async generateImagesInternal(t){var l,a,u,f;let p,g="",y={};if(this.apiClient.isVertexAI()){const h=hE(this.apiClient,t);return g=oe("{model}:predict",h._url),y=h._query,delete h._url,delete h._query,p=this.apiClient.request({path:g,queryParams:y,body:JSON.stringify(h),httpMethod:"POST",httpOptions:(l=t.config)===null||l===void 0?void 0:l.httpOptions,abortSignal:(a=t.config)===null||a===void 0?void 0:a.abortSignal}).then(v=>v.json().then(E=>{const T=E;return T.sdkHttpResponse={headers:v.headers},T})),p.then(v=>{const E=yE(v),T=new qh;return Object.assign(T,E),T})}else{const h=pE(this.apiClient,t);return g=oe("{model}:predict",h._url),y=h._query,delete h._url,delete h._query,p=this.apiClient.request({path:g,queryParams:y,body:JSON.stringify(h),httpMethod:"POST",httpOptions:(u=t.config)===null||u===void 0?void 0:u.httpOptions,abortSignal:(f=t.config)===null||f===void 0?void 0:f.abortSignal}).then(v=>v.json().then(E=>{const T=E;return T.sdkHttpResponse={headers:v.headers},T})),p.then(v=>{const E=gE(v),T=new qh;return Object.assign(T,E),T})}}async editImageInternal(t){var l,a;let u,f="",p={};if(this.apiClient.isVertexAI()){const g=$S(this.apiClient,t);return f=oe("{model}:predict",g._url),p=g._query,delete g._url,delete g._query,u=this.apiClient.request({path:f,queryParams:p,body:JSON.stringify(g),httpMethod:"POST",httpOptions:(l=t.config)===null||l===void 0?void 0:l.httpOptions,abortSignal:(a=t.config)===null||a===void 0?void 0:a.abortSignal}).then(y=>y.json().then(h=>{const v=h;return v.sdkHttpResponse={headers:y.headers},v})),u.then(y=>{const h=WS(y),v=new av;return Object.assign(v,h),v})}else throw new Error("This method is only supported by the Vertex AI.")}async upscaleImageInternal(t){var l,a;let u,f="",p={};if(this.apiClient.isVertexAI()){const g=h_(this.apiClient,t);return f=oe("{model}:predict",g._url),p=g._query,delete g._url,delete g._query,u=this.apiClient.request({path:f,queryParams:p,body:JSON.stringify(g),httpMethod:"POST",httpOptions:(l=t.config)===null||l===void 0?void 0:l.httpOptions,abortSignal:(a=t.config)===null||a===void 0?void 0:a.abortSignal}).then(y=>y.json().then(h=>{const v=h;return v.sdkHttpResponse={headers:y.headers},v})),u.then(y=>{const h=g_(y),v=new sv;return Object.assign(v,h),v})}else throw new Error("This method is only supported by the Vertex AI.")}async recontextImage(t){var l,a;let u,f="",p={};if(this.apiClient.isVertexAI()){const g=ZE(this.apiClient,t);return f=oe("{model}:predict",g._url),p=g._query,delete g._url,delete g._query,u=this.apiClient.request({path:f,queryParams:p,body:JSON.stringify(g),httpMethod:"POST",httpOptions:(l=t.config)===null||l===void 0?void 0:l.httpOptions,abortSignal:(a=t.config)===null||a===void 0?void 0:a.abortSignal}).then(y=>y.json()),u.then(y=>{const h=$E(y),v=new rv;return Object.assign(v,h),v})}else throw new Error("This method is only supported by the Vertex AI.")}async segmentImage(t){var l,a;let u,f="",p={};if(this.apiClient.isVertexAI()){const g=i_(this.apiClient,t);return f=oe("{model}:predict",g._url),p=g._query,delete g._url,delete g._query,u=this.apiClient.request({path:f,queryParams:p,body:JSON.stringify(g),httpMethod:"POST",httpOptions:(l=t.config)===null||l===void 0?void 0:l.httpOptions,abortSignal:(a=t.config)===null||a===void 0?void 0:a.abortSignal}).then(y=>y.json()),u.then(y=>{const h=o_(y),v=new uv;return Object.assign(v,h),v})}else throw new Error("This method is only supported by the Vertex AI.")}async get(t){var l,a,u,f;let p,g="",y={};if(this.apiClient.isVertexAI()){const h=LE(this.apiClient,t);return g=oe("{name}",h._url),y=h._query,delete h._url,delete h._query,p=this.apiClient.request({path:g,queryParams:y,body:JSON.stringify(h),httpMethod:"GET",httpOptions:(l=t.config)===null||l===void 0?void 0:l.httpOptions,abortSignal:(a=t.config)===null||a===void 0?void 0:a.abortSignal}).then(v=>v.json()),p.then(v=>qc(v))}else{const h=UE(this.apiClient,t);return g=oe("{name}",h._url),y=h._query,delete h._url,delete h._query,p=this.apiClient.request({path:g,queryParams:y,body:JSON.stringify(h),httpMethod:"GET",httpOptions:(u=t.config)===null||u===void 0?void 0:u.httpOptions,abortSignal:(f=t.config)===null||f===void 0?void 0:f.abortSignal}).then(v=>v.json()),p.then(v=>Pc(v))}}async listInternal(t){var l,a,u,f;let p,g="",y={};if(this.apiClient.isVertexAI()){const h=FE(this.apiClient,t);return g=oe("{models_url}",h._url),y=h._query,delete h._url,delete h._query,p=this.apiClient.request({path:g,queryParams:y,body:JSON.stringify(h),httpMethod:"GET",httpOptions:(l=t.config)===null||l===void 0?void 0:l.httpOptions,abortSignal:(a=t.config)===null||a===void 0?void 0:a.abortSignal}).then(v=>v.json().then(E=>{const T=E;return T.sdkHttpResponse={headers:v.headers},T})),p.then(v=>{const E=YE(v),T=new Gh;return Object.assign(T,E),T})}else{const h=kE(this.apiClient,t);return g=oe("{models_url}",h._url),y=h._query,delete h._url,delete h._query,p=this.apiClient.request({path:g,queryParams:y,body:JSON.stringify(h),httpMethod:"GET",httpOptions:(u=t.config)===null||u===void 0?void 0:u.httpOptions,abortSignal:(f=t.config)===null||f===void 0?void 0:f.abortSignal}).then(v=>v.json().then(E=>{const T=E;return T.sdkHttpResponse={headers:v.headers},T})),p.then(v=>{const E=OE(v),T=new Gh;return Object.assign(T,E),T})}}async update(t){var l,a,u,f;let p,g="",y={};if(this.apiClient.isVertexAI()){const h=m_(this.apiClient,t);return g=oe("{model}",h._url),y=h._query,delete h._url,delete h._query,p=this.apiClient.request({path:g,queryParams:y,body:JSON.stringify(h),httpMethod:"PATCH",httpOptions:(l=t.config)===null||l===void 0?void 0:l.httpOptions,abortSignal:(a=t.config)===null||a===void 0?void 0:a.abortSignal}).then(v=>v.json()),p.then(v=>qc(v))}else{const h=d_(this.apiClient,t);return g=oe("{name}",h._url),y=h._query,delete h._url,delete h._query,p=this.apiClient.request({path:g,queryParams:y,body:JSON.stringify(h),httpMethod:"PATCH",httpOptions:(u=t.config)===null||u===void 0?void 0:u.httpOptions,abortSignal:(f=t.config)===null||f===void 0?void 0:f.abortSignal}).then(v=>v.json()),p.then(v=>Pc(v))}}async delete(t){var l,a,u,f;let p,g="",y={};if(this.apiClient.isVertexAI()){const h=XS(this.apiClient,t);return g=oe("{name}",h._url),y=h._query,delete h._url,delete h._query,p=this.apiClient.request({path:g,queryParams:y,body:JSON.stringify(h),httpMethod:"DELETE",httpOptions:(l=t.config)===null||l===void 0?void 0:l.httpOptions,abortSignal:(a=t.config)===null||a===void 0?void 0:a.abortSignal}).then(v=>v.json().then(E=>{const T=E;return T.sdkHttpResponse={headers:v.headers},T})),p.then(v=>{const E=QS(v),T=new Vh;return Object.assign(T,E),T})}else{const h=JS(this.apiClient,t);return g=oe("{name}",h._url),y=h._query,delete h._url,delete h._query,p=this.apiClient.request({path:g,queryParams:y,body:JSON.stringify(h),httpMethod:"DELETE",httpOptions:(u=t.config)===null||u===void 0?void 0:u.httpOptions,abortSignal:(f=t.config)===null||f===void 0?void 0:f.abortSignal}).then(v=>v.json().then(E=>{const T=E;return T.sdkHttpResponse={headers:v.headers},T})),p.then(v=>{const E=KS(v),T=new Vh;return Object.assign(T,E),T})}}async countTokens(t){var l,a,u,f;let p,g="",y={};if(this.apiClient.isVertexAI()){const h=FS(this.apiClient,t);return g=oe("{model}:countTokens",h._url),y=h._query,delete h._url,delete h._query,p=this.apiClient.request({path:g,queryParams:y,body:JSON.stringify(h),httpMethod:"POST",httpOptions:(l=t.config)===null||l===void 0?void 0:l.httpOptions,abortSignal:(a=t.config)===null||a===void 0?void 0:a.abortSignal}).then(v=>v.json().then(E=>{const T=E;return T.sdkHttpResponse={headers:v.headers},T})),p.then(v=>{const E=YS(v),T=new Hh;return Object.assign(T,E),T})}else{const h=kS(this.apiClient,t);return g=oe("{model}:countTokens",h._url),y=h._query,delete h._url,delete h._query,p=this.apiClient.request({path:g,queryParams:y,body:JSON.stringify(h),httpMethod:"POST",httpOptions:(u=t.config)===null||u===void 0?void 0:u.httpOptions,abortSignal:(f=t.config)===null||f===void 0?void 0:f.abortSignal}).then(v=>v.json().then(E=>{const T=E;return T.sdkHttpResponse={headers:v.headers},T})),p.then(v=>{const E=OS(v),T=new Hh;return Object.assign(T,E),T})}}async computeTokens(t){var l,a;let u,f="",p={};if(this.apiClient.isVertexAI()){const g=PS(this.apiClient,t);return f=oe("{model}:computeTokens",g._url),p=g._query,delete g._url,delete g._query,u=this.apiClient.request({path:f,queryParams:p,body:JSON.stringify(g),httpMethod:"POST",httpOptions:(l=t.config)===null||l===void 0?void 0:l.httpOptions,abortSignal:(a=t.config)===null||a===void 0?void 0:a.abortSignal}).then(y=>y.json().then(h=>{const v=h;return v.sdkHttpResponse={headers:y.headers},v})),u.then(y=>{const h=qS(y),v=new cv;return Object.assign(v,h),v})}else throw new Error("This method is only supported by the Vertex AI.")}async generateVideosInternal(t){var l,a,u,f;let p,g="",y={};if(this.apiClient.isVertexAI()){const h=CE(this.apiClient,t);return g=oe("{model}:predictLongRunning",h._url),y=h._query,delete h._url,delete h._query,p=this.apiClient.request({path:g,queryParams:y,body:JSON.stringify(h),httpMethod:"POST",httpOptions:(l=t.config)===null||l===void 0?void 0:l.httpOptions,abortSignal:(a=t.config)===null||a===void 0?void 0:a.abortSignal}).then(v=>v.json()),p.then(v=>{const E=EE(v),T=new tr;return Object.assign(T,E),T})}else{const h=_E(this.apiClient,t);return g=oe("{model}:predictLongRunning",h._url),y=h._query,delete h._url,delete h._query,p=this.apiClient.request({path:g,queryParams:y,body:JSON.stringify(h),httpMethod:"POST",httpOptions:(u=t.config)===null||u===void 0?void 0:u.httpOptions,abortSignal:(f=t.config)===null||f===void 0?void 0:f.abortSignal}).then(v=>v.json()),p.then(v=>{const E=SE(v),T=new tr;return Object.assign(T,E),T})}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class uC extends hi{constructor(t){super(),this.apiClient=t}async getVideosOperation(t){const l=t.operation,a=t.config;if(l.name===void 0||l.name==="")throw new Error("Operation name is required.");if(this.apiClient.isVertexAI()){const u=l.name.split("/operations/")[0];let f;a&&"httpOptions"in a&&(f=a.httpOptions);const p=await this.fetchPredictVideosOperationInternal({operationName:l.name,resourceName:u,config:{httpOptions:f}});return l._fromAPIResponse({apiResponse:p,_isVertexAI:!0})}else{const u=await this.getVideosOperationInternal({operationName:l.name,config:a});return l._fromAPIResponse({apiResponse:u,_isVertexAI:!1})}}async get(t){const l=t.operation,a=t.config;if(l.name===void 0||l.name==="")throw new Error("Operation name is required.");if(this.apiClient.isVertexAI()){const u=l.name.split("/operations/")[0];let f;a&&"httpOptions"in a&&(f=a.httpOptions);const p=await this.fetchPredictVideosOperationInternal({operationName:l.name,resourceName:u,config:{httpOptions:f}});return l._fromAPIResponse({apiResponse:p,_isVertexAI:!0})}else{const u=await this.getVideosOperationInternal({operationName:l.name,config:a});return l._fromAPIResponse({apiResponse:u,_isVertexAI:!1})}}async getVideosOperationInternal(t){var l,a,u,f;let p,g="",y={};if(this.apiClient.isVertexAI()){const h=ev(t);return g=oe("{operationName}",h._url),y=h._query,delete h._url,delete h._query,p=this.apiClient.request({path:g,queryParams:y,body:JSON.stringify(h),httpMethod:"GET",httpOptions:(l=t.config)===null||l===void 0?void 0:l.httpOptions,abortSignal:(a=t.config)===null||a===void 0?void 0:a.abortSignal}).then(v=>v.json()),p}else{const h=j0(t);return g=oe("{operationName}",h._url),y=h._query,delete h._url,delete h._query,p=this.apiClient.request({path:g,queryParams:y,body:JSON.stringify(h),httpMethod:"GET",httpOptions:(u=t.config)===null||u===void 0?void 0:u.httpOptions,abortSignal:(f=t.config)===null||f===void 0?void 0:f.abortSignal}).then(v=>v.json()),p}}async fetchPredictVideosOperationInternal(t){var l,a;let u,f="",p={};if(this.apiClient.isVertexAI()){const g=J0(t);return f=oe("{resourceName}:fetchPredictOperation",g._url),p=g._query,delete g._url,delete g._query,u=this.apiClient.request({path:f,queryParams:p,body:JSON.stringify(g),httpMethod:"POST",httpOptions:(l=t.config)===null||l===void 0?void 0:l.httpOptions,abortSignal:(a=t.config)===null||a===void 0?void 0:a.abortSignal}).then(y=>y.json()),u}else throw new Error("This method is only supported by the Vertex AI.")}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function cC(i){const t={},l=r(i,["data"]);if(l!=null&&c(t,["data"],l),r(i,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const a=r(i,["mimeType"]);return a!=null&&c(t,["mimeType"],a),t}function fC(i){const t={},l=r(i,["parts"]);if(l!=null){let u=l;Array.isArray(u)&&(u=u.map(f=>SC(f))),c(t,["parts"],u)}const a=r(i,["role"]);return a!=null&&c(t,["role"],a),t}function dC(i,t,l){const a={},u=r(t,["expireTime"]);l!==void 0&&u!=null&&c(l,["expireTime"],u);const f=r(t,["newSessionExpireTime"]);l!==void 0&&f!=null&&c(l,["newSessionExpireTime"],f);const p=r(t,["uses"]);l!==void 0&&p!=null&&c(l,["uses"],p);const g=r(t,["liveConnectConstraints"]);l!==void 0&&g!=null&&c(l,["bidiGenerateContentSetup"],TC(i,g));const y=r(t,["lockAdditionalFields"]);return l!==void 0&&y!=null&&c(l,["fieldMask"],y),a}function mC(i,t){const l={},a=r(t,["config"]);return a!=null&&c(l,["config"],dC(i,a,l)),l}function pC(i){const t={};if(r(i,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const l=r(i,["fileUri"]);l!=null&&c(t,["fileUri"],l);const a=r(i,["mimeType"]);return a!=null&&c(t,["mimeType"],a),t}function hC(i){const t={},l=r(i,["id"]);l!=null&&c(t,["id"],l);const a=r(i,["args"]);a!=null&&c(t,["args"],a);const u=r(i,["name"]);if(u!=null&&c(t,["name"],u),r(i,["partialArgs"])!==void 0)throw new Error("partialArgs parameter is not supported in Gemini API.");if(r(i,["willContinue"])!==void 0)throw new Error("willContinue parameter is not supported in Gemini API.");return t}function gC(i){const t={};if(r(i,["authConfig"])!==void 0)throw new Error("authConfig parameter is not supported in Gemini API.");const l=r(i,["enableWidget"]);return l!=null&&c(t,["enableWidget"],l),t}function yC(i){const t={};if(r(i,["excludeDomains"])!==void 0)throw new Error("excludeDomains parameter is not supported in Gemini API.");if(r(i,["blockingConfidence"])!==void 0)throw new Error("blockingConfidence parameter is not supported in Gemini API.");const l=r(i,["timeRangeFilter"]);return l!=null&&c(t,["timeRangeFilter"],l),t}function vC(i,t){const l={},a=r(i,["generationConfig"]);t!==void 0&&a!=null&&c(t,["setup","generationConfig"],a);const u=r(i,["responseModalities"]);t!==void 0&&u!=null&&c(t,["setup","generationConfig","responseModalities"],u);const f=r(i,["temperature"]);t!==void 0&&f!=null&&c(t,["setup","generationConfig","temperature"],f);const p=r(i,["topP"]);t!==void 0&&p!=null&&c(t,["setup","generationConfig","topP"],p);const g=r(i,["topK"]);t!==void 0&&g!=null&&c(t,["setup","generationConfig","topK"],g);const y=r(i,["maxOutputTokens"]);t!==void 0&&y!=null&&c(t,["setup","generationConfig","maxOutputTokens"],y);const h=r(i,["mediaResolution"]);t!==void 0&&h!=null&&c(t,["setup","generationConfig","mediaResolution"],h);const v=r(i,["seed"]);t!==void 0&&v!=null&&c(t,["setup","generationConfig","seed"],v);const E=r(i,["speechConfig"]);t!==void 0&&E!=null&&c(t,["setup","generationConfig","speechConfig"],Kc(E));const T=r(i,["thinkingConfig"]);t!==void 0&&T!=null&&c(t,["setup","generationConfig","thinkingConfig"],T);const R=r(i,["enableAffectiveDialog"]);t!==void 0&&R!=null&&c(t,["setup","generationConfig","enableAffectiveDialog"],R);const N=r(i,["systemInstruction"]);t!==void 0&&N!=null&&c(t,["setup","systemInstruction"],fC(Ut(N)));const w=r(i,["tools"]);if(t!==void 0&&w!=null){let ie=_l(w);Array.isArray(ie)&&(ie=ie.map(X=>_C(El(X)))),c(t,["setup","tools"],ie)}const z=r(i,["sessionResumption"]);t!==void 0&&z!=null&&c(t,["setup","sessionResumption"],EC(z));const G=r(i,["inputAudioTranscription"]);t!==void 0&&G!=null&&c(t,["setup","inputAudioTranscription"],G);const Z=r(i,["outputAudioTranscription"]);t!==void 0&&Z!=null&&c(t,["setup","outputAudioTranscription"],Z);const J=r(i,["realtimeInputConfig"]);t!==void 0&&J!=null&&c(t,["setup","realtimeInputConfig"],J);const ee=r(i,["contextWindowCompression"]);t!==void 0&&ee!=null&&c(t,["setup","contextWindowCompression"],ee);const te=r(i,["proactivity"]);return t!==void 0&&te!=null&&c(t,["setup","proactivity"],te),l}function TC(i,t){const l={},a=r(t,["model"]);a!=null&&c(l,["setup","model"],Fe(i,a));const u=r(t,["config"]);return u!=null&&c(l,["config"],vC(u,l)),l}function SC(i){const t={},l=r(i,["mediaResolution"]);l!=null&&c(t,["mediaResolution"],l);const a=r(i,["codeExecutionResult"]);a!=null&&c(t,["codeExecutionResult"],a);const u=r(i,["executableCode"]);u!=null&&c(t,["executableCode"],u);const f=r(i,["fileData"]);f!=null&&c(t,["fileData"],pC(f));const p=r(i,["functionCall"]);p!=null&&c(t,["functionCall"],hC(p));const g=r(i,["functionResponse"]);g!=null&&c(t,["functionResponse"],g);const y=r(i,["inlineData"]);y!=null&&c(t,["inlineData"],cC(y));const h=r(i,["text"]);h!=null&&c(t,["text"],h);const v=r(i,["thought"]);v!=null&&c(t,["thought"],v);const E=r(i,["thoughtSignature"]);E!=null&&c(t,["thoughtSignature"],E);const T=r(i,["videoMetadata"]);return T!=null&&c(t,["videoMetadata"],T),t}function EC(i){const t={},l=r(i,["handle"]);if(l!=null&&c(t,["handle"],l),r(i,["transparent"])!==void 0)throw new Error("transparent parameter is not supported in Gemini API.");return t}function _C(i){const t={},l=r(i,["functionDeclarations"]);if(l!=null){let v=l;Array.isArray(v)&&(v=v.map(E=>E)),c(t,["functionDeclarations"],v)}if(r(i,["retrieval"])!==void 0)throw new Error("retrieval parameter is not supported in Gemini API.");const a=r(i,["googleSearchRetrieval"]);a!=null&&c(t,["googleSearchRetrieval"],a);const u=r(i,["computerUse"]);u!=null&&c(t,["computerUse"],u);const f=r(i,["fileSearch"]);f!=null&&c(t,["fileSearch"],f);const p=r(i,["codeExecution"]);if(p!=null&&c(t,["codeExecution"],p),r(i,["enterpriseWebSearch"])!==void 0)throw new Error("enterpriseWebSearch parameter is not supported in Gemini API.");const g=r(i,["googleMaps"]);g!=null&&c(t,["googleMaps"],gC(g));const y=r(i,["googleSearch"]);y!=null&&c(t,["googleSearch"],yC(y));const h=r(i,["urlContext"]);return h!=null&&c(t,["urlContext"],h),t}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function CC(i){const t=[];for(const l in i)if(Object.prototype.hasOwnProperty.call(i,l)){const a=i[l];if(typeof a=="object"&&a!=null&&Object.keys(a).length>0){const u=Object.keys(a).map(f=>`${l}.${f}`);t.push(...u)}else t.push(l)}return t.join(",")}function AC(i,t){let l=null;const a=i.bidiGenerateContentSetup;if(typeof a=="object"&&a!==null&&"setup"in a){const f=a.setup;typeof f=="object"&&f!==null?(i.bidiGenerateContentSetup=f,l=f):delete i.bidiGenerateContentSetup}else a!==void 0&&delete i.bidiGenerateContentSetup;const u=i.fieldMask;if(l){const f=CC(l);if(Array.isArray(t==null?void 0:t.lockAdditionalFields)&&(t==null?void 0:t.lockAdditionalFields.length)===0)f?i.fieldMask=f:delete i.fieldMask;else if(t!=null&&t.lockAdditionalFields&&t.lockAdditionalFields.length>0&&u!==null&&Array.isArray(u)&&u.length>0){const p=["temperature","topK","topP","maxOutputTokens","responseModalities","seed","speechConfig"];let g=[];u.length>0&&(g=u.map(h=>p.includes(h)?`generationConfig.${h}`:h));const y=[];f&&y.push(f),g.length>0&&y.push(...g),y.length>0?i.fieldMask=y.join(","):delete i.fieldMask}else delete i.fieldMask}else u!==null&&Array.isArray(u)&&u.length>0?i.fieldMask=u.join(","):delete i.fieldMask;return i}class RC extends hi{constructor(t){super(),this.apiClient=t}async create(t){var l,a;let u,f="",p={};if(this.apiClient.isVertexAI())throw new Error("The client.tokens.create method is only supported by the Gemini Developer API.");{const g=mC(this.apiClient,t);f=oe("auth_tokens",g._url),p=g._query,delete g.config,delete g._url,delete g._query;const y=AC(g,t.config);return u=this.apiClient.request({path:f,queryParams:p,body:JSON.stringify(y),httpMethod:"POST",httpOptions:(l=t.config)===null||l===void 0?void 0:l.httpOptions,abortSignal:(a=t.config)===null||a===void 0?void 0:a.abortSignal}).then(h=>h.json()),u.then(h=>h)}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function xC(i,t){const l={},a=r(i,["force"]);return t!==void 0&&a!=null&&c(t,["_query","force"],a),l}function MC(i){const t={},l=r(i,["name"]);l!=null&&c(t,["_url","name"],l);const a=r(i,["config"]);return a!=null&&xC(a,t),t}function NC(i){const t={},l=r(i,["name"]);return l!=null&&c(t,["_url","name"],l),t}function bC(i,t){const l={},a=r(i,["pageSize"]);t!==void 0&&a!=null&&c(t,["_query","pageSize"],a);const u=r(i,["pageToken"]);return t!==void 0&&u!=null&&c(t,["_query","pageToken"],u),l}function wC(i){const t={},l=r(i,["parent"]);l!=null&&c(t,["_url","parent"],l);const a=r(i,["config"]);return a!=null&&bC(a,t),t}function DC(i){const t={},l=r(i,["sdkHttpResponse"]);l!=null&&c(t,["sdkHttpResponse"],l);const a=r(i,["nextPageToken"]);a!=null&&c(t,["nextPageToken"],a);const u=r(i,["documents"]);if(u!=null){let f=u;Array.isArray(f)&&(f=f.map(p=>p)),c(t,["documents"],f)}return t}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class IC extends hi{constructor(t){super(),this.apiClient=t,this.list=async l=>new Do(pi.PAGED_ITEM_DOCUMENTS,a=>this.listInternal({parent:l.parent,config:a.config}),await this.listInternal(l),l)}async get(t){var l,a;let u,f="",p={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const g=NC(t);return f=oe("{name}",g._url),p=g._query,delete g._url,delete g._query,u=this.apiClient.request({path:f,queryParams:p,body:JSON.stringify(g),httpMethod:"GET",httpOptions:(l=t.config)===null||l===void 0?void 0:l.httpOptions,abortSignal:(a=t.config)===null||a===void 0?void 0:a.abortSignal}).then(y=>y.json()),u.then(y=>y)}}async delete(t){var l,a;let u="",f={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const p=MC(t);u=oe("{name}",p._url),f=p._query,delete p._url,delete p._query,await this.apiClient.request({path:u,queryParams:f,body:JSON.stringify(p),httpMethod:"DELETE",httpOptions:(l=t.config)===null||l===void 0?void 0:l.httpOptions,abortSignal:(a=t.config)===null||a===void 0?void 0:a.abortSignal})}}async listInternal(t){var l,a;let u,f="",p={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const g=wC(t);return f=oe("{parent}/documents",g._url),p=g._query,delete g._url,delete g._query,u=this.apiClient.request({path:f,queryParams:p,body:JSON.stringify(g),httpMethod:"GET",httpOptions:(l=t.config)===null||l===void 0?void 0:l.httpOptions,abortSignal:(a=t.config)===null||a===void 0?void 0:a.abortSignal}).then(y=>y.json()),u.then(y=>{const h=DC(y),v=new fv;return Object.assign(v,h),v})}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class UC extends hi{constructor(t,l=new IC(t)){super(),this.apiClient=t,this.documents=l,this.list=async(a={})=>new Do(pi.PAGED_ITEM_FILE_SEARCH_STORES,u=>this.listInternal(u),await this.listInternal(a),a)}async uploadToFileSearchStore(t){if(this.apiClient.isVertexAI())throw new Error("Vertex AI does not support uploading files to a file search store.");return this.apiClient.uploadFileToFileSearchStore(t.fileSearchStoreName,t.file,t.config)}async create(t){var l,a;let u,f="",p={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const g=C_(t);return f=oe("fileSearchStores",g._url),p=g._query,delete g._url,delete g._query,u=this.apiClient.request({path:f,queryParams:p,body:JSON.stringify(g),httpMethod:"POST",httpOptions:(l=t.config)===null||l===void 0?void 0:l.httpOptions,abortSignal:(a=t.config)===null||a===void 0?void 0:a.abortSignal}).then(y=>y.json()),u.then(y=>y)}}async get(t){var l,a;let u,f="",p={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const g=x_(t);return f=oe("{name}",g._url),p=g._query,delete g._url,delete g._query,u=this.apiClient.request({path:f,queryParams:p,body:JSON.stringify(g),httpMethod:"GET",httpOptions:(l=t.config)===null||l===void 0?void 0:l.httpOptions,abortSignal:(a=t.config)===null||a===void 0?void 0:a.abortSignal}).then(y=>y.json()),u.then(y=>y)}}async delete(t){var l,a;let u="",f={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const p=R_(t);u=oe("{name}",p._url),f=p._query,delete p._url,delete p._query,await this.apiClient.request({path:u,queryParams:f,body:JSON.stringify(p),httpMethod:"DELETE",httpOptions:(l=t.config)===null||l===void 0?void 0:l.httpOptions,abortSignal:(a=t.config)===null||a===void 0?void 0:a.abortSignal})}}async listInternal(t){var l,a;let u,f="",p={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const g=I_(t);return f=oe("fileSearchStores",g._url),p=g._query,delete g._url,delete g._query,u=this.apiClient.request({path:f,queryParams:p,body:JSON.stringify(g),httpMethod:"GET",httpOptions:(l=t.config)===null||l===void 0?void 0:l.httpOptions,abortSignal:(a=t.config)===null||a===void 0?void 0:a.abortSignal}).then(y=>y.json()),u.then(y=>{const h=U_(y),v=new dv;return Object.assign(v,h),v})}}async uploadToFileSearchStoreInternal(t){var l,a;let u,f="",p={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const g=L_(t);return f=oe("upload/v1beta/{file_search_store_name}:uploadToFileSearchStore",g._url),p=g._query,delete g._url,delete g._query,u=this.apiClient.request({path:f,queryParams:p,body:JSON.stringify(g),httpMethod:"POST",httpOptions:(l=t.config)===null||l===void 0?void 0:l.httpOptions,abortSignal:(a=t.config)===null||a===void 0?void 0:a.abortSignal}).then(y=>y.json()),u.then(y=>{const h=P_(y),v=new mv;return Object.assign(v,h),v})}}async importFile(t){var l,a;let u,f="",p={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const g=b_(t);return f=oe("{file_search_store_name}:importFile",g._url),p=g._query,delete g._url,delete g._query,u=this.apiClient.request({path:f,queryParams:p,body:JSON.stringify(g),httpMethod:"POST",httpOptions:(l=t.config)===null||l===void 0?void 0:l.httpOptions,abortSignal:(a=t.config)===null||a===void 0?void 0:a.abortSignal}).then(y=>y.json()),u.then(y=>{const h=N_(y),v=new Fc;return Object.assign(v,h),v})}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function LC(i,t){const l={},a=r(i,["name"]);return a!=null&&c(l,["_url","name"],a),l}function PC(i,t){const l={},a=r(i,["name"]);return a!=null&&c(l,["_url","name"],a),l}function qC(i,t){const l={},a=r(i,["sdkHttpResponse"]);return a!=null&&c(l,["sdkHttpResponse"],a),l}function GC(i,t){const l={},a=r(i,["sdkHttpResponse"]);return a!=null&&c(l,["sdkHttpResponse"],a),l}function VC(i,t,l){const a={};if(r(i,["validationDataset"])!==void 0)throw new Error("validationDataset parameter is not supported in Gemini API.");const u=r(i,["tunedModelDisplayName"]);if(t!==void 0&&u!=null&&c(t,["displayName"],u),r(i,["description"])!==void 0)throw new Error("description parameter is not supported in Gemini API.");const f=r(i,["epochCount"]);t!==void 0&&f!=null&&c(t,["tuningTask","hyperparameters","epochCount"],f);const p=r(i,["learningRateMultiplier"]);if(p!=null&&c(a,["tuningTask","hyperparameters","learningRateMultiplier"],p),r(i,["exportLastCheckpointOnly"])!==void 0)throw new Error("exportLastCheckpointOnly parameter is not supported in Gemini API.");if(r(i,["preTunedModelCheckpointId"])!==void 0)throw new Error("preTunedModelCheckpointId parameter is not supported in Gemini API.");if(r(i,["adapterSize"])!==void 0)throw new Error("adapterSize parameter is not supported in Gemini API.");const g=r(i,["batchSize"]);t!==void 0&&g!=null&&c(t,["tuningTask","hyperparameters","batchSize"],g);const y=r(i,["learningRate"]);if(t!==void 0&&y!=null&&c(t,["tuningTask","hyperparameters","learningRate"],y),r(i,["labels"])!==void 0)throw new Error("labels parameter is not supported in Gemini API.");if(r(i,["beta"])!==void 0)throw new Error("beta parameter is not supported in Gemini API.");return a}function HC(i,t,l){const a={};let u=r(l,["config","method"]);if(u===void 0&&(u="SUPERVISED_FINE_TUNING"),u==="SUPERVISED_FINE_TUNING"){const R=r(i,["validationDataset"]);t!==void 0&&R!=null&&c(t,["supervisedTuningSpec"],sg(R))}else if(u==="PREFERENCE_TUNING"){const R=r(i,["validationDataset"]);t!==void 0&&R!=null&&c(t,["preferenceOptimizationSpec"],sg(R))}const f=r(i,["tunedModelDisplayName"]);t!==void 0&&f!=null&&c(t,["tunedModelDisplayName"],f);const p=r(i,["description"]);t!==void 0&&p!=null&&c(t,["description"],p);let g=r(l,["config","method"]);if(g===void 0&&(g="SUPERVISED_FINE_TUNING"),g==="SUPERVISED_FINE_TUNING"){const R=r(i,["epochCount"]);t!==void 0&&R!=null&&c(t,["supervisedTuningSpec","hyperParameters","epochCount"],R)}else if(g==="PREFERENCE_TUNING"){const R=r(i,["epochCount"]);t!==void 0&&R!=null&&c(t,["preferenceOptimizationSpec","hyperParameters","epochCount"],R)}let y=r(l,["config","method"]);if(y===void 0&&(y="SUPERVISED_FINE_TUNING"),y==="SUPERVISED_FINE_TUNING"){const R=r(i,["learningRateMultiplier"]);t!==void 0&&R!=null&&c(t,["supervisedTuningSpec","hyperParameters","learningRateMultiplier"],R)}else if(y==="PREFERENCE_TUNING"){const R=r(i,["learningRateMultiplier"]);t!==void 0&&R!=null&&c(t,["preferenceOptimizationSpec","hyperParameters","learningRateMultiplier"],R)}let h=r(l,["config","method"]);if(h===void 0&&(h="SUPERVISED_FINE_TUNING"),h==="SUPERVISED_FINE_TUNING"){const R=r(i,["exportLastCheckpointOnly"]);t!==void 0&&R!=null&&c(t,["supervisedTuningSpec","exportLastCheckpointOnly"],R)}else if(h==="PREFERENCE_TUNING"){const R=r(i,["exportLastCheckpointOnly"]);t!==void 0&&R!=null&&c(t,["preferenceOptimizationSpec","exportLastCheckpointOnly"],R)}let v=r(l,["config","method"]);if(v===void 0&&(v="SUPERVISED_FINE_TUNING"),v==="SUPERVISED_FINE_TUNING"){const R=r(i,["adapterSize"]);t!==void 0&&R!=null&&c(t,["supervisedTuningSpec","hyperParameters","adapterSize"],R)}else if(v==="PREFERENCE_TUNING"){const R=r(i,["adapterSize"]);t!==void 0&&R!=null&&c(t,["preferenceOptimizationSpec","hyperParameters","adapterSize"],R)}if(r(i,["batchSize"])!==void 0)throw new Error("batchSize parameter is not supported in Vertex AI.");if(r(i,["learningRate"])!==void 0)throw new Error("learningRate parameter is not supported in Vertex AI.");const E=r(i,["labels"]);t!==void 0&&E!=null&&c(t,["labels"],E);const T=r(i,["beta"]);return t!==void 0&&T!=null&&c(t,["preferenceOptimizationSpec","hyperParameters","beta"],T),a}function zC(i,t){const l={},a=r(i,["baseModel"]);a!=null&&c(l,["baseModel"],a);const u=r(i,["preTunedModel"]);u!=null&&c(l,["preTunedModel"],u);const f=r(i,["trainingDataset"]);f!=null&&$C(f);const p=r(i,["config"]);return p!=null&&VC(p,l),l}function BC(i,t){const l={},a=r(i,["baseModel"]);a!=null&&c(l,["baseModel"],a);const u=r(i,["preTunedModel"]);u!=null&&c(l,["preTunedModel"],u);const f=r(i,["trainingDataset"]);f!=null&&WC(f,l,t);const p=r(i,["config"]);return p!=null&&HC(p,l,t),l}function kC(i,t){const l={},a=r(i,["name"]);return a!=null&&c(l,["_url","name"],a),l}function FC(i,t){const l={},a=r(i,["name"]);return a!=null&&c(l,["_url","name"],a),l}function OC(i,t,l){const a={},u=r(i,["pageSize"]);t!==void 0&&u!=null&&c(t,["_query","pageSize"],u);const f=r(i,["pageToken"]);t!==void 0&&f!=null&&c(t,["_query","pageToken"],f);const p=r(i,["filter"]);return t!==void 0&&p!=null&&c(t,["_query","filter"],p),a}function YC(i,t,l){const a={},u=r(i,["pageSize"]);t!==void 0&&u!=null&&c(t,["_query","pageSize"],u);const f=r(i,["pageToken"]);t!==void 0&&f!=null&&c(t,["_query","pageToken"],f);const p=r(i,["filter"]);return t!==void 0&&p!=null&&c(t,["_query","filter"],p),a}function JC(i,t){const l={},a=r(i,["config"]);return a!=null&&OC(a,l),l}function XC(i,t){const l={},a=r(i,["config"]);return a!=null&&YC(a,l),l}function KC(i,t){const l={},a=r(i,["sdkHttpResponse"]);a!=null&&c(l,["sdkHttpResponse"],a);const u=r(i,["nextPageToken"]);u!=null&&c(l,["nextPageToken"],u);const f=r(i,["tunedModels"]);if(f!=null){let p=f;Array.isArray(p)&&(p=p.map(g=>zg(g))),c(l,["tuningJobs"],p)}return l}function QC(i,t){const l={},a=r(i,["sdkHttpResponse"]);a!=null&&c(l,["sdkHttpResponse"],a);const u=r(i,["nextPageToken"]);u!=null&&c(l,["nextPageToken"],u);const f=r(i,["tuningJobs"]);if(f!=null){let p=f;Array.isArray(p)&&(p=p.map(g=>Vc(g))),c(l,["tuningJobs"],p)}return l}function ZC(i,t){const l={},a=r(i,["name"]);a!=null&&c(l,["model"],a);const u=r(i,["name"]);return u!=null&&c(l,["endpoint"],u),l}function $C(i,t){const l={};if(r(i,["gcsUri"])!==void 0)throw new Error("gcsUri parameter is not supported in Gemini API.");if(r(i,["vertexDatasetResource"])!==void 0)throw new Error("vertexDatasetResource parameter is not supported in Gemini API.");const a=r(i,["examples"]);if(a!=null){let u=a;Array.isArray(u)&&(u=u.map(f=>f)),c(l,["examples","examples"],u)}return l}function WC(i,t,l){const a={};let u=r(l,["config","method"]);if(u===void 0&&(u="SUPERVISED_FINE_TUNING"),u==="SUPERVISED_FINE_TUNING"){const p=r(i,["gcsUri"]);t!==void 0&&p!=null&&c(t,["supervisedTuningSpec","trainingDatasetUri"],p)}else if(u==="PREFERENCE_TUNING"){const p=r(i,["gcsUri"]);t!==void 0&&p!=null&&c(t,["preferenceOptimizationSpec","trainingDatasetUri"],p)}let f=r(l,["config","method"]);if(f===void 0&&(f="SUPERVISED_FINE_TUNING"),f==="SUPERVISED_FINE_TUNING"){const p=r(i,["vertexDatasetResource"]);t!==void 0&&p!=null&&c(t,["supervisedTuningSpec","trainingDatasetUri"],p)}else if(f==="PREFERENCE_TUNING"){const p=r(i,["vertexDatasetResource"]);t!==void 0&&p!=null&&c(t,["preferenceOptimizationSpec","trainingDatasetUri"],p)}if(r(i,["examples"])!==void 0)throw new Error("examples parameter is not supported in Vertex AI.");return a}function zg(i,t){const l={},a=r(i,["sdkHttpResponse"]);a!=null&&c(l,["sdkHttpResponse"],a);const u=r(i,["name"]);u!=null&&c(l,["name"],u);const f=r(i,["state"]);f!=null&&c(l,["state"],Sg(f));const p=r(i,["createTime"]);p!=null&&c(l,["createTime"],p);const g=r(i,["tuningTask","startTime"]);g!=null&&c(l,["startTime"],g);const y=r(i,["tuningTask","completeTime"]);y!=null&&c(l,["endTime"],y);const h=r(i,["updateTime"]);h!=null&&c(l,["updateTime"],h);const v=r(i,["description"]);v!=null&&c(l,["description"],v);const E=r(i,["baseModel"]);E!=null&&c(l,["baseModel"],E);const T=r(i,["_self"]);return T!=null&&c(l,["tunedModel"],ZC(T)),l}function Vc(i,t){const l={},a=r(i,["sdkHttpResponse"]);a!=null&&c(l,["sdkHttpResponse"],a);const u=r(i,["name"]);u!=null&&c(l,["name"],u);const f=r(i,["state"]);f!=null&&c(l,["state"],Sg(f));const p=r(i,["createTime"]);p!=null&&c(l,["createTime"],p);const g=r(i,["startTime"]);g!=null&&c(l,["startTime"],g);const y=r(i,["endTime"]);y!=null&&c(l,["endTime"],y);const h=r(i,["updateTime"]);h!=null&&c(l,["updateTime"],h);const v=r(i,["error"]);v!=null&&c(l,["error"],v);const E=r(i,["description"]);E!=null&&c(l,["description"],E);const T=r(i,["baseModel"]);T!=null&&c(l,["baseModel"],T);const R=r(i,["tunedModel"]);R!=null&&c(l,["tunedModel"],R);const N=r(i,["preTunedModel"]);N!=null&&c(l,["preTunedModel"],N);const w=r(i,["supervisedTuningSpec"]);w!=null&&c(l,["supervisedTuningSpec"],w);const z=r(i,["preferenceOptimizationSpec"]);z!=null&&c(l,["preferenceOptimizationSpec"],z);const G=r(i,["tuningDataStats"]);G!=null&&c(l,["tuningDataStats"],G);const Z=r(i,["encryptionSpec"]);Z!=null&&c(l,["encryptionSpec"],Z);const J=r(i,["partnerModelTuningSpec"]);J!=null&&c(l,["partnerModelTuningSpec"],J);const ee=r(i,["customBaseModel"]);ee!=null&&c(l,["customBaseModel"],ee);const te=r(i,["experiment"]);te!=null&&c(l,["experiment"],te);const ie=r(i,["labels"]);ie!=null&&c(l,["labels"],ie);const X=r(i,["outputUri"]);X!=null&&c(l,["outputUri"],X);const fe=r(i,["pipelineJob"]);fe!=null&&c(l,["pipelineJob"],fe);const W=r(i,["serviceAccount"]);W!=null&&c(l,["serviceAccount"],W);const j=r(i,["tunedModelDisplayName"]);j!=null&&c(l,["tunedModelDisplayName"],j);const ge=r(i,["veoTuningSpec"]);return ge!=null&&c(l,["veoTuningSpec"],ge),l}function jC(i,t){const l={},a=r(i,["sdkHttpResponse"]);a!=null&&c(l,["sdkHttpResponse"],a);const u=r(i,["name"]);u!=null&&c(l,["name"],u);const f=r(i,["metadata"]);f!=null&&c(l,["metadata"],f);const p=r(i,["done"]);p!=null&&c(l,["done"],p);const g=r(i,["error"]);return g!=null&&c(l,["error"],g),l}function sg(i,t){const l={},a=r(i,["gcsUri"]);a!=null&&c(l,["validationDatasetUri"],a);const u=r(i,["vertexDatasetResource"]);return u!=null&&c(l,["validationDatasetUri"],u),l}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class eA extends hi{constructor(t){super(),this.apiClient=t,this.list=async(l={})=>new Do(pi.PAGED_ITEM_TUNING_JOBS,a=>this.listInternal(a),await this.listInternal(l),l),this.get=async l=>await this.getInternal(l),this.tune=async l=>{var a;if(this.apiClient.isVertexAI())if(l.baseModel.startsWith("projects/")){const u={tunedModelName:l.baseModel};!((a=l.config)===null||a===void 0)&&a.preTunedModelCheckpointId&&(u.checkpointId=l.config.preTunedModelCheckpointId);const f=Object.assign(Object.assign({},l),{preTunedModel:u});return f.baseModel=void 0,await this.tuneInternal(f)}else{const u=Object.assign({},l);return await this.tuneInternal(u)}else{const u=Object.assign({},l),f=await this.tuneMldevInternal(u);let p="";return f.metadata!==void 0&&f.metadata.tunedModel!==void 0?p=f.metadata.tunedModel:f.name!==void 0&&f.name.includes("/operations/")&&(p=f.name.split("/operations/")[0]),{name:p,state:Dc.JOB_STATE_QUEUED}}}}async getInternal(t){var l,a,u,f;let p,g="",y={};if(this.apiClient.isVertexAI()){const h=FC(t);return g=oe("{name}",h._url),y=h._query,delete h._url,delete h._query,p=this.apiClient.request({path:g,queryParams:y,body:JSON.stringify(h),httpMethod:"GET",httpOptions:(l=t.config)===null||l===void 0?void 0:l.httpOptions,abortSignal:(a=t.config)===null||a===void 0?void 0:a.abortSignal}).then(v=>v.json().then(E=>{const T=E;return T.sdkHttpResponse={headers:v.headers},T})),p.then(v=>Vc(v))}else{const h=kC(t);return g=oe("{name}",h._url),y=h._query,delete h._url,delete h._query,p=this.apiClient.request({path:g,queryParams:y,body:JSON.stringify(h),httpMethod:"GET",httpOptions:(u=t.config)===null||u===void 0?void 0:u.httpOptions,abortSignal:(f=t.config)===null||f===void 0?void 0:f.abortSignal}).then(v=>v.json().then(E=>{const T=E;return T.sdkHttpResponse={headers:v.headers},T})),p.then(v=>zg(v))}}async listInternal(t){var l,a,u,f;let p,g="",y={};if(this.apiClient.isVertexAI()){const h=XC(t);return g=oe("tuningJobs",h._url),y=h._query,delete h._url,delete h._query,p=this.apiClient.request({path:g,queryParams:y,body:JSON.stringify(h),httpMethod:"GET",httpOptions:(l=t.config)===null||l===void 0?void 0:l.httpOptions,abortSignal:(a=t.config)===null||a===void 0?void 0:a.abortSignal}).then(v=>v.json().then(E=>{const T=E;return T.sdkHttpResponse={headers:v.headers},T})),p.then(v=>{const E=QC(v),T=new zh;return Object.assign(T,E),T})}else{const h=JC(t);return g=oe("tunedModels",h._url),y=h._query,delete h._url,delete h._query,p=this.apiClient.request({path:g,queryParams:y,body:JSON.stringify(h),httpMethod:"GET",httpOptions:(u=t.config)===null||u===void 0?void 0:u.httpOptions,abortSignal:(f=t.config)===null||f===void 0?void 0:f.abortSignal}).then(v=>v.json().then(E=>{const T=E;return T.sdkHttpResponse={headers:v.headers},T})),p.then(v=>{const E=KC(v),T=new zh;return Object.assign(T,E),T})}}async cancel(t){var l,a,u,f;let p,g="",y={};if(this.apiClient.isVertexAI()){const h=PC(t);return g=oe("{name}:cancel",h._url),y=h._query,delete h._url,delete h._query,p=this.apiClient.request({path:g,queryParams:y,body:JSON.stringify(h),httpMethod:"POST",httpOptions:(l=t.config)===null||l===void 0?void 0:l.httpOptions,abortSignal:(a=t.config)===null||a===void 0?void 0:a.abortSignal}).then(v=>v.json().then(E=>{const T=E;return T.sdkHttpResponse={headers:v.headers},T})),p.then(v=>{const E=GC(v),T=new Bh;return Object.assign(T,E),T})}else{const h=LC(t);return g=oe("{name}:cancel",h._url),y=h._query,delete h._url,delete h._query,p=this.apiClient.request({path:g,queryParams:y,body:JSON.stringify(h),httpMethod:"POST",httpOptions:(u=t.config)===null||u===void 0?void 0:u.httpOptions,abortSignal:(f=t.config)===null||f===void 0?void 0:f.abortSignal}).then(v=>v.json().then(E=>{const T=E;return T.sdkHttpResponse={headers:v.headers},T})),p.then(v=>{const E=qC(v),T=new Bh;return Object.assign(T,E),T})}}async tuneInternal(t){var l,a;let u,f="",p={};if(this.apiClient.isVertexAI()){const g=BC(t,t);return f=oe("tuningJobs",g._url),p=g._query,delete g._url,delete g._query,u=this.apiClient.request({path:f,queryParams:p,body:JSON.stringify(g),httpMethod:"POST",httpOptions:(l=t.config)===null||l===void 0?void 0:l.httpOptions,abortSignal:(a=t.config)===null||a===void 0?void 0:a.abortSignal}).then(y=>y.json().then(h=>{const v=h;return v.sdkHttpResponse={headers:y.headers},v})),u.then(y=>Vc(y))}else throw new Error("This method is only supported by the Vertex AI.")}async tuneMldevInternal(t){var l,a;let u,f="",p={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const g=zC(t);return f=oe("tunedModels",g._url),p=g._query,delete g._url,delete g._query,u=this.apiClient.request({path:f,queryParams:p,body:JSON.stringify(g),httpMethod:"POST",httpOptions:(l=t.config)===null||l===void 0?void 0:l.httpOptions,abortSignal:(a=t.config)===null||a===void 0?void 0:a.abortSignal}).then(y=>y.json().then(h=>{const v=h;return v.sdkHttpResponse={headers:y.headers},v})),u.then(y=>jC(y))}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class tA{async download(t,l){throw new Error("Download to file is not supported in the browser, please use a browser compliant download like an <a> tag.")}}const nA=1024*1024*8,iA=3,oA=1e3,lA=2,ir="x-goog-upload-status";async function aA(i,t,l){var a;const u=await Bg(i,t,l),f=await(u==null?void 0:u.json());if(((a=u==null?void 0:u.headers)===null||a===void 0?void 0:a[ir])!=="final")throw new Error("Failed to upload file: Upload status is not finalized.");return f.file}async function sA(i,t,l){var a;const u=await Bg(i,t,l),f=await(u==null?void 0:u.json());if(((a=u==null?void 0:u.headers)===null||a===void 0?void 0:a[ir])!=="final")throw new Error("Failed to upload file: Upload status is not finalized.");const p=pg(f),g=new Oc;return Object.assign(g,p),g}async function Bg(i,t,l){var a,u;let f=0,p=0,g=new Ic(new Response),y="upload";for(f=i.size;p<f;){const h=Math.min(nA,f-p),v=i.slice(p,p+h);p+h>=f&&(y+=", finalize");let E=0,T=oA;for(;E<iA&&(g=await l.request({path:"",body:v,httpMethod:"POST",httpOptions:{apiVersion:"",baseUrl:t,headers:{"X-Goog-Upload-Command":y,"X-Goog-Upload-Offset":String(p),"Content-Length":String(h)}}}),!(!((a=g==null?void 0:g.headers)===null||a===void 0)&&a[ir]));)E++,await uA(T),T=T*lA;if(p+=h,((u=g==null?void 0:g.headers)===null||u===void 0?void 0:u[ir])!=="active")break;if(f<=p)throw new Error("All content has been uploaded, but the upload status is not finalized.")}return g}async function rA(i){return{size:i.size,type:i.type}}function uA(i){return new Promise(t=>setTimeout(t,i))}class cA{async upload(t,l,a){if(typeof t=="string")throw new Error("File path is not supported in browser uploader.");return await aA(t,l,a)}async uploadToFileSearchStore(t,l,a){if(typeof t=="string")throw new Error("File path is not supported in browser uploader.");return await sA(t,l,a)}async stat(t){if(typeof t=="string")throw new Error("File path is not supported in browser uploader.");return await rA(t)}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class fA{create(t,l,a){return new dA(t,l,a)}}class dA{constructor(t,l,a){this.url=t,this.headers=l,this.callbacks=a}connect(){this.ws=new WebSocket(this.url),this.ws.onopen=this.callbacks.onopen,this.ws.onerror=this.callbacks.onerror,this.ws.onclose=this.callbacks.onclose,this.ws.onmessage=this.callbacks.onmessage}send(t){if(this.ws===void 0)throw new Error("WebSocket is not connected");this.ws.send(t)}close(){if(this.ws===void 0)throw new Error("WebSocket is not connected");this.ws.close()}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const rg="x-goog-api-key";class mA{constructor(t){this.apiKey=t}async addAuthHeaders(t,l){if(t.get(rg)===null){if(this.apiKey.startsWith("auth_tokens/"))throw new Error("Ephemeral tokens are only supported by the live API.");if(!this.apiKey)throw new Error("API key is missing. Please provide a valid API key.");t.append(rg,this.apiKey)}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const pA="gl-node/";class hA{constructor(t){var l;if(t.apiKey==null)throw new Error("An API Key must be set when running in a browser");if(t.project||t.location)throw new Error("Vertex AI project based authentication is not supported on browser runtimes. Please do not provide a project or location.");this.vertexai=(l=t.vertexai)!==null&&l!==void 0?l:!1,this.apiKey=t.apiKey;const a=O0(t.httpOptions,t.vertexai,void 0,void 0);a&&(t.httpOptions?t.httpOptions.baseUrl=a:t.httpOptions={baseUrl:a}),this.apiVersion=t.apiVersion,this.httpOptions=t.httpOptions;const u=new mA(this.apiKey);this.apiClient=new F_({auth:u,apiVersion:this.apiVersion,apiKey:this.apiKey,vertexai:this.vertexai,httpOptions:this.httpOptions,userAgentExtra:pA+"web",uploader:new cA,downloader:new tA}),this.models=new rC(this.apiClient),this.live=new nC(this.apiClient,u,new fA),this.batches=new TT(this.apiClient),this.chats=new eS(this.models,this.apiClient),this.caches=new $T(this.apiClient),this.files=new cS(this.apiClient),this.operations=new uC(this.apiClient),this.authTokens=new RC(this.apiClient),this.tunings=new eA(this.apiClient),this.fileSearchStores=new UC(this.apiClient)}}const Nt=[];for(let i=0;i<256;++i)Nt.push((i+256).toString(16).slice(1));function gA(i,t=0){return(Nt[i[t+0]]+Nt[i[t+1]]+Nt[i[t+2]]+Nt[i[t+3]]+"-"+Nt[i[t+4]]+Nt[i[t+5]]+"-"+Nt[i[t+6]]+Nt[i[t+7]]+"-"+Nt[i[t+8]]+Nt[i[t+9]]+"-"+Nt[i[t+10]]+Nt[i[t+11]]+Nt[i[t+12]]+Nt[i[t+13]]+Nt[i[t+14]]+Nt[i[t+15]]).toLowerCase()}let Mc;const yA=new Uint8Array(16);function vA(){if(!Mc){if(typeof crypto>"u"||!crypto.getRandomValues)throw new Error("crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported");Mc=crypto.getRandomValues.bind(crypto)}return Mc(yA)}const TA=typeof crypto<"u"&&crypto.randomUUID&&crypto.randomUUID.bind(crypto),ug={randomUUID:TA};function SA(i,t,l){var u;i=i||{};const a=i.random??((u=i.rng)==null?void 0:u.call(i))??vA();if(a.length<16)throw new Error("Random bytes length must be >= 16");return a[6]=a[6]&15|64,a[8]=a[8]&63|128,gA(a)}function Da(i,t,l){return ug.randomUUID&&!i?ug.randomUUID():SA(i)}/**
 * @license
 * SPDX-License-Identifier: Apache-2.0
*/const EA=new hA({apiKey:"PLACEHOLDER_API_KEY"}),_A="gemini-2.5-pro",CA=async i=>{const t=`You are an expert audio engineer configuring a dynamic soundtrack for a 3D exploration game.
Translate the user's natural language request into one or more "Modulation" patch configurations.

**Available Sources (Inputs):**
- 'speed': Camera movement speed (0.0 to ~1.0+).
- 'acceleration': Change in speed over time. Positive = speeding up, Negative = slowing down.
- 'altitude': Camera height relative to start (can be negative or positive, e.g., -5.0 to +10.0).
- 'descent': Vertical downward speed. Positive when diving/falling, negative when climbing.
- 'turning': How fast the camera is rotating left/right (yaw speed, approx 0.0 to 1.0).
- 'heading': Compass direction (0.0 to 1.0).
- 'pitch': Camera looking up/down angle (-1.0 looking down, +1.0 looking up).
- 'proximity': How close the camera is to an obstacle (0.0 = safe, 1.0 = collision imminent).
- 'time': Always increasing game time in seconds.

**Available Targets (Audio Parameters):**
- 'masterVolume': Overall volume (0.0 to 1.0).
- 'drone.gain', 'drone.filter' (Hz), 'drone.pitch' (semitones).
- 'atmosphere.gain'.
- 'arp.gain', 'arp.filter' (Hz), 'arp.speed' (multiplier, higher = faster notes), 'arp.octaves' (range 1-3).
- 'rhythm.gain', 'rhythm.filter' (Hz), 'rhythm.bpm' (Beats Per Minute).
- 'melody.gain', 'melody.density' (0.0 to 1.0, higher = more frequent notes).
- 'reverb.mix', 'reverb.tone' (Hz).

**Modulation Logic:**
Final Value = Base Value + (Source Value * Amount)
- Positive 'amount' means more source = higher target value.
- Negative 'amount' means more source = lower target value.

**Examples:**
- "Make it louder when I go fast": \`[{ source: 'speed', target: 'masterVolume', amount: 0.3 }]\`
- "Drums go faster when I dive down": \`[{ source: 'descent', target: 'rhythm.bpm', amount: 50 }]\`
- "More intense music near obstacles": \`[{ source: 'proximity', target: 'rhythm.gain', amount: 0.5 }, { source: 'proximity', target: 'arp.speed', amount: 1.0 }]\`
- "Higher arp range when climbing high": \`[{ source: 'altitude', target: 'arp.octaves', amount: 0.5 }]\`

**User Request:** "${i}"

Return a JSON array of Modulation objects. Each object must have:
- 'source': One of the sources listed above.
- 'target': One of the targets listed above.
- 'amount': A sensible float value for the scaling factor based on the target's typical range.
- 'enabled': true
`,l=await EA.models.generateContent({model:_A,contents:t,config:{responseMimeType:"application/json",responseSchema:{type:Xt.ARRAY,items:{type:Xt.OBJECT,properties:{source:{type:Xt.STRING,enum:["speed","acceleration","altitude","descent","turning","heading","pitch","proximity","time"]},target:{type:Xt.STRING,enum:["masterVolume","drone.gain","drone.filter","drone.pitch","atmosphere.gain","arp.gain","arp.speed","arp.filter","arp.octaves","rhythm.gain","rhythm.filter","rhythm.bpm","melody.gain","melody.density","reverb.mix","reverb.tone"]},amount:{type:Xt.NUMBER},enabled:{type:Xt.BOOLEAN}},required:["source","target","amount","enabled"]}}}});return JSON.parse(l.text).map(u=>({...u,id:Da()}))};/**
 * @license
 * SPDX-License-Identifier: Apache-2.0
*/const AA=!1,RA=!1,xA=!1,MA=[{label:"Square (Fit Width)",value:"100%_square"},{label:"Square (Fit Height)",value:"100%_height_square"},{label:"Square (Fit Screen)",value:"fit_screen_square"},{label:"Full Screen",value:"100%"},{label:"1024px",value:"1024px"},{label:"512px",value:"512px"},{label:"256px",value:"256px"}],or=({value:i,onChange:t,step:l=.01,smallStep:a=1e-4,min:u=-1/0,max:f=1/0,className:p})=>{const[g,y]=D.useState(i.toString()),h=D.useRef(null);D.useEffect(()=>{document.activeElement!==h.current&&y(i.toString())},[i]);const v=w=>{let z=parseFloat(w);isNaN(z)?y(i.toString()):(z=Math.max(u,Math.min(f,z)),z!==i&&t(z),y(z.toString()))},E=w=>{y(w.target.value)},T=()=>{v(g)},R=w=>{var z,G;w.key==="Enter"?(v(g),(z=h.current)==null||z.blur()):w.key==="Escape"?(y(i.toString()),(G=h.current)==null||G.blur()):w.key==="ArrowUp"?(w.preventDefault(),N(l)):w.key==="ArrowDown"&&(w.preventDefault(),N(-l))},N=w=>{const z=parseFloat((i+w).toPrecision(15));t(Math.max(u,Math.min(f,z)))};return C.jsxs("div",{className:`flex items-center gap-1 bg-gray-900/50 border border-gray-700 rounded-md ${p}`,children:[C.jsx("button",{onClick:()=>N(-a),className:"px-2 py-0.5 text-gray-400 hover:text-white rounded-l-md","aria-label":`Decrement by ${a}`,children:"-"}),C.jsx("input",{ref:h,type:"text",value:g,onChange:E,onBlur:T,onKeyDown:R,className:"w-20 bg-transparent text-center font-mono text-cyan-400 text-sm focus:outline-none"}),C.jsx("button",{onClick:()=>N(a),className:"px-2 py-0.5 text-gray-400 hover:text-white rounded-r-md","aria-label":`Increment by ${a}`,children:"+"})]})},wo=({label:i,isActive:t,onClick:l})=>C.jsx("button",{onClick:l,role:"tab","aria-selected":t,className:`px-4 py-2 text-sm font-semibold rounded-t-lg transition-colors border-b-2 whitespace-nowrap
                ${t?"text-cyan-400 border-cyan-400 bg-gray-800/50":"text-gray-400 border-transparent hover:text-white hover:bg-gray-700/30"}`,children:i}),NA=()=>{const{sliders:i,uniforms:t,handleUniformChange:l,handleUniformsCommit:a}=An();return C.jsx("div",{className:"space-y-4",children:i.length>0?i.map(u=>C.jsxs("div",{className:"space-y-3",children:[C.jsxs("div",{className:"flex justify-between items-center",children:[C.jsx("label",{htmlFor:u.variableName,className:"text-sm text-gray-300 cursor-help border-b border-dotted border-gray-500/50",title:u.description,children:u.name}),C.jsx(or,{value:t[u.variableName]??u.defaultValue,onChange:f=>l(u.variableName,f),step:u.step,min:u.min,max:u.max})]}),C.jsx("input",{type:"range",id:u.variableName,name:u.variableName,min:u.min,max:u.max,step:u.step,value:t[u.variableName]??u.defaultValue,onChange:f=>l(u.variableName,parseFloat(f.target.value)),onMouseUp:a,onTouchEnd:a,className:"w-full h-2 bg-gray-700 rounded-lg appearance-none cursor-pointer accent-cyan-500 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-offset-gray-900 focus:ring-cyan-500"})]},u.variableName)):C.jsx("p",{className:"text-gray-400 text-center py-8",children:"No tweakable controls found."})})},Un=({label:i,description:t,checked:l,onChange:a,small:u=!1})=>C.jsxs("label",{title:t,className:`flex items-center justify-between cursor-pointer ${u?"":"p-3 bg-gray-800/50 rounded-lg hover:bg-gray-800/80 transition-colors"}`,children:[C.jsx("span",{className:`font-medium ${u?"text-xs text-gray-300":"text-sm text-gray-200"}`,children:i}),C.jsxs("div",{className:"relative",children:[C.jsx("input",{type:"checkbox",checked:l,onChange:f=>a(f.target.checked),className:"sr-only peer"}),C.jsx("div",{className:`bg-gray-600 rounded-full peer peer-focus:ring-2 peer-focus:ring-offset-2 peer-focus:ring-offset-gray-800 peer-focus:ring-cyan-500 peer-checked:after:translate-x-full after:content-[''] after:absolute after:bg-white after:border-gray-300 after:border after:rounded-full after:transition-all peer-checked:bg-cyan-600 ${u?"w-9 h-5 after:top-[2px] after:left-[2px] after:h-4 after:w-4":"w-11 h-6 after:top-0.5 after:left-[2px] after:h-5 after:w-5"}`})]})]}),ze=({label:i,description:t,value:l,min:a=0,max:u=3,step:f=.05,onChange:p,mini:g=!1})=>C.jsxs("div",{className:g?"":"p-3 bg-gray-800/50 rounded-lg",children:[C.jsxs("div",{className:"flex justify-between items-center mb-2",children:[C.jsx("label",{htmlFor:`control-slider-${i}`,className:`${g?"text-xs":"text-sm"} text-gray-300 cursor-help border-b border-dotted border-gray-500/50`,title:t,children:i}),C.jsx(or,{value:l,onChange:p,step:f,min:a,max:u})]}),C.jsx("input",{type:"range",id:`control-slider-${i}`,min:a,max:u,step:f,value:l,onChange:y=>p(parseFloat(y.target.value)),className:`w-full bg-gray-700 rounded-lg appearance-none cursor-pointer accent-cyan-500 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-offset-gray-900 focus:ring-cyan-500 ${g?"h-1.5":"h-2"}`})]}),bA=({mod:i,onUpdate:t,onRemove:l})=>{const a=["speed","acceleration","altitude","descent","turning","turningSigned","heading","pitch","proximity","time"],u=["masterVolume","drone.gain","drone.filter","drone.pitch","atmosphere.gain","arp.gain","arp.speed","arp.filter","arp.octaves","arp.direction","rhythm.gain","rhythm.filter","rhythm.bpm","melody.gain","melody.density","reverb.mix","reverb.tone"];return C.jsxs("div",{className:`p-3 rounded-lg border ${i.enabled?"bg-gray-800/50 border-gray-700":"bg-gray-900/30 border-gray-800 opacity-60"}`,children:[C.jsxs("div",{className:"flex items-center gap-2 mb-3",children:[C.jsx("input",{type:"checkbox",checked:i.enabled,onChange:f=>t(i.id,{enabled:f.target.checked}),className:"w-4 h-4 bg-gray-700 border-gray-500 rounded text-cyan-500 focus:ring-offset-gray-800"}),C.jsx("select",{value:i.source,onChange:f=>t(i.id,{source:f.target.value}),className:"bg-gray-900 text-xs text-white p-1 rounded border border-gray-700 outline-none",children:a.map(f=>C.jsx("option",{value:f,children:f.toUpperCase()},f))}),C.jsx("span",{className:"text-gray-500 text-xs",children:""}),C.jsx("select",{value:i.target,onChange:f=>t(i.id,{target:f.target.value}),className:"bg-gray-900 text-xs text-white p-1 rounded border border-gray-700 outline-none flex-grow",children:u.map(f=>C.jsx("option",{value:f,children:f},f))}),C.jsx("button",{onClick:()=>l(i.id),className:"text-gray-500 hover:text-red-400",children:C.jsx(Bc,{className:"w-4 h-4"})})]}),i.enabled&&C.jsxs("div",{className:"flex items-center gap-2",children:[C.jsx("span",{className:"text-xs text-gray-400 w-12",children:"Amount"}),C.jsx("input",{type:"range",min:-1,max:1,step:.01,value:i.amount,onChange:f=>t(i.id,{amount:parseFloat(f.target.value)}),className:"flex-grow h-1.5 bg-gray-700 rounded-lg appearance-none cursor-pointer accent-cyan-500"}),C.jsxs("span",{className:"text-xs font-mono text-cyan-400 w-10 text-right",children:[(i.amount*100).toFixed(0),"%"]})]})]})},wA=({mod:i,onUpdate:t,onRemove:l})=>{const a=["speed","acceleration","altitude","descent","turning","turningSigned","heading","pitch","proximity","time"],u=[{value:"complexity",label:"Complexity"},{value:"fold1",label:"Fold A (Body)"},{value:"fold1AsymX",label:"Fold A Asym X (L/R Bias)"},{value:"fold2",label:"Fold B (Wings)"},{value:"fold2AsymX",label:"Fold B Asym X (L/R Bias)"},{value:"fold3",label:"Twist"},{value:"scale",label:"Scale"},{value:"scaleAsymX",label:"Scale Asym X (L/R Bias)"},{value:"stretch",label:"Stretch"},{value:"taper",label:"Taper"},{value:"twist",label:"Fractal Twist (Spiral)"},{value:"twistAsymX",label:"Twist Asym X (L/R Bias)"},{value:"asymmetryX",label:"Space Asymmetry X (L/R)"},{value:"asymmetryY",label:"Space Asymmetry Y (T/B)"},{value:"asymmetryZ",label:"Space Asymmetry Z (F/B)"}];return C.jsxs("div",{className:`p-3 rounded-lg border ${i.enabled?"bg-gray-800/50 border-gray-700":"bg-gray-900/30 border-gray-800 opacity-60"}`,children:[C.jsxs("div",{className:"flex items-center gap-2 mb-3",children:[C.jsx("input",{type:"checkbox",checked:i.enabled,onChange:f=>t(i.id,{enabled:f.target.checked}),className:"w-4 h-4 bg-gray-700 border-gray-500 rounded text-cyan-500 focus:ring-offset-gray-800"}),C.jsx("select",{value:i.source,onChange:f=>t(i.id,{source:f.target.value}),className:"bg-gray-900 text-xs text-white p-1 rounded border border-gray-700 outline-none",children:a.map(f=>C.jsx("option",{value:f,children:f.toUpperCase()},f))}),C.jsx("span",{className:"text-gray-500 text-xs",children:""}),C.jsx("select",{value:i.target,onChange:f=>t(i.id,{target:f.target.value}),className:"bg-gray-900 text-xs text-white p-1 rounded border border-gray-700 outline-none flex-grow",children:u.map(f=>C.jsx("option",{value:f.value,children:f.label},f.value))}),C.jsx("button",{onClick:()=>l(i.id),className:"text-gray-500 hover:text-red-400",children:C.jsx(Bc,{className:"w-4 h-4"})})]}),i.enabled&&C.jsxs("div",{className:"flex items-center gap-2",children:[C.jsx("span",{className:"text-xs text-gray-400 w-12",children:"Amount"}),C.jsx("input",{type:"range",min:-1,max:1,step:.01,value:i.amount,onChange:f=>t(i.id,{amount:parseFloat(f.target.value)}),className:"flex-grow h-1.5 bg-gray-700 rounded-lg appearance-none cursor-pointer accent-cyan-500"}),C.jsxs("span",{className:"text-xs font-mono text-cyan-400 w-10 text-right",children:[(i.amount*100).toFixed(0),"%"]})]})]})},DA=()=>{const{soundConfig:i,handleSoundConfigChange:t,addSoundModulation:l,updateSoundModulation:a,removeSoundModulation:u}=An(),[f,p]=D.useState(""),[g,y]=D.useState(!1),[h,v]=D.useState(null),E=async()=>{if(f.trim()){y(!0),v(null);try{(await CA(f)).forEach(R=>l(R)),p("")}catch(T){v(T.message||"Failed to generate patch")}finally{y(!1)}}};return C.jsxs("div",{className:"space-y-8",children:[C.jsx(Un,{label:"Enable Soundtrack",description:"Toggles the Vangelis-style audio engine.",checked:i.enabled,onChange:T=>t("enabled",T)}),C.jsxs("div",{className:`space-y-8 transition-opacity duration-500 ${i.enabled?"opacity-100":"opacity-40 pointer-events-none"}`,children:[C.jsxs("div",{className:"space-y-4",children:[C.jsxs("div",{className:"flex items-center justify-between",children:[C.jsx("h4",{className:"text-sm font-semibold text-cyan-300 uppercase tracking-wider",children:"Patch Bay"}),C.jsx("button",{onClick:()=>l({id:Da(),enabled:!0,source:"speed",target:"drone.filter",amount:.25}),className:"text-xs bg-gray-700 hover:bg-gray-600 px-2 py-1 rounded text-white transition-colors",children:"+ Add Patch"})]}),C.jsxs("div",{className:"bg-purple-900/20 border border-purple-500/30 p-3 rounded-lg space-y-2",children:[C.jsxs("div",{className:"flex gap-2",children:[C.jsx("input",{type:"text",value:f,onChange:T=>p(T.target.value),placeholder:"e.g., faster drums when I dive down",className:"flex-grow p-2 bg-gray-900/80 border border-purple-500/50 rounded-md text-sm text-gray-200 focus:ring-1 focus:ring-purple-500 outline-none",onKeyDown:T=>T.key==="Enter"&&E()}),C.jsx("button",{onClick:E,disabled:g||!f,className:"bg-purple-600 hover:bg-purple-500 text-white px-3 rounded-md disabled:opacity-50 flex items-center justify-center",children:C.jsx(H0,{className:`w-5 h-5 ${g?"animate-spin":""}`})})]}),h&&C.jsx("p",{className:"text-xs text-red-400",children:h})]}),C.jsx("div",{className:"space-y-2 max-h-64 overflow-y-auto pr-1",children:i.modulations&&i.modulations.length>0?i.modulations.map(T=>C.jsx(bA,{mod:T,onUpdate:a,onRemove:u},T.id)):C.jsx("p",{className:"text-xs text-gray-500 text-center py-4",children:"No active patches."})})]}),C.jsx(ze,{label:"Master Volume",value:i.masterVolume,min:0,max:1,step:.01,onChange:T=>t("masterVolume",T)}),C.jsxs("div",{className:"pt-4 border-t border-gray-700 space-y-4",children:[C.jsx("h4",{className:"text-sm font-semibold text-cyan-300 uppercase tracking-wider",children:"Melody (CS-80)"}),C.jsx(Un,{label:"Active",checked:i.melody.enabled,onChange:T=>t("melody.enabled",T),small:!0}),C.jsxs("div",{className:i.melody.enabled?"":"opacity-50 pointer-events-none",children:[C.jsx(ze,{label:"Volume",value:i.melody.gain,min:0,max:1,step:.01,onChange:T=>t("melody.gain",T),mini:!0}),C.jsx(ze,{label:"Density",description:"How frequently notes play.",value:i.melody.density,min:.1,max:1,step:.1,onChange:T=>t("melody.density",T),mini:!0}),C.jsxs("div",{children:[C.jsx("label",{className:"block text-xs font-medium text-gray-400 mb-1",children:"Musical Scale"}),C.jsxs("select",{value:i.melody.scale,onChange:T=>t("melody.scale",T.target.value),className:"w-full px-2 py-1.5 bg-gray-700 border border-gray-600 rounded-md text-xs text-white focus:ring-2 focus:ring-cyan-500 outline-none",children:[C.jsx("option",{value:"dorian",children:"Dorian (Blade Runner)"}),C.jsx("option",{value:"phrygian",children:"Phrygian (Darker)"}),C.jsx("option",{value:"lydian",children:"Lydian (Dreamy)"})]})]})]})]}),C.jsxs("div",{className:"pt-4 border-t border-gray-700 space-y-4",children:[C.jsx("h4",{className:"text-sm font-semibold text-cyan-300 uppercase tracking-wider",children:"Arp (Pulse)"}),C.jsx(Un,{label:"Active",checked:i.arp.enabled,onChange:T=>t("arp.enabled",T),small:!0}),C.jsxs("div",{className:`space-y-3 ${i.arp.enabled?"":"opacity-50 pointer-events-none"}`,children:[C.jsx(ze,{label:"Volume",value:i.arp.gain,min:0,max:1,step:.01,onChange:T=>t("arp.gain",T),mini:!0}),C.jsx(ze,{label:"Speed",value:i.arp.speed,min:.5,max:2,step:.1,onChange:T=>t("arp.speed",T),mini:!0}),C.jsx(ze,{label:"Range (Octaves)",value:i.arp.octaves,min:1,max:3,step:1,onChange:T=>t("arp.octaves",T),mini:!0}),C.jsx(ze,{label:"Brightness (Filter)",value:i.arp.filter,min:100,max:4e3,step:50,onChange:T=>t("arp.filter",T),mini:!0}),C.jsxs("div",{children:[C.jsx("label",{className:"block text-xs font-medium text-gray-400 mb-1",children:"Direction"}),C.jsxs("select",{value:i.arp.direction??"up",onChange:T=>t("arp.direction",T.target.value),className:"w-full px-2 py-1.5 bg-gray-700 border border-gray-600 rounded-md text-xs text-white focus:ring-2 focus:ring-cyan-500 outline-none",children:[C.jsx("option",{value:"up",children:"Up (Ascending)"}),C.jsx("option",{value:"down",children:"Down (Descending)"}),C.jsx("option",{value:"updown",children:"Up & Down (Ping-Pong)"}),C.jsx("option",{value:"random",children:"Random"})]})]})]})]}),C.jsxs("div",{className:"pt-4 border-t border-gray-700 space-y-4",children:[C.jsx("h4",{className:"text-sm font-semibold text-cyan-300 uppercase tracking-wider",children:"Drone (Bass)"}),C.jsx(Un,{label:"Active",checked:i.drone.enabled,onChange:T=>t("drone.enabled",T),small:!0}),C.jsxs("div",{className:i.drone.enabled?"":"opacity-50 pointer-events-none",children:[C.jsx(ze,{label:"Volume",value:i.drone.gain,min:0,max:1,step:.01,onChange:T=>t("drone.gain",T),mini:!0}),C.jsx(ze,{label:"Brightness (Filter)",description:"Opens the lowpass filter.",value:i.drone.filter,min:50,max:1e3,step:10,onChange:T=>t("drone.filter",T),mini:!0}),C.jsx(ze,{label:"Pitch Tune",description:"Semitone offset from base note.",value:i.drone.pitch,min:-12,max:12,step:.5,onChange:T=>t("drone.pitch",T),mini:!0})]})]}),C.jsxs("div",{className:"pt-4 border-t border-gray-700 space-y-4",children:[C.jsx("h4",{className:"text-sm font-semibold text-cyan-300 uppercase tracking-wider",children:"Rhythm (Tom)"}),C.jsx(Un,{label:"Active",checked:i.rhythm.enabled,onChange:T=>t("rhythm.enabled",T),small:!0}),C.jsxs("div",{className:i.rhythm.enabled?"":"opacity-50 pointer-events-none",children:[C.jsx(ze,{label:"Volume",value:i.rhythm.gain,min:0,max:1,step:.01,onChange:T=>t("rhythm.gain",T),mini:!0}),C.jsx(ze,{label:"Tempo (BPM)",value:i.rhythm.bpm,min:30,max:200,step:1,onChange:T=>t("rhythm.bpm",T),mini:!0}),C.jsx(ze,{label:"Tone (Filter)",value:i.rhythm.filter,min:50,max:500,step:10,onChange:T=>t("rhythm.filter",T),mini:!0})]})]}),C.jsxs("div",{className:"pt-4 border-t border-gray-700 space-y-4",children:[C.jsx("h4",{className:"text-sm font-semibold text-cyan-300 uppercase tracking-wider",children:"Atmosphere (Wind)"}),C.jsx(Un,{label:"Active",checked:i.atmosphere.enabled,onChange:T=>t("atmosphere.enabled",T),small:!0}),C.jsx("div",{className:i.atmosphere.enabled?"":"opacity-50 pointer-events-none",children:C.jsx(ze,{label:"Volume",value:i.atmosphere.gain,min:0,max:1,step:.01,onChange:T=>t("atmosphere.gain",T),mini:!0})})]}),C.jsxs("div",{className:"pt-4 border-t border-gray-700 space-y-4",children:[C.jsx("h4",{className:"text-sm font-semibold text-cyan-300 uppercase tracking-wider",children:"Space (Reverb)"}),C.jsx(Un,{label:"Active",checked:i.reverb.enabled,onChange:T=>t("reverb.enabled",T),small:!0}),C.jsxs("div",{className:i.reverb.enabled?"":"opacity-50 pointer-events-none",children:[C.jsx(ze,{label:"Mix",value:i.reverb.mix,min:0,max:1,step:.01,onChange:T=>t("reverb.mix",T),mini:!0}),C.jsx(ze,{label:"Decay Time (s)",description:"Requires session reload to fully take effect.",value:i.reverb.decay,min:2,max:10,step:.5,onChange:T=>t("reverb.decay",T),mini:!0}),C.jsx(ze,{label:"Damping Tone",value:i.reverb.tone,min:500,max:5e3,step:100,onChange:T=>t("reverb.tone",T),mini:!0})]})]})]})]})},IA=()=>{const{sliders:i,terraformConfig:t,handleTerraformConfigChange:l}=An(),a=(t==null?void 0:t.targets)??[];return C.jsxs("div",{className:"space-y-4",children:[C.jsxs("div",{className:"flex items-start gap-3 p-3 bg-gray-900/50 rounded-lg border border-gray-700",children:[C.jsx(mg,{className:"w-8 h-8 text-cyan-400 mt-1 flex-shrink-0"}),C.jsx("p",{className:"text-xs text-gray-400",children:"Enable sliders to be affected by the 'Terraform' button. 'Magnitude' controls the strength of the change, and 'Probability' controls how often it's applied."})]}),i.map(u=>{const f=a.find(g=>g.variableName===u.variableName),p=!!f;return C.jsxs("div",{className:`p-3 rounded-lg transition-colors ${p?"bg-gray-800/70":"bg-gray-800/30"}`,children:[C.jsx("div",{className:"flex justify-between items-center",children:C.jsxs("label",{className:"flex items-center gap-3 text-sm font-medium text-gray-200 cursor-pointer",children:[C.jsx("input",{type:"checkbox",checked:p,onChange:g=>l(u.variableName,"enabled",g.target.checked),className:"w-5 h-5 bg-gray-700 border-gray-500 rounded text-cyan-500 focus:ring-2 focus:ring-cyan-500 focus:ring-offset-2 focus:ring-offset-gray-800 cursor-pointer"}),C.jsx("span",{children:u.name})]})}),p&&f&&C.jsxs("div",{className:"mt-4 grid grid-cols-2 gap-4",children:[C.jsxs("div",{children:[C.jsx("label",{className:"block text-xs text-gray-400 mb-1",children:"Magnitude"}),C.jsx(or,{value:f.magnitude,onChange:g=>l(u.variableName,"magnitude",g),step:.01,min:0})]}),C.jsxs("div",{children:[C.jsx("label",{className:"block text-xs text-gray-400 mb-1",children:"Probability"}),C.jsx(or,{value:f.probability??1,onChange:g=>l(u.variableName,"probability",g),step:.1,min:0,max:1})]})]})]},u.variableName)})]})},UA=()=>{const{controlConfig:i,handleControlConfigChange:t}=An(),l=[{key:"invertForward",label:"Forward / Backward",description:"Invert W/S keys for camera movement."},{key:"invertStrafe",label:"Strafe Left / Right",description:"Invert A/D keys for camera movement."},{key:"invertAscend",label:"Ascend / Descend",description:"Invert Space/Shift keys for camera movement."},{key:"invertPitch",label:"Look Up / Down",description:"Invert Up/Down arrow keys for camera look."},{key:"invertYaw",label:"Look Left / Right",description:"Invert Left/Right arrow keys for camera look."}],a=[{key:"forwardVelocity",label:"Forward Speed",description:"Controls speed of W/S keys."},{key:"strafeVelocity",label:"Strafe Speed",description:"Controls speed of A/D keys."},{key:"ascendVelocity",label:"Ascend Speed",description:"Controls speed of Space/Shift keys."},{key:"pitchVelocity",label:"Look Up/Down Speed",description:"Controls speed of Up/Down arrow keys."},{key:"yawVelocity",label:"Look L/R Speed",description:"Controls speed of Left/Right arrow keys."}];return C.jsxs("div",{className:"space-y-4",children:[C.jsxs("div",{children:[C.jsx("h3",{className:"text-sm font-semibold text-gray-400 px-1 mb-2",children:"Inversions"}),C.jsx("div",{className:"space-y-2",children:l.map(u=>C.jsx(Un,{label:u.label,description:u.description,checked:!!i[u.key],onChange:f=>t(u.key,f)},u.key))})]}),C.jsxs("div",{children:[C.jsx("h3",{className:"text-sm font-semibold text-gray-400 px-1 mb-2",children:"Velocities"}),C.jsx("div",{className:"space-y-2",children:a.map(u=>C.jsx(ze,{label:u.label,description:u.description,value:i[u.key]??.3,onChange:f=>t(u.key,f)},u.key))})]})]})},LA=()=>{const{shipConfig:i,handleShipConfigChange:t,addShipModulation:l,updateShipModulation:a,removeShipModulation:u}=An();return C.jsxs("div",{className:"space-y-6",children:[C.jsxs("div",{className:"space-y-4",children:[C.jsx("div",{className:"flex items-start gap-3 p-3 bg-gray-900/50 rounded-lg border border-gray-700",children:C.jsx("p",{className:"text-xs text-gray-400",children:"Mutate the fractal DNA of your ship. Changes update in real-time."})}),C.jsx(ze,{label:"Complexity",description:"Number of folding iterations. Higher is more detailed but slower.",value:i.complexity,min:1,max:12,step:1,onChange:f=>t("complexity",f)}),C.jsx(ze,{label:"Scale Factor",description:"Determines the overall size and spacing of fractal elements.",value:i.scale,min:1,max:3,step:.01,onChange:f=>t("scale",f)}),C.jsx(ze,{label:"Fold Mutation A",description:"Alters the primary folding angle.",value:i.fold1,min:0,max:2,step:.01,onChange:f=>t("fold1",f)}),C.jsx(ze,{label:"Fold Mutation B",description:"Alters the secondary folding angle.",value:i.fold2,min:0,max:2,step:.01,onChange:f=>t("fold2",f)}),C.jsx(ze,{label:"Twist Mutation",description:"Adds a twist to the fractal structure.",value:i.fold3,min:-1,max:1,step:.01,onChange:f=>t("fold3",f)}),C.jsx(ze,{label:"Longitudinal Stretch",description:"Stretches the ship along its forward axis.",value:i.stretch,min:.5,max:3,step:.01,onChange:f=>t("stretch",f)}),C.jsx(ze,{label:"Taper",description:"Cones the ship's shape from front to back. Positive values narrow the front.",value:i.taper,min:-1,max:1,step:.01,onChange:f=>t("taper",f)}),C.jsx(ze,{label:"Fractal Twist",description:"Spirals the ship's body along its length.",value:i.twist,min:-2,max:2,step:.01,onChange:f=>t("twist",f)}),C.jsxs("div",{className:"pt-2 border-t border-gray-700/50",children:[C.jsx("p",{className:"text-xs font-semibold text-gray-500 uppercase mb-2",children:"Asymmetry Controls"}),C.jsx(ze,{label:"Asymmetry X (L/R)",description:"Distorts the ship asymmetrically Left vs Right. Use with signed turning modulation.",value:i.asymmetryX,min:-1,max:1,step:.01,onChange:f=>t("asymmetryX",f)}),C.jsx(ze,{label:"Asymmetry Z (F/B)",description:"Distorts the ship asymmetrically Front vs Back.",value:i.asymmetryZ,min:-1,max:1,step:.01,onChange:f=>t("asymmetryZ",f)})]}),C.jsxs("div",{className:"pt-2 border-t border-gray-700/50",children:[C.jsx(ze,{label:"General Scale",description:"Controls the overall size of the entire ship.",value:i.generalScale??1,min:.1,max:3,step:.01,onChange:f=>t("generalScale",f)}),C.jsx(ze,{label:"Chase Camera Distance",description:"How far the camera is behind the ship.",value:i.chaseDistance??6.5,min:2,max:20,step:.01,onChange:f=>t("chaseDistance",f)}),C.jsx(ze,{label:"Material Opacity",description:"Controls the translucency of the ship's material. Lower values make it see-through.",value:i.translucency??1,min:0,max:1,step:.01,onChange:f=>t("translucency",f)})]})]}),C.jsxs("div",{className:"pt-4 border-t border-gray-700 space-y-4",children:[C.jsxs("div",{className:"flex items-center justify-between",children:[C.jsx("h4",{className:"text-sm font-semibold text-cyan-300 uppercase tracking-wider",children:"Shape-Shifting"}),C.jsx("button",{onClick:()=>l({id:Da(),enabled:!0,source:"turningSigned",target:"asymmetryX",amount:.5}),className:"text-xs bg-gray-700 hover:bg-gray-600 px-2 py-1 rounded text-white transition-colors",children:"+ Add Patch"})]}),C.jsx("div",{className:"flex items-start gap-3 p-3 bg-gray-900/50 rounded-lg border border-gray-700",children:C.jsx("p",{className:"text-xs text-gray-400",children:"Link flight dynamics (like speed or turning) to ship parameters to make it procedurally animate."})}),C.jsx("div",{className:"space-y-2 max-h-64 overflow-y-auto pr-1",children:i.modulations&&i.modulations.length>0?i.modulations.map(f=>C.jsx(wA,{mod:f,onUpdate:a,onRemove:u},f.id)):C.jsx("p",{className:"text-xs text-gray-500 text-center py-4",children:"No active shape-shifting patches."})})]})]})},PA=()=>{const{sessionSource:i,handleSourceChange:t,canvasSize:l,setCanvasSize:a,isHdEnabled:u,setIsHdEnabled:f,isFpsEnabled:p,setIsFpsEnabled:g,isHudEnabled:y,setIsHudEnabled:h,cameraControlsEnabled:v,EDITMODE:E,handleSaveSessionToFile:T,fileInputRef:R,getSessionStateJson:N}=An(),[w,z]=D.useState(!1),G=()=>{navigator.clipboard.writeText(N()).then(()=>{z(!0),setTimeout(()=>z(!1),2500)}).catch(Z=>{console.error("Failed to copy session JSON:",Z)})};return C.jsxs("div",{className:"space-y-6",children:[C.jsxs("div",{className:"space-y-4",children:[C.jsx("h3",{className:"text-sm font-semibold text-gray-400 px-1",children:"Display"}),C.jsxs("div",{children:[C.jsx("label",{htmlFor:"canvas-size",className:"block text-xs text-gray-400 mb-1 ml-1",children:"Canvas Size"}),C.jsx("select",{id:"canvas-size",value:l,onChange:Z=>a(Z.target.value),className:"w-full p-2 bg-gray-900/80 border border-gray-600 rounded-md text-sm text-gray-200 focus:ring-2 focus:ring-cyan-500 focus:border-cyan-500 outline-none",children:MA.map(({label:Z,value:J})=>C.jsx("option",{value:J,children:Z},J))})]}),C.jsx(Un,{label:"High Performance Mode",description:"Caps resolution for better performance on high-DPI displays.",checked:u,onChange:f}),C.jsx(Un,{label:"Show FPS",description:"Display a frames-per-second counter.",checked:p,onChange:g}),v&&C.jsx(Un,{label:"Show HUD in cockpit",description:"Display horizon, heading, and altitude information.",checked:y,onChange:h})]}),E&&C.jsxs("div",{className:"space-y-4 border-t border-gray-700 pt-4",children:[C.jsx("h3",{className:"text-sm font-semibold text-gray-400 px-1",children:"Session Data"}),C.jsxs("div",{className:"grid grid-cols-3 gap-2",children:[C.jsx("button",{onClick:T,className:"flex items-center justify-center px-3 py-2 bg-gray-800 hover:bg-gray-700 border border-gray-600 text-white font-semibold text-sm rounded-md transition-colors",title:"Download Session JSON",children:"Export"}),C.jsx("button",{onClick:()=>{var Z;return(Z=R.current)==null?void 0:Z.click()},className:"flex items-center justify-center px-3 py-2 bg-gray-800 hover:bg-gray-700 border border-gray-600 text-white font-semibold text-sm rounded-md transition-colors",title:"Upload Session JSON",children:"Import"}),C.jsx("button",{onClick:G,className:"flex items-center justify-center px-3 py-2 bg-gray-800 hover:bg-gray-700 border border-gray-600 text-white font-semibold text-sm rounded-md transition-colors relative",title:"Copy Session JSON to Clipboard",children:w?"Copied!":"Copy JSON"})]})]}),C.jsxs("div",{className:"space-y-4 border-t border-gray-700 pt-4",children:[C.jsx("h3",{className:"text-sm font-semibold text-gray-400 px-1",children:"Metadata"}),C.jsxs("div",{children:[C.jsx("label",{htmlFor:"source-url",className:"block text-xs text-gray-400 mb-1 ml-1",children:"World URL evolved from:"}),C.jsx("input",{id:"source-url",type:"text",value:i??"",onChange:Z=>t(Z.target.value),placeholder:"e.g., https://x.com/...",className:"w-full p-2 bg-gray-900/80 border border-gray-600 rounded-md text-sm text-gray-200 focus:ring-2 focus:ring-cyan-500 outline-none"})]})]})]})},qA=()=>{const{collisionThresholdRed:i,setCollisionThresholdRed:t,collisionThresholdYellow:l,setCollisionThresholdYellow:a}=An();return C.jsxs("div",{className:"space-y-4",children:[C.jsx("div",{className:"flex items-start gap-3 p-3 bg-gray-900/50 rounded-lg border border-gray-700",children:C.jsx("p",{className:"text-xs text-gray-400",children:"Adjust the sensitivity of the collision detection. 'Red Alert' stops movement, while 'Yellow Warning' just shows an indicator."})}),C.jsx(ze,{label:"Red Alert Distance",description:"Distance to surface that triggers a full collision and stops movement.",value:i,min:.001,max:.1,step:.001,onChange:t}),C.jsx(ze,{label:"Yellow Warning Distance",description:"Distance to surface that triggers the warning indicator.",value:l,min:.001,max:.2,step:.001,onChange:a})]})},GA=()=>{const{isControlsOpen:i,setIsControlsOpen:t,cameraControlsEnabled:l,EDITMODE:a,sessionSource:u,fileInputRef:f,handleSaveSessionToFile:p,setIsInteracting:g,getSessionStateJson:y}=An(),[h,v]=D.useState("sliders"),[E,T]=D.useState(null),[R,N]=D.useState({x:0,y:0}),w=D.useRef({x:0,y:0,panelX:0,panelY:0}),[z,G]=D.useState({width:450,height:600}),Z=D.useRef({x:0,y:0,width:0,height:0}),J=X=>{if(X.button!==0)return;X.preventDefault();const fe=X.target;fe.setPointerCapture(X.pointerId),w.current={x:X.clientX,y:X.clientY,panelX:R.x,panelY:R.y};const W=ge=>{const Re=ge.clientX-w.current.x,Te=ge.clientY-w.current.y;N({x:w.current.panelX+Re,y:w.current.panelY+Te})},j=ge=>{ge.pointerId===X.pointerId&&(fe.releasePointerCapture(X.pointerId),window.removeEventListener("pointermove",W),window.removeEventListener("pointerup",j),window.removeEventListener("pointercancel",j))};window.addEventListener("pointermove",W),window.addEventListener("pointerup",j),window.addEventListener("pointercancel",j)},ee=X=>{X.preventDefault(),X.stopPropagation();const fe=X.target;fe.setPointerCapture(X.pointerId),Z.current={x:X.clientX,y:X.clientY,width:z.width,height:z.height};const W=ge=>{const Re=ge.clientX-Z.current.x,Te=ge.clientY-Z.current.y;G({width:Math.max(320,Z.current.width+Re),height:Math.max(400,Z.current.height+Te)})},j=ge=>{fe.releasePointerCapture(X.pointerId),window.removeEventListener("pointermove",W),window.removeEventListener("pointerup",j),window.removeEventListener("pointercancel",j)};window.addEventListener("pointermove",W),window.addEventListener("pointerup",j),window.addEventListener("pointercancel",j)};D.useEffect(()=>{!a&&["terraform","collision","controls","settings"].includes(h)&&v("sliders")},[a,h]),D.useEffect(()=>{if(u)try{const fe=new URL(u).pathname.split("/"),W=fe[1]&&fe[1]!=="status"?fe[1]:null;T(W||null)}catch{T(null),console.error("Invalid source URL:",u)}else T(null)},[u]);const te=()=>g(!0),ie=()=>g(!1);return i?C.jsxs(C.Fragment,{children:[C.jsx("div",{className:"fixed inset-0 z-40 bg-black/50 transition-opacity",onClick:()=>t(!1),"aria-hidden":"true"}),C.jsxs("div",{className:`fixed bottom-0 left-0 right-0 z-50 bg-gray-800/60 backdrop-blur-md border-t border-gray-700 rounded-t-2xl shadow-2xl
                   sm:bottom-auto sm:top-1/2 sm:left-1/2 sm:rounded-xl sm:border sm:w-auto
                   flex flex-col max-h-[70vh]`,style:{...window.matchMedia("(min-width: 640px)").matches?{transform:`translate(calc(-50% + ${R.x}px), calc(-50% + ${R.y}px))`,width:`${z.width}px`,height:`${z.height}px`,maxHeight:"95vh",maxWidth:"95vw"}:{}},role:"dialog","aria-modal":"true","aria-labelledby":"controls-heading",onPointerDownCapture:te,onPointerUpCapture:ie,onLostPointerCapture:ie,children:[C.jsx("div",{onPointerDown:J,className:"hidden sm:block absolute top-0 left-1/2 -translate-x-1/2 w-24 h-6 pt-2 rounded-b-lg cursor-grab",title:"Drag to move",children:C.jsx("div",{className:"w-10 h-1 bg-gray-500/50 rounded-full mx-auto"})}),C.jsx("div",{onPointerDown:ee,className:"hidden sm:flex absolute bottom-0 right-0 w-6 h-6 cursor-nwse-resize z-50 items-end justify-end pb-1 pr-1",title:"Drag to resize",children:C.jsx("svg",{width:"12",height:"12",viewBox:"0 0 16 16",fill:"none",xmlns:"http://www.w3.org/2000/svg",className:"pointer-events-none opacity-50 text-gray-400",children:C.jsx("path",{d:"M11 15L15 11M7 15L15 7M3 15L15 3",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round"})})}),C.jsxs("div",{className:"flex-shrink-0 flex items-center justify-between px-4 pt-4 pb-2 border-b border-gray-700",children:[C.jsxs("h2",{id:"controls-heading",className:"text-lg font-semibold text-white flex items-center gap-2",children:[C.jsx(z0,{className:"w-5 h-5 text-cyan-400"}),C.jsx("span",{children:"Gemini Shader Pilot"}),C.jsxs("span",{className:"text-xs font-normal text-gray-400 ml-1",children:["by ",C.jsx("a",{href:"https://x.com/pitaru",target:"_blank",rel:"noopener noreferrer",className:"hover:text-white transition-colors",children:"@pitaru"})]})]}),C.jsx("div",{className:"flex items-center gap-3",children:C.jsx("button",{onClick:()=>t(!1),className:"text-gray-400 hover:text-white transition-colors p-1 rounded-full hover:bg-gray-700/50","aria-label":"Close controls",children:C.jsx(Bc,{className:"w-6 h-6"})})})]}),C.jsxs("div",{className:"flex-shrink-0 flex overflow-x-auto px-4 pt-2 gap-1 border-b border-gray-700 no-scrollbar",children:[C.jsx(wo,{label:"World",isActive:h==="sliders",onClick:()=>v("sliders")}),l&&C.jsx(wo,{label:"Ship",isActive:h==="ship",onClick:()=>v("ship")}),C.jsx(wo,{label:"Sound",isActive:h==="sound",onClick:()=>v("sound")}),a&&C.jsxs(C.Fragment,{children:[C.jsx(wo,{label:"Terraform",isActive:h==="terraform",onClick:()=>v("terraform")}),l&&C.jsx(wo,{label:"Collision",isActive:h==="collision",onClick:()=>v("collision")}),l&&C.jsx(wo,{label:"Controls",isActive:h==="controls",onClick:()=>v("controls")}),C.jsx(wo,{label:"System",isActive:h==="settings",onClick:()=>v("settings")})]})]}),C.jsxs("div",{className:"flex-grow overflow-y-auto p-4 custom-scrollbar",children:[h==="sliders"&&C.jsx(NA,{}),h==="ship"&&C.jsx(LA,{}),h==="sound"&&C.jsx(DA,{}),h==="terraform"&&C.jsx(IA,{}),h==="collision"&&C.jsx(qA,{}),h==="controls"&&C.jsx(UA,{}),h==="settings"&&C.jsx(PA,{})]}),E&&h==="sliders"&&C.jsx("div",{className:"flex-shrink-0 px-4 py-2 border-t border-gray-700 text-center",children:C.jsxs("a",{href:u,target:"_blank",rel:"noopener noreferrer",className:"text-xs text-cyan-400 hover:text-white transition-colors",children:["World Shader evolved from @",E]})})]})]}):null},Yn=({onPress:i,onRelease:t,children:l,className:a="",ariaLabel:u,isKeyPressed:f=!1})=>{const[p,g]=D.useState(!1),y=D.useRef(null),h=T=>{if(y.current===null){try{T.target.setPointerCapture(T.pointerId)}catch(R){console.warn("Pointer capture failed.",R)}y.current=T.pointerId,g(!0),i()}},v=T=>{y.current===T.pointerId&&(y.current=null,g(!1),t())},E=p||f;return C.jsx("div",{role:"button","aria-label":u,className:`w-10 h-10 sm:w-14 sm:h-14 bg-gray-500/30 backdrop-blur-sm border border-white/20 rounded-full flex items-center justify-center text-white transition-transform duration-100 ease-in-out select-none touch-none ${a} ${E?"bg-white/40 scale-90":""}`,onPointerDown:h,onPointerUp:v,onPointerCancel:v,onLostPointerCapture:v,children:l})},VA=({onPress:i,onRelease:t,power:l})=>{const[a,u]=D.useState(!1),f=D.useRef(null),p=R=>{if(f.current===null){try{R.target.setPointerCapture(R.pointerId)}catch(N){console.warn("Pointer capture failed.",N)}f.current=R.pointerId,u(!0),i()}},g=R=>{f.current===R.pointerId&&(f.current=null,u(!1),t())},y=l>=1,h=l<=.01,v=`${Math.min(1,l)*100}%`,E=y?"bg-cyan-400/50":"bg-white/40",T=y?"text-cyan-300":"text-white";return C.jsxs("div",{role:"button","aria-label":"Terraform Fractal",title:"Terraform",className:`w-16 h-16 sm:w-20 sm:h-20 bg-gray-500/30 backdrop-blur-sm border border-white/20 rounded-full flex items-center justify-center text-white transition-all duration-150 ease-in-out select-none touch-none transform relative overflow-hidden ${a?"scale-95":""} ${h&&!a?"opacity-70":""}`,onPointerDown:p,onPointerUp:g,onPointerCancel:g,onLostPointerCapture:g,children:[C.jsx("div",{className:`absolute bottom-0 left-0 w-full transition-colors duration-300 ${E}`,style:{height:v,transitionProperty:"height, background-color",transitionTimingFunction:"linear"}}),C.jsx(mg,{className:`w-8 h-8 sm:w-10 sm:h-10 relative z-10 transition-colors duration-300 ${T}`})]})},HA=()=>{const{pressKey:i,releaseKey:t,cameraControlsEnabled:l,pressedKeys:a,handleTerraformPress:u,handleTerraformRelease:f,terraformPower:p}=An();return l?C.jsxs("div",{className:"fixed bottom-0 left-0 right-0 p-2 sm:p-4 flex justify-between items-end pointer-events-none z-30","aria-hidden":"true",children:[C.jsxs("div",{className:"flex items-end gap-3 pointer-events-auto",children:[C.jsxs("div",{className:"grid grid-cols-3 grid-rows-3 w-28 h-28 sm:w-40 sm:h-40",children:[C.jsx("div",{className:"col-start-2 row-start-1 flex justify-center items-center",children:C.jsx(Yn,{onPress:()=>i("w"),onRelease:()=>t("w"),ariaLabel:"Move Forward",isKeyPressed:a.has("w"),children:C.jsx(Rc,{className:"w-5 h-5 sm:w-7 sm:h-7"})})}),C.jsx("div",{className:"col-start-1 row-start-2 flex justify-center items-center",children:C.jsx(Yn,{onPress:()=>i("a"),onRelease:()=>t("a"),ariaLabel:"Move Left",isKeyPressed:a.has("a"),children:C.jsx(qp,{className:"w-5 h-5 sm:w-7 sm:h-7"})})}),C.jsx("div",{className:"col-start-3 row-start-2 flex justify-center items-center",children:C.jsx(Yn,{onPress:()=>i("d"),onRelease:()=>t("d"),ariaLabel:"Move Right",isKeyPressed:a.has("d"),children:C.jsx(Gp,{className:"w-5 h-5 sm:w-7 sm:h-7"})})}),C.jsx("div",{className:"col-start-2 row-start-3 flex justify-center items-center",children:C.jsx(Yn,{onPress:()=>i("s"),onRelease:()=>t("s"),ariaLabel:"Move Backward",isKeyPressed:a.has("s"),children:C.jsx(xc,{className:"w-5 h-5 sm:w-7 sm:h-7"})})})]}),C.jsxs("div",{className:"flex flex-col gap-2 h-28 sm:h-40 justify-center pb-1 sm:pb-2",children:[C.jsx(Yn,{onPress:()=>i("shift"),onRelease:()=>t("shift"),ariaLabel:"Move Down",className:"!w-10 !h-16 sm:!w-12 sm:!h-20 !rounded-xl",isKeyPressed:a.has("shift"),children:C.jsx(Rc,{className:"w-5 h-5 sm:w-7 sm:h-7"})}),C.jsx(Yn,{onPress:()=>i(" "),onRelease:()=>t(" "),ariaLabel:"Move Up",className:"!w-10 !h-16 sm:!w-12 sm:!h-20 !rounded-xl",isKeyPressed:a.has(" "),children:C.jsx(xc,{className:"w-5 h-5 sm:w-7 sm:h-7"})})]})]}),C.jsx("div",{className:"absolute bottom-8 sm:bottom-14 left-1/2 -translate-x-1/2 pointer-events-auto",children:C.jsx(VA,{onPress:u,onRelease:f,power:p})}),C.jsx("div",{className:"pointer-events-auto",children:C.jsxs("div",{className:"grid grid-cols-3 grid-rows-3 w-28 h-28 sm:w-40 sm:h-40",children:[C.jsx("div",{className:"col-start-2 row-start-1 flex justify-center items-center",children:C.jsx(Yn,{onPress:()=>i("arrowup"),onRelease:()=>t("arrowup"),ariaLabel:"Look Up",isKeyPressed:a.has("arrowup"),children:C.jsx(Rc,{className:"w-5 h-5 sm:w-7 sm:h-7"})})}),C.jsx("div",{className:"col-start-1 row-start-2 flex justify-center items-center",children:C.jsx(Yn,{onPress:()=>i("arrowleft"),onRelease:()=>t("arrowleft"),ariaLabel:"Look Left",isKeyPressed:a.has("arrowleft"),children:C.jsx(qp,{className:"w-5 h-5 sm:w-7 sm:h-7"})})}),C.jsx("div",{className:"col-start-3 row-start-2 flex justify-center items-center",children:C.jsx(Yn,{onPress:()=>i("arrowright"),onRelease:()=>t("arrowright"),ariaLabel:"Look Right",isKeyPressed:a.has("arrowright"),children:C.jsx(Gp,{className:"w-5 h-5 sm:w-7 sm:h-7"})})}),C.jsx("div",{className:"col-start-2 row-start-3 flex justify-center items-center",children:C.jsx(Yn,{onPress:()=>i("arrowdown"),onRelease:()=>t("arrowdown"),ariaLabel:"Look Down",isKeyPressed:a.has("arrowdown"),children:C.jsx(xc,{className:"w-5 h-5 sm:w-7 sm:h-7"})})})]})})]}):null},zA=()=>{const{cameraRef:i,renderCameraRef:t,cameraVelocityRef:l,isHudEnabled:a,collisionState:u,viewModeTransition:f}=An(),p=D.useRef(null),g=D.useRef(u);return D.useEffect(()=>{g.current=u},[u]),D.useEffect(()=>{const y=p.current;if(!y||!a)return;const h=y.getContext("2d",{alpha:!0});if(!h)return;let v;const E=()=>{(y.width!==window.innerWidth||y.height!==window.innerHeight)&&(y.width=window.innerWidth,y.height=window.innerHeight),h.clearRect(0,0,y.width,y.height);const T=y.width,R=y.height,N=T/2,w=R/2,z=1-f,G=t.current,Z=G.rotation[0],J=G.rotation[1],ee=i.current.position[1]+1.49,te=l.current[1],ie=g.current;let X="0, 255, 255";if(ie==="approaching"?X="255, 200, 0":ie==="colliding"&&(X="255, 50, 50"),z>.01){h.strokeStyle=`rgba(${X}, ${.5*z})`,h.fillStyle=`rgba(${X}, ${.8*z})`,h.lineWidth=2,h.font="bold 12px monospace";const fe=Math.PI/2,W=-(Z/(fe/2))*(R/2),j=w+W;if(j>-100&&j<R+100){h.beginPath();const ye=100;h.moveTo(N-300,j),h.lineTo(N-ye,j),h.moveTo(N+ye,j),h.lineTo(N+300,j),h.stroke()}h.strokeStyle=`rgba(255, 255, 255, ${.3*z})`,h.beginPath(),h.moveTo(N-20,w),h.lineTo(N-5,w),h.moveTo(N+5,w),h.lineTo(N+20,w),h.moveTo(N,w-15),h.lineTo(N,w-5),h.stroke(),h.fillStyle=`rgba(255,255,255,${.5*z})`,h.fillRect(N-1,w-1,2,2);const ge=`ALT: ${ee.toFixed(2)}`,Re=`V/S: ${(te*10).toFixed(2)}`;h.fillStyle=`rgba(0, 0, 0, ${.5*z})`,h.fillRect(N+345,w-52,80,18),h.fillRect(N+345,w-32,80,18),h.fillStyle=`rgba(${X}, ${.8*z})`,h.textAlign="left",h.fillText(ge,N+350,w-40),h.fillText(Re,N+350,w-20);const qe=`${((-J*180/Math.PI%360+360)%360).toFixed(0)}`;h.fillStyle=`rgba(0, 0, 0, ${.5*z})`,h.fillRect(N-20,48,40,18),h.fillStyle=`rgba(${X}, ${.8*z})`,h.textAlign="center",h.fillText(qe,N,60);const Ge=100,P=w,K=N+330;h.strokeStyle=`rgba(${X}, ${.3*z})`,h.fillStyle=`rgba(0, 0, 0, ${.3*z})`,h.fillRect(K-3,P-Ge/2,6,Ge),h.strokeRect(K-3,P-Ge/2,6,Ge);const re=Math.max(-.5,Math.min(.5,te)),_e=P-re/.5*(Ge/2);h.fillStyle=`rgba(${X}, ${.8*z})`,h.fillRect(K-3,_e-2,6,4)}v=requestAnimationFrame(E)};return E(),()=>{cancelAnimationFrame(v)}},[a,i,t,l,f]),a?C.jsx("canvas",{ref:p,className:"fixed inset-0 z-20 pointer-events-none"}):null},BA=`#version 300 es
in vec2 a_position;
out vec2 v_uv;
void main() {
    v_uv = a_position;
    gl_Position = vec4(a_position, 0.0, 1.0);
}
`,kA=`#version 300 es
precision highp float;
in vec2 v_uv;
out vec4 outColor;

uniform float u_time;
uniform vec2 u_resolution;
uniform mat4 u_shipRot;
uniform float u_thrust;
uniform float u_brake;
uniform float u_yaw_velocity;
uniform float u_pitch_velocity;
uniform float u_thrust_ignition_time;

// Ship DNA from sliders
uniform float u_complexity;
uniform float u_fold1;
uniform float u_fold2;
uniform float u_fold3;
uniform float u_scale;
uniform float u_stretch;
uniform float u_taper;
uniform float u_twist;
uniform float u_asymmetryX;
uniform float u_asymmetryY;
uniform float u_asymmetryZ;

// Parameter Biases
uniform float u_twistAsymX;
uniform float u_scaleAsymX;
uniform float u_fold1AsymX;
uniform float u_fold2AsymX;

uniform float u_generalScale;
uniform float u_chaseDistance;
uniform float u_chaseVerticalOffset;
uniform float u_translucency;

#define MAX_STEPS 64
#define MAX_DIST 15.0
#define SURF_DIST 0.001

mat2 rot(float a) { float s=sin(a), c=cos(a); return mat2(c, -s, s, c); }

// KIFS Fractal for Ship Body
float sdFractalShip(vec3 p) {
    // Store original position for asymmetry calculations
    vec3 pOrig = p;

    // Apply Asymmetry Distortion first (Spatial scaling based on sign)
    p.x *= 1.0 - sign(p.x) * u_asymmetryX * 0.5;
    p.y *= 1.0 - sign(p.y) * u_asymmetryY * 0.5;
    p.z *= 1.0 - sign(p.z) * u_asymmetryZ * 0.5;

    p /= u_generalScale;
    p.z /= u_stretch; // Longitudinal stretch
    
    // Tapering along Z axis (before rotation, Z is longitudinal)
    p.xy *= 1.0 + p.z * u_taper;

    // --- Asymmetric Twisting ---
    // Base twist + gradient based on original X position
    // If u_twistAsymX > 0, positive X (Right) twists more.
    float localTwist = u_twist + pOrig.x * u_twistAsymX;
    p.xy *= rot(p.z * localTwist * 2.0);

    // Initial orientation to make it face forward (-Z)
    p.yz *= rot(1.57); 

    float s = 1.0;
    for(int i=0; i<int(u_complexity); i++) {
        // --- Asymmetric Folding ---
        // Base fold + gradient based on original X position
        // Note: pOrig.x is used to keep the bias fixed to the ship's original side
        float localFold1 = u_fold1 + pOrig.x * u_fold1AsymX;
        float localFold2 = u_fold2 + pOrig.x * u_fold2AsymX;

        // Folding space
        p = abs(p) - vec3(localFold1, localFold2, 0.3)/s;
        p.xz *= rot(u_fold3);
        
        // --- Asymmetric Scaling ---
        float localScale = u_scale + pOrig.x * u_scaleAsymX * 0.2;
        p *= localScale;
        s *= localScale;
    }
    // Base shape: a box that gets folded into the fractal
    float d = length(max(abs(p) - vec3(0.1, 0.8, 0.1), 0.0));
    return d/s * u_generalScale;
}

// Main SDF mapping the whole ship
float map(vec3 p) {
    // Apply ship rotation (pitch/yaw/roll)
    p = (inverse(u_shipRot) * vec4(p, 1.0)).xyz;

    // Main Body
    float dBody = sdFractalShip(p);
    
    // Engines (simple cylinders at the back)
    vec3 pEng = p;
    pEng.x = abs(pEng.x);
    pEng -= vec3(0.5, 0.0, 1.2); // Position at back
    float dEng = max(length(pEng.xy) - 0.2, abs(pEng.z) - 0.4);
    
    // Flaps (boxes at sides)
    vec3 pFlap = p;
    pFlap.x = abs(pFlap.x);
    pFlap -= vec3(1.1, 0.0, 0.2);
    // Rotate flaps when braking
    pFlap.yz *= rot(u_brake * 0.8);
    float dFlap = length(max(abs(pFlap) - vec3(0.4, 0.05, 0.3), 0.0));

    // Smooth blend body and dynamic parts
    float d = -log(exp(-dBody*12.0) + exp(-dEng*12.0) + exp(-dFlap*12.0)) / 12.0;
    return d;
}

// Calculate normal for lighting
vec3 getNormal(vec3 p) {
    vec2 e = vec2(0.001, 0.0);
    return normalize(vec3(
        map(p + e.xyy) - map(p - e.xyy),
        map(p + e.yxy) - map(p - e.yxy),
        map(p + e.yyx) - map(p - e.yyx)
    ));
}

void main() {
    // Setup Ray from Chase Camera perspective
    vec2 uv = (gl_FragCoord.xy * 2.0 - u_resolution.xy) / u_resolution.y;
    vec3 ro = vec3(0.0, u_chaseVerticalOffset, u_chaseDistance); // Fixed chase camera relative to ship center (0,0,0)
    vec3 rd = normalize(vec3(uv, -1.5)); // Looking forward (-Z)

    float d = 0.0, t = 0.0;
    for(int i = 0; i < MAX_STEPS; i++) {
        vec3 p = ro + rd * t;
        d = map(p);
        if(d < SURF_DIST || t > MAX_DIST) break;
        t += d;
    }

    if(t < MAX_DIST) {
        vec3 p = ro + rd * t;
        vec3 n = getNormal(p);
        vec3 l = normalize(vec3(1.0, 2.0, 3.0)); // Fixed light source

        // Basic lighting
        float diff = max(dot(n, l), 0.0);
        float amb = 0.1;
        vec3 col = vec3(0.2, 0.25, 0.3) * (diff + amb);
        
        // Rim lighting
        float rim = pow(1.0 - max(dot(-rd, n), 0.0), 4.0);
        col += vec3(0.1, 0.6, 1.0) * rim * 0.8;

        // Calculate local coordinates for emissive mapping
        vec3 localP = (inverse(u_shipRot) * vec4(p, 1.0)).xyz;
        
        // --- Engine Glow ---
        // Wider mask to accommodate the ignition animation starting point
        float engineMask = smoothstep(0.4, 1.5, localP.z) * (1.0 - smoothstep(0.4, 1.0, abs(localP.x)));
        
        // Ignition Animation
        float timeSinceIgnition = u_time - u_thrust_ignition_time;
        float ignitionDuration = 0.3; // Animation duration in seconds

        // Ignition pulse travels from front (z=0.5) to back (z=1.5)
        float pulseProgress = clamp(timeSinceIgnition / ignitionDuration, 0.0, 1.0);
        float ignitionFrontZ = mix(0.5, 1.5, pulseProgress);

        // Moving pulse of light
        float pulseWidth = 0.15;
        float pulseShape = smoothstep(0.0, pulseWidth, localP.z - (ignitionFrontZ - pulseWidth)) * 
                           smoothstep(0.0, -pulseWidth, localP.z - (ignitionFrontZ + pulseWidth));
        float pulseGlow = pulseShape * 2.5 * (1.0 - pulseProgress); // Bright pulse that fades

        // Sustained Glow
        float wave1 = sin(localP.z * 8.0) * 0.5 + 0.5;
        float wave2 = sin(localP.z * 5.0) * 0.5 + 0.5;
        float sustainedIntensity = 0.2 + pow(wave1, 3.0) * 1.0 + pow(wave2, 5.0) * 0.8;

        // The sustained glow appears as the ignition pulse passes over it
        float sustainedVisibility = smoothstep(ignitionFrontZ - 0.2, ignitionFrontZ, localP.z);
        if (timeSinceIgnition > ignitionDuration) {
            sustainedVisibility = 1.0; // Fully visible after animation
        }
        float finalSustainedGlow = mix(0.1, sustainedIntensity, u_thrust * sustainedVisibility);

        // Combine glows
        float totalGlow = finalSustainedGlow + pulseGlow;
        col += vec3(1.0, 0.4, 0.05) * engineMask * totalGlow;

        // Flap Glow - asymmetric for turning
        float leftBrakeAmount = u_brake + max(0.0, u_yaw_velocity * 2.5); // Turn right, left brake lights up
        float rightBrakeAmount = u_brake + max(0.0, -u_yaw_velocity * 2.5); // Turn left, right brake lights up

        float flapMaskLeft = smoothstep(0.8, 1.6, localP.x) * (1.0 - smoothstep(0.0, 0.8, -localP.x));
        float flapMaskRight = smoothstep(0.8, 1.6, -localP.x) * (1.0 - smoothstep(0.0, 0.8, localP.x));

        col += vec3(1.0, 0.1, 0.1) * flapMaskLeft * leftBrakeAmount * 2.0;
        col += vec3(1.0, 0.1, 0.1) * flapMaskRight * rightBrakeAmount * 2.0;

        // Pitch maneuver lights
        // Pitching up (negative velocity) lights bottom. Pitching down (positive velocity) lights top.
        float pitchUpAmount = max(0.0, -u_pitch_velocity * 4.0);
        float pitchDownAmount = max(0.0, u_pitch_velocity * 4.0);

        // Define masks for top and bottom surfaces, concentrated on the main body/wings area
        float pitchLightAreaMask = smoothstep(0.8, 0.0, abs(localP.z));
        float topMask = smoothstep(0.2, 0.4, localP.y) * pitchLightAreaMask;
        float bottomMask = smoothstep(-0.2, -0.4, localP.y) * pitchLightAreaMask;

        col += vec3(1.0, 0.1, 0.1) * topMask * pitchDownAmount;
        col += vec3(1.0, 0.1, 0.1) * bottomMask * pitchUpAmount;

        // Add alpha for transparency around the ship
        outColor = vec4(col, u_translucency);
    } else {
        outColor = vec4(0.0); // Transparent background
    }
}
`,Qs={identity:i=>{i.fill(0),i[0]=1,i[5]=1,i[10]=1,i[15]=1},rotateX:(i,t,l)=>{let a=Math.sin(l),u=Math.cos(l),f=t[4],p=t[5],g=t[6],y=t[7],h=t[8],v=t[9],E=t[10],T=t[11];i.set(t),i[4]=f*u+h*a,i[5]=p*u+v*a,i[6]=g*u+E*a,i[7]=y*u+T*a,i[8]=h*u-f*a,i[9]=v*u-p*a,i[10]=E*u-g*a,i[11]=T*u-y*a},rotateY:(i,t,l)=>{let a=Math.sin(l),u=Math.cos(l),f=t[0],p=t[1],g=t[2],y=t[3],h=t[8],v=t[9],E=t[10],T=t[11];i.set(t),i[0]=f*u-h*a,i[1]=p*u-v*a,i[2]=g*u-E*a,i[3]=y*u-T*a,i[8]=f*a+h*u,i[9]=p*a+v*u,i[10]=g*a+E*u,i[11]=y*a+T*u},rotateZ:(i,t,l)=>{let a=Math.sin(l),u=Math.cos(l),f=t[0],p=t[1],g=t[2],y=t[3],h=t[4],v=t[5],E=t[6],T=t[7];i.set(t),i[0]=f*u+h*a,i[1]=p*u+v*a,i[2]=g*u+T*a,i[3]=y*u+T*a,i[4]=h*u-f*a,i[5]=v*u-p*a,i[6]=E*u-g*a,i[7]=T*u-y*a}},FA=()=>{const{viewMode:i,pressedKeys:t,controlConfig:l,effectiveShipConfigRef:a,cameraAngularVelocityRef:u,shipConfig:f}=An(),p=D.useRef(null),g=D.useRef({pitch:0,yaw:0,roll:0}),y=D.useRef(f);D.useEffect(()=>{y.current=f},[f]);const h=D.useRef(t);D.useEffect(()=>{h.current=t},[t]);const v=D.useRef(l);return D.useEffect(()=>{v.current=l},[l]),D.useEffect(()=>{const E=p.current;if(!E||i!=="chase")return;const T=E.getContext("webgl2",{alpha:!0,depth:!1,antialias:!1});if(!T)return;T.enable(T.BLEND),T.blendFunc(T.SRC_ALPHA,T.ONE_MINUS_SRC_ALPHA);const R=(fe,W)=>{const j=T.createShader(fe);return T.shaderSource(j,W),T.compileShader(j),T.getShaderParameter(j,T.COMPILE_STATUS)||console.error(T.getShaderInfoLog(j)),j},N=T.createProgram();T.attachShader(N,R(T.VERTEX_SHADER,BA)),T.attachShader(N,R(T.FRAGMENT_SHADER,kA)),T.linkProgram(N),T.useProgram(N);const w={uRes:T.getUniformLocation(N,"u_resolution"),uTime:T.getUniformLocation(N,"u_time"),uShipRot:T.getUniformLocation(N,"u_shipRot"),uThrust:T.getUniformLocation(N,"u_thrust"),uThrustIgnitionTime:T.getUniformLocation(N,"u_thrust_ignition_time"),uBrake:T.getUniformLocation(N,"u_brake"),uYawVelocity:T.getUniformLocation(N,"u_yaw_velocity"),uPitchVelocity:T.getUniformLocation(N,"u_pitch_velocity"),uComplexity:T.getUniformLocation(N,"u_complexity"),uFold1:T.getUniformLocation(N,"u_fold1"),uFold2:T.getUniformLocation(N,"u_fold2"),uFold3:T.getUniformLocation(N,"u_fold3"),uScale:T.getUniformLocation(N,"u_scale"),uStretch:T.getUniformLocation(N,"u_stretch"),uTaper:T.getUniformLocation(N,"u_taper"),uTwist:T.getUniformLocation(N,"u_twist"),uAsymmetryX:T.getUniformLocation(N,"u_asymmetryX"),uAsymmetryY:T.getUniformLocation(N,"u_asymmetryY"),uAsymmetryZ:T.getUniformLocation(N,"u_asymmetryZ"),uTwistAsymX:T.getUniformLocation(N,"u_twistAsymX"),uScaleAsymX:T.getUniformLocation(N,"u_scaleAsymX"),uFold1AsymX:T.getUniformLocation(N,"u_fold1AsymX"),uFold2AsymX:T.getUniformLocation(N,"u_fold2AsymX"),uGeneralScale:T.getUniformLocation(N,"u_generalScale"),uChaseDistance:T.getUniformLocation(N,"u_chaseDistance"),uChaseVerticalOffset:T.getUniformLocation(N,"u_chaseVerticalOffset"),uTranslucency:T.getUniformLocation(N,"u_translucency")},z=T.createVertexArray();T.bindVertexArray(z);const G=T.createBuffer();T.bindBuffer(T.ARRAY_BUFFER,G),T.bufferData(T.ARRAY_BUFFER,new Float32Array([-1,-1,1,-1,-1,1,-1,1,1,-1,1,1]),T.STATIC_DRAW),T.enableVertexAttribArray(0),T.vertexAttribPointer(0,2,T.FLOAT,!1,0,0);const Z=new Float32Array(16);let J=0,ee=0;const te={level:0,isThrusting:!1,ignitionTime:-100},ie={current:0},X=fe=>{const W=Math.min((fe-J)/1e3,.1),j=fe*.001;J=fe;const ge=window.devicePixelRatio||1,Re=E.clientWidth*ge,Te=E.clientHeight*ge;(E.width!==Re||E.height!==Te)&&(E.width=Re,E.height=Te,T.viewport(0,0,Re,Te)),T.clearColor(0,0,0,0),T.clear(T.COLOR_BUFFER_BIT);const qe=h.current.has("s")&&!v.current.invertForward||h.current.has("w")&&v.current.invertForward,Ge=h.current.has("w")&&!v.current.invertForward||h.current.has("s")&&v.current.invertForward;qe&&!te.isThrusting&&(te.ignitionTime=j),te.isThrusting=qe;const P=8;te.level+=((qe?1:0)-te.level)*P*W,ie.current+=((Ge?1:0)-ie.current)*P*W;const K=-u.current[1]*1.2,re=u.current[0],_e=-re*1+(y.current.pitchOffset??0);g.current.yaw+=(K-g.current.yaw)*3*W,g.current.pitch+=(_e-g.current.pitch)*3*W,g.current.roll+=(K*1.5-g.current.roll)*3*W,Qs.identity(Z),Qs.rotateY(Z,Z,g.current.yaw),Qs.rotateX(Z,Z,g.current.pitch),Qs.rotateZ(Z,Z,g.current.roll),T.useProgram(N),T.uniform2f(w.uRes,Re,Te),T.uniform1f(w.uTime,j),T.uniformMatrix4fv(w.uShipRot,!1,Z),T.uniform1f(w.uThrust,te.level),T.uniform1f(w.uThrustIgnitionTime,te.ignitionTime),T.uniform1f(w.uBrake,ie.current),T.uniform1f(w.uYawVelocity,K),T.uniform1f(w.uPitchVelocity,re);const ye=a.current;T.uniform1f(w.uComplexity,ye.complexity),T.uniform1f(w.uFold1,ye.fold1),T.uniform1f(w.uFold2,ye.fold2),T.uniform1f(w.uFold3,ye.fold3),T.uniform1f(w.uScale,ye.scale),T.uniform1f(w.uStretch,ye.stretch),T.uniform1f(w.uTaper,ye.taper),T.uniform1f(w.uTwist,ye.twist),T.uniform1f(w.uAsymmetryX,ye.asymmetryX),T.uniform1f(w.uAsymmetryY,ye.asymmetryY),T.uniform1f(w.uAsymmetryZ,ye.asymmetryZ),T.uniform1f(w.uTwistAsymX,ye.twistAsymX),T.uniform1f(w.uScaleAsymX,ye.scaleAsymX),T.uniform1f(w.uFold1AsymX,ye.fold1AsymX),T.uniform1f(w.uFold2AsymX,ye.fold2AsymX),T.uniform1f(w.uGeneralScale,y.current.generalScale??1),T.uniform1f(w.uChaseDistance,y.current.chaseDistance??6.5),T.uniform1f(w.uChaseVerticalOffset,y.current.chaseVerticalOffset??1),T.uniform1f(w.uTranslucency,y.current.translucency??1),T.bindVertexArray(z),T.drawArrays(T.TRIANGLES,0,6),ee=requestAnimationFrame(X)};return X(performance.now()),()=>{cancelAnimationFrame(ee),T.deleteProgram(N)}},[i]),i!=="chase"?null:C.jsx("canvas",{ref:p,className:"absolute top-0 left-0 w-full h-full pointer-events-none z-10"})};/**
 * @license
 * SPDX-License-Identifier: Apache-2.0
*/var kg=(i=>(i[i.IDLE=0]="IDLE",i[i.ADJUSTING_SLIDERS=1]="ADJUSTING_SLIDERS",i[i.SMART_SLIDER_CREATION=2]="SMART_SLIDER_CREATION",i[i.MODIFYING_CODE=3]="MODIFYING_CODE",i[i.ENABLE_CAMERA_CONTROLS=4]="ENABLE_CAMERA_CONTROLS",i[i.SOUND=5]="SOUND",i))(kg||{});/**
 * @license
 * SPDX-License-Identifier: Apache-2.0
*/const Zs=()=>{const i=window.location.hash.substring(1);if(!i)return{};const t={};return i.split("&").forEach(l=>{const a=l.split("=");a.length===2&&(t[decodeURIComponent(a[0])]=decodeURIComponent(a[1]))}),t},OA=i=>Object.entries(i).map(([t,l])=>`${encodeURIComponent(t)}=${encodeURIComponent(l)}`).join("&"),It=new Float32Array(3),gl=new Float32Array(3),YA=(i,t,l)=>{const a=t.slider_fractalScale??.37,u=t.slider_fractalRotation??1.09,f=t.slider_fractalPulseStrength??0;It[0]=i[0],It[1]=i[1],It[2]=i[2];let p=-It[1],g=58;for(;g>.05;){const y=u+Math.sin(l*1+It[1]*5)*f,h=Math.cos(y),v=Math.sin(y);gl[0]=It[0]*h+It[2]*v,gl[1]=It[1],gl[2]=-It[0]*v+It[2]*h;const E=g+g;let T=(gl[0]%E+E)%E,R=(gl[1]%E+E)%E,N=(gl[2]%E+E)%E;T-=g,R-=g,N-=g,T=Math.abs(T),R=Math.abs(R),N=Math.abs(N);const w=g*.9;It[0]=w-T,It[1]=w-R,It[2]=w-N,p=Math.max(p,Math.min(It[0],It[1],It[2])),g*=a}return p},Nc="100%",un={enabled:!0,masterVolume:.5,reverb:{enabled:!0,mix:.5,decay:5,tone:2e3},drone:{enabled:!0,gain:.4,filter:100,pitch:0},atmosphere:{enabled:!0,gain:.2,texture:"grit"},melody:{enabled:!0,gain:.3,density:.4,scale:"dorian"},arp:{enabled:!0,gain:.25,speed:1,octaves:2,filter:600,direction:"updown"},rhythm:{enabled:!0,gain:.4,bpm:60,filter:150},modulations:[{id:"1",enabled:!0,source:"speed",target:"drone.filter",amount:.4},{id:"5",enabled:!0,source:"altitude",target:"atmosphere.gain",amount:.15},{id:"6",enabled:!0,source:"altitude",target:"drone.pitch",amount:-.1},{id:"new1",enabled:!0,source:"pitch",target:"arp.direction",amount:1.5},{id:"new2",enabled:!0,source:"speed",target:"arp.speed",amount:.8},{id:"new3",enabled:!0,source:"pitch",target:"arp.octaves",amount:1}]},JA={masterVolume:1,"drone.gain":1,"drone.filter":2e3,"drone.pitch":24,"atmosphere.gain":1,"arp.gain":1,"arp.speed":3,"arp.filter":4e3,"arp.octaves":3,"arp.direction":1,"rhythm.gain":1,"rhythm.filter":2e3,"rhythm.bpm":100,"melody.gain":1,"melody.density":1,"reverb.mix":1,"reverb.tone":5e3},XA={complexity:5,fold1:.5,fold2:.5,fold3:1,scale:.5,stretch:1,taper:1,twist:1,asymmetryX:1,asymmetryY:1,asymmetryZ:1,twistAsymX:1,scaleAsymX:1,fold1AsymX:.5,fold2AsymX:.5},cg={dorian:[62,64,65,67,69,71,72,74],phrygian:[62,63,65,67,69,70,72],lydian:[62,64,66,67,69,71,73]},bc=i=>440*Math.pow(2,(i-69)/12),ba=[0,-1.49,0],$s=[.1,0],KA=()=>{const[i,t]=D.useState(""),[l,a]=D.useState([]),[u,f]=D.useState({}),p=D.useRef(u),g=D.useRef({position:[...ba],rotation:[...$s],roll:0}),y=D.useRef({position:[...ba],rotation:[...$s],roll:0}),[h,v]=D.useState(!1),[E,T]=D.useState("chase"),[R,N]=D.useState(1),w=D.useRef({current:1,target:1}),z=D.useRef(new Set),[G,Z]=D.useState(new Set),J=D.useRef([0,0,0]),ee=D.useRef([0,0]),[te,ie]=D.useState(Nc),[X,fe]=D.useState(!1),[W,j]=D.useState(!1),[ge,Re]=D.useState(!1),[Te,qe]=D.useState(!1),[Ge,P]=D.useState(!0),[K,re]=D.useState({}),_e=D.useRef(K),[ye,x]=D.useState(null),[O,ne]=D.useState(!1),ae=D.useRef(!1),me=D.useRef(0),[xe,De]=D.useState("none"),at=D.useRef("none"),[We,Rn]=D.useState(0),cn=D.useRef(0),Kt=D.useRef(0),[fn,Qt]=D.useState(.002),yi=D.useRef(.002),[Jn,Ia]=D.useState(.02),Io=D.useRef(.02),[Al,Ua]=D.useState(0),[Rl,Zc]=D.useState(0),[ur,qt]=D.useState(0),[cr,fr]=D.useState(0),[La,xl]=D.useState(0),dr=D.useRef([0,0,0]),Pa=D.useRef([0,0,0]),mr=D.useRef([0,0,0]),pr=D.useRef(0),[bt,Lt]=D.useState("1"),dn=D.useRef(bt),wt=D.useRef({}),Ml=D.useRef({}),Uo=D.useRef({}),Nl=D.useRef(!1),[io,Lo]=D.useState(1),Zt=D.useRef(1),[Gt,oo]=D.useState(null),vi=D.useRef(Gt),[qn,Ti]=D.useState(un),st=D.useRef(qn),[$t,Si]=D.useState({complexity:6,fold1:.75,fold2:.85,fold3:.15,scale:1.65,stretch:1.2,taper:0,twist:0,asymmetryX:0,asymmetryY:0,asymmetryZ:0,twistAsymX:0,scaleAsymX:0,fold1AsymX:0,fold2AsymX:0,chaseDistance:6.5,chaseVerticalOffset:0,pitchOffset:0,generalScale:1,translucency:1,modulations:[]}),bl=D.useRef($t),{modulations:hr,...qa}=$t,Po=D.useRef(qa),ft=D.useRef(null),Vt=D.useRef(null),Gn=D.useRef({rhythmBpm:un.rhythm.bpm,arpSpeed:un.arp.speed,arpOctaves:un.arp.octaves,melodyDensity:un.melody.density}),Wt=D.useRef(0),rt=D.useRef(0),Tt=D.useRef(0),dt=D.useRef(0),lo=D.useRef(1),wl=D.useRef(0),Ga=D.useRef(null),Dl=D.useRef(0),Ei=D.useRef(l),Il=D.useRef({speed:0,acceleration:0,altitude:0,descent:0,turning:0,turningSigned:0,heading:0,pitch:0,proximity:0,time:0}),Xn=D.useRef({masterVolume:0,"drone.gain":0,"drone.filter":0,"drone.pitch":0,"atmosphere.gain":0,"arp.gain":0,"arp.speed":0,"arp.filter":0,"arp.octaves":0,"arp.direction":0,"rhythm.gain":0,"rhythm.filter":0,"rhythm.bpm":0,"melody.gain":0,"melody.density":0,"reverb.mix":0,"reverb.tone":0}),_i=D.useRef(new Float32Array(3));D.useRef(new Float32Array(3)),D.useEffect(()=>{p.current=u},[u]),D.useEffect(()=>{_e.current=K},[K]),D.useEffect(()=>{st.current=qn},[qn]),D.useEffect(()=>{bl.current=$t},[$t]),D.useEffect(()=>{vi.current=Gt},[Gt]),D.useEffect(()=>{dn.current=bt},[bt]),D.useEffect(()=>{Ei.current=l},[l]);const Kn=D.useCallback(q=>{T(q),w.current.target=q==="chase"?1:0},[]),Ci=(q,H)=>{const k=q.sampleRate*H,Q=q.createBuffer(2,k,q.sampleRate);for(let se=0;se<2;se++){const le=Q.getChannelData(se);for(let $=0;$<k;$++)le[$]=Math.random()*2-1}return Q},et=D.useCallback(()=>{ft.current&&ft.current.state!=="closed"&&ft.current.close().catch(q=>console.warn("Audio close error:",q)),ft.current=null,Vt.current=null},[]),ao=D.useCallback(()=>{if(ft.current)return;const q=window.AudioContext||window.webkitAudioContext;if(!q)return;const H=new q;ft.current=H;const k=st.current;Gn.current={rhythmBpm:k.rhythm.bpm,arpSpeed:k.arp.speed,arpOctaves:k.arp.octaves,melodyDensity:k.melody.density};const Q=H.createGain();Q.gain.value=k.masterVolume;const se=H.createDynamicsCompressor();se.threshold.value=-2,se.ratio.value=12,Q.connect(se),se.connect(H.destination);const le={masterGain:Q};let $;if(k.reverb.enabled){$={input:H.createGain(),output:H.createGain(),setTone:be=>{Ee&&Ee.frequency.setTargetAtTime(be,H.currentTime,.1)}};const he=H.createConvolver(),ce=k.reverb.decay,Se=H.sampleRate*ce,Ce=H.createBuffer(2,Se,H.sampleRate);for(let be=0;be<Se;be++){const ot=Math.pow(1-be/Se,4);Ce.getChannelData(0)[be]=(Math.random()*2-1)*ot*.8,Ce.getChannelData(1)[be]=(Math.random()*2-1)*ot*.8}he.buffer=Ce;const Ee=H.createBiquadFilter();Ee.type="lowpass",Ee.frequency.value=k.reverb.tone,$.input.connect(Ee),Ee.connect(he),he.connect($.output),$.output.connect(Q),$.output.gain.value=k.reverb.mix,le.reverb=$}if(k.drone.enabled){const he=H.createGain();he.gain.value=k.drone.gain;const ce=H.createBiquadFilter();ce.type="lowpass",ce.frequency.value=k.drone.filter,ce.Q.value=.5;const Se=bc(38),Ce=H.createOscillator();Ce.type="sawtooth",Ce.frequency.value=Se;const Ee=H.createOscillator();Ee.type="sawtooth",Ee.frequency.value=Se*1.01,Ce.connect(ce),Ee.connect(ce),ce.connect(he),he.connect(Q),$&&he.connect($.input),Ce.start(),Ee.start(),le.drone={filter:ce,gain:he,osc1:Ce,osc2:Ee,baseFreq:Se}}if(k.atmosphere.enabled){const he=H.createGain();he.gain.value=k.atmosphere.gain;const ce=H.createBiquadFilter();ce.type="lowpass",ce.frequency.value=400,ce.Q.value=.2;const Se=H.createBufferSource();if(Se.buffer=Ci(H,8),Se.loop=!0,Se.start(),Se.connect(ce),ce.connect(he),he.connect(Q),$){const Ce=H.createGain();Ce.gain.value=.3,he.connect(Ce),Ce.connect($.input)}le.atmosphere={filter:ce,gain:he}}if(k.arp.enabled){const he=H.createGain();he.gain.value=k.arp.gain;const ce=H.createBiquadFilter();ce.type="lowpass",ce.Q.value=3,ce.frequency.value=k.arp.filter;const Se=H.createDelay(),Ce=H.createDelay();Se.delayTime.value=.3,Ce.delayTime.value=.45;const Ee=H.createGain();Ee.gain.value=.4;const be=H.createChannelMerger(2);ce.connect(he),he.connect(Q),he.connect(Se),he.connect(Ce),Se.connect(Ee),Ce.connect(Ee),Ee.connect(Se),Se.connect(be,0,0),Ce.connect(be,0,1),be.connect(Q),$&&he.connect($.input),le.arp={gain:he,filter:ce,delay:Se,feedback:Ee}}if(k.rhythm.enabled){const he=H.createGain();if(he.gain.value=k.rhythm.gain,he.connect(Q),$){const ce=H.createGain();ce.gain.value=.6,he.connect(ce),ce.connect($.input)}le.rhythm={gain:he}}Vt.current=le;const Xe=H.currentTime;Wt.current=Xe+2,rt.current=Xe+.5,Tt.current=Xe+.1},[]),Ul=D.useCallback(q=>{const H=ft.current,k=Vt.current,Q=st.current;if(!H||!k||!Q.melody.enabled)return;const se=cg[Q.melody.scale],le=Math.floor(Math.random()*se.length),$=Math.random()>.7?12:0,Xe=bc(se[le]+$),he=3+Math.random()*5,ce=he*.4,Se=6,Ce=H.createOscillator();Ce.type="sawtooth",Ce.frequency.value=Xe;const Ee=H.createOscillator();Ee.type="sine",Ee.frequency.value=Xe/2;const be=H.createBiquadFilter();be.type="lowpass",be.Q.value=2,be.frequency.setValueAtTime(200,q),be.frequency.exponentialRampToValueAtTime(2500,q+ce),be.frequency.exponentialRampToValueAtTime(150,q+he+Se);const ot=H.createGain();ot.gain.setValueAtTime(0,q),ot.gain.linearRampToValueAtTime(Q.melody.gain*(.7+Math.random()*.3),q+ce),ot.gain.setValueAtTime(Q.melody.gain*.6,q+he),ot.gain.exponentialRampToValueAtTime(.001,q+he+Se),Ce.connect(be),Ee.connect(be),be.connect(ot),ot.connect(k.masterGain),k.reverb&&ot.connect(k.reverb.input),Ce.start(q),Ee.start(q),Ce.stop(q+he+Se+1),Ee.stop(q+he+Se+1),setTimeout(()=>{Ce.disconnect(),Ee.disconnect(),be.disconnect(),ot.disconnect()},(he+Se+2)*1e3)},[]),Vn=D.useCallback(q=>{const H=ft.current,k=Vt.current,Q=st.current;if(!H||!k||!k.arp||!Q.arp.enabled)return;const se=cg[Q.melody.scale],le=Math.max(1,Math.round(Gn.current.arpOctaves)),$=se.length*le;let Xe=Q.arp.direction??"updown";const he=Xn.current["arp.direction"];he>.3?Xe="up":he<-.3&&(Xe="down"),Xe==="up"?dt.current=(dt.current+1)%$:Xe==="down"?dt.current=(dt.current-1+$)%$:Xe==="random"?dt.current=Math.floor(Math.random()*$):Xe==="updown"&&(dt.current+=lo.current,dt.current>=$-1?(dt.current=$-1,lo.current=-1):dt.current<=0&&(dt.current=0,lo.current=1)),dt.current=Math.max(0,Math.min($-1,dt.current));const ce=dt.current%se.length,Se=Math.floor(dt.current/se.length),Ce=bc(se[ce]+(Se+1)*12),Ee=H.createOscillator();Ee.type="triangle",Ee.frequency.value=Ce;const be=H.createGain();be.gain.setValueAtTime(0,q),be.gain.linearRampToValueAtTime(.8,q+.01),be.gain.exponentialRampToValueAtTime(.05,q+.3),Ee.connect(k.arp.filter),Ee.disconnect(),Ee.connect(be),be.connect(k.arp.filter),Ee.start(q),Ee.stop(q+.4),setTimeout(()=>{Ee.disconnect(),be.disconnect()},500)},[]),Qn=D.useCallback(q=>{const H=ft.current,k=Vt.current,Q=st.current;if(!H||!k||!k.rhythm||!Q.rhythm.enabled)return;const se=H.createOscillator();se.type="sine",se.frequency.setValueAtTime(120,q),se.frequency.exponentialRampToValueAtTime(30,q+.2);const le=H.createGain();le.gain.setValueAtTime(0,q),le.gain.linearRampToValueAtTime(1,q+.005),le.gain.exponentialRampToValueAtTime(.01,q+.4);const $=H.createOscillator();$.type="square",$.frequency.value=2e3;const Xe=H.createGain();Xe.gain.setValueAtTime(.1,q),Xe.gain.exponentialRampToValueAtTime(.001,q+.01),se.connect(le),$.connect(Xe),Xe.connect(le),le.connect(k.rhythm.gain),se.start(q),$.start(q),se.stop(q+.5),$.stop(q+.5),setTimeout(()=>{se.disconnect(),$.disconnect(),Xe.disconnect(),le.disconnect()},600)},[]),Va=D.useCallback(()=>{const q=ft.current,H=Vt.current,k=st.current;if(!q||!H||!k.enabled)return;const Q=q.currentTime,se=q.createOscillator();se.type="triangle",se.frequency.setValueAtTime(150,Q),se.frequency.exponentialRampToValueAtTime(40,Q+.2);const le=q.createGain();le.gain.setValueAtTime(.8*k.masterVolume,Q),le.gain.exponentialRampToValueAtTime(.001,Q+.3),se.connect(le),le.connect(H.masterGain),se.start(Q),se.stop(Q+.4),setTimeout(()=>{se.disconnect(),le.disconnect()},500)},[]),so=D.useCallback(q=>{et();const H=q.sessionId??"local-file",k=q.shaderCode??"",Q=(q.sliders??[]).filter(be=>be.variableName!=="slider_cameraXRotation"),se=q.uniforms??{},le=q.cameraControlsEnabled??!1,$=q.terraformConfig??{targets:[]},Xe=q.controlConfig??{},he=q.source??null,ce=q.soundConfig,Se={...un,...ce,reverb:{...un.reverb,...(ce==null?void 0:ce.reverb)||{}},drone:{...un.drone,...(ce==null?void 0:ce.drone)||{}},atmosphere:{...un.atmosphere,...(ce==null?void 0:ce.atmosphere)||{}},melody:{...un.melody,...(ce==null?void 0:ce.melody)||{}},arp:{...un.arp,...(ce==null?void 0:ce.arp)||{}},rhythm:{...un.rhythm,...(ce==null?void 0:ce.rhythm)||{}},modulations:(ce==null?void 0:ce.modulations)||un.modulations},Ee={...{complexity:6,fold1:.75,fold2:.85,fold3:.15,scale:1.65,stretch:1.2,taper:0,twist:0,asymmetryX:0,asymmetryY:0,asymmetryZ:0,twistAsymX:0,scaleAsymX:0,fold1AsymX:0,fold2AsymX:0,chaseDistance:6.5,chaseVerticalOffset:0,pitchOffset:0,generalScale:1,translucency:1,modulations:[]},...q.shipConfig??{}};Lt(H),t(k),a(Q),v(le),oo($),re(Xe),x(he),Ti(Se),f(se),Si(Ee),ie(q.canvasSize??Nc),Kn(q.viewMode??"chase"),Re(q.isHdEnabled??!1),qe(q.isFpsEnabled??!1),P(q.isHudEnabled??!0),Qt(q.collisionThresholdRed??.002),Ia(q.collisionThresholdYellow??.02),wt.current={...se},g.current={position:[...ba],rotation:[...$s],roll:0},y.current={position:[...ba],rotation:[...$s],roll:0},De("none"),at.current="none",Rn(0),cn.current=0,me.current=0},[et,Kn]),ro=D.useCallback(async q=>{try{const H=await fetch(`./sessions/shader-session-${q}.json`);if(!H.ok)throw new Error(`Session file not found: ${q}`);const k=await H.json();so(k);const Q=Zs();Q.canvasSize&&ie(Q.canvasSize);const se={...k.uniforms??{}};(k.sliders??[]).forEach(le=>{if(Q[le.variableName]){const $=parseFloat(Q[le.variableName]);isNaN($)||(se[le.variableName]=Math.max(le.min,Math.min(le.max,$)))}}),f(se)}catch(H){console.error(`Failed to load session ${q}:`,H),q!=="1"&&(window.location.hash="#planet=1")}},[so]);D.useEffect(()=>{const q=Zs();return ro(q.planet||"1"),()=>et()},[ro,et]);const gr=D.useCallback(()=>{},[]);D.useEffect(()=>{const q=()=>{const H=Zs(),k=H.planet||"1";if(k!==bt){ro(k);return}ie(H.canvasSize||Nc),f(Q=>{const se={...Q};let le=!1;return l.forEach($=>{let he=wt.current[$.variableName]??$.defaultValue;if(H[$.variableName]){const ce=parseFloat(H[$.variableName]);isNaN(he)||(he=ce)}he=Math.max($.min,Math.min($.max,he)),se[$.variableName]!==he&&(se[$.variableName]=he,le=!0)}),le?se:Q})};return window.addEventListener("hashchange",q),()=>window.removeEventListener("hashchange",q)},[l,bt,ro]);const Ai=D.useCallback(q=>{var k;dn.current==="1"&&!ft.current&&st.current.enabled&&(ao(),(k=ft.current)==null||k.resume());const H=q.toLowerCase();z.current.add(H),Z(Q=>new Set(Q).add(H))},[ao]),Ri=D.useCallback(q=>{const H=q.toLowerCase();z.current.delete(H),Z(k=>{const Q=new Set(k);return Q.delete(H),Q})},[]),xn=D.useCallback(()=>{Nl.current=!0;const q=vi.current;q&&q.targets.forEach(H=>{if(H.probability!==void 0&&Math.random()>H.probability)return;const k=H.variableName;Ml.current[k]===void 0&&(Ml.current[k]=0),H.type==="velocity"&&(Uo.current[k]=(Math.random()-.5)*H.magnitude)})},[]),Ht=D.useCallback(()=>{Nl.current=!1,Object.keys(Uo.current).forEach(q=>Uo.current[q]=0)},[]),Ha=D.useCallback((q,H,k)=>{oo(Q=>{const se=(Q==null?void 0:Q.targets)??[],le=se.findIndex($=>$.variableName===q);if(H==="enabled")return k===!0&&le===-1?{targets:[...se,{variableName:q,type:"velocity",magnitude:.01,probability:1}]}:k===!1&&le!==-1?{targets:se.filter($=>$.variableName!==q)}:Q;if(le!==-1){const $=[...se];return $[le]={...$[le],[H]:k},{targets:$}}return Q})},[]),yr=D.useCallback((q,H)=>{re(k=>({...k,[q]:H}))},[]),Ll=D.useCallback(q=>{const H=Zs();H.planet=q,window.location.hash=OA(H)},[]),za=D.useCallback(q=>x(q),[]),qo=D.useCallback((q,H)=>{if(q==="enabled"&&H===!0&&setTimeout(ao,0),Ti(k=>{const Q=q.split("."),se=JSON.parse(JSON.stringify(k));let le=se;for(let $=0;$<Q.length-1;$++)le=le[Q[$]];return le[Q[Q.length-1]]=H,se}),Vt.current&&ft.current){const k=ft.current.currentTime,Q=Vt.current;q==="masterVolume"&&Q.masterGain.gain.setTargetAtTime(H,k,.1),q==="reverb.enabled"&&Q.reverb&&Q.reverb.output.gain.setTargetAtTime(H?st.current.reverb.mix:0,k,.1),q==="reverb.mix"&&Q.reverb&&st.current.reverb.enabled&&Q.reverb.output.gain.setTargetAtTime(H,k,.1),q==="drone.enabled"&&Q.drone&&Q.drone.gain.gain.setTargetAtTime(H?st.current.drone.gain:0,k,.1),q==="drone.gain"&&Q.drone&&st.current.drone.enabled&&Q.drone.gain.gain.setTargetAtTime(H,k,.1),q==="atmosphere.enabled"&&Q.atmosphere&&Q.atmosphere.gain.gain.setTargetAtTime(H?st.current.atmosphere.gain:0,k,.5),q==="atmosphere.gain"&&Q.atmosphere&&st.current.atmosphere.enabled&&Q.atmosphere.gain.gain.setTargetAtTime(H,k,.5),q==="arp.enabled"&&Q.arp&&Q.arp.gain.gain.setTargetAtTime(H?st.current.arp.gain:0,k,.1),q==="arp.gain"&&Q.arp&&st.current.arp.enabled&&Q.arp.gain.gain.setTargetAtTime(H,k,.1),q==="rhythm.enabled"&&Q.rhythm&&Q.rhythm.gain.gain.setTargetAtTime(H?st.current.rhythm.gain:0,k,.1),q==="rhythm.gain"&&Q.rhythm&&st.current.rhythm.enabled&&Q.rhythm.gain.gain.setTargetAtTime(H,k,.1)}},[ao]),vr=D.useCallback(q=>{Ti(H=>({...H,modulations:[...H.modulations||[],{...q,id:Da(),enabled:!0}]}))},[]),zt=D.useCallback((q,H)=>{Ti(k=>({...k,modulations:(k.modulations||[]).map(Q=>Q.id===q?{...Q,...H}:Q)}))},[]),Pl=D.useCallback(q=>{Ti(H=>({...H,modulations:(H.modulations||[]).filter(k=>k.id!==q)}))},[]),uo=D.useCallback(()=>({sessionId:bt,shaderCode:i,sliders:l,uniforms:u,cameraControlsEnabled:h,terraformConfig:Gt,controlConfig:K,soundConfig:qn,source:ye??void 0,shipConfig:$t,canvasSize:te,viewMode:E,isHdEnabled:ge,isFpsEnabled:Te,isHudEnabled:Ge,collisionThresholdRed:fn,collisionThresholdYellow:Jn}),[bt,i,l,u,h,Gt,K,qn,ye,$t,te,E,ge,Te,Ge,fn,Jn]),ql=D.useCallback(()=>{const q=uo(),H=URL.createObjectURL(new Blob([JSON.stringify(q,null,2)],{type:"application/json"})),k=document.createElement("a");k.href=H,k.download="gemini-shader-pilot-session.json",document.body.appendChild(k),k.click(),document.body.removeChild(k),URL.revokeObjectURL(H)},[uo]),xi=D.useCallback(()=>JSON.stringify(uo(),null,2),[uo]),Ba=D.useCallback(()=>{var q;return(q=Ga.current)==null?void 0:q.click()},[]),ka=D.useCallback(q=>{var Q;const H=(Q=q.target.files)==null?void 0:Q[0];if(!H)return;const k=new FileReader;k.onload=se=>{var le;try{so(JSON.parse((le=se.target)==null?void 0:le.result)),q.target&&(q.target.value="")}catch($){console.error("Failed to parse session file:",$)}},k.readAsText(H)},[so]);D.useCallback((q,H)=>{Si(k=>({...k,[q]:H}))},[]);const Mi=D.useCallback(q=>{Si(H=>({...H,modulations:[...H.modulations||[],{...q,id:Da(),enabled:!0}]}))},[]),Tr=D.useCallback((q,H)=>{Si(k=>({...k,modulations:(k.modulations||[]).map(Q=>Q.id===q?{...Q,...H}:Q)}))},[]),Fa=D.useCallback(q=>{Si(H=>({...H,modulations:(H.modulations||[]).filter(k=>k.id!==q)}))},[]);D.useEffect(()=>{(bt!=="1"||!qn.enabled)&&et()},[qn.enabled,bt,et]),D.useEffect(()=>{yi.current=fn,Io.current=Jn},[fn,Jn]),D.useEffect(()=>{const q=k=>{k.target.matches("input, textarea, select")||Ai(k.key)},H=k=>{k.target.matches("input, textarea, select")||Ri(k.key)};return window.addEventListener("keydown",q),window.addEventListener("keyup",H),()=>{window.removeEventListener("keydown",q),window.removeEventListener("keyup",H)}},[Ai,Ri]),D.useEffect(()=>{let q,H=0;const k=Q=>{H===0&&(H=Q);const se=Math.min((Q-H)/1e3,.1);H=Q,Dl.current+=se;const le=_e.current,$=st.current,Xe=bl.current,he=p.current,ce=dn.current,Se=z.current;let Ce=(Se.has("w")?1:0)-(Se.has("s")?1:0);le.invertForward&&(Ce=-Ce);let Ee=(Se.has("d")?1:0)-(Se.has("a")?1:0);le.invertStrafe&&(Ee=-Ee);let be=(Se.has(" ")?1:0)-(Se.has("shift")?1:0);le.invertAscend&&(be=-be);let ot=(Se.has("arrowdown")?1:0)-(Se.has("arrowup")?1:0);le.invertPitch&&(ot=-ot);let bi=(Se.has("arrowright")?1:0)-(Se.has("arrowleft")?1:0);le.invertYaw&&(bi=-bi);const[Zn,wi]=g.current.rotation,Di=g.current.position,Ii=1,Vl=1,Et=.1,$n=Math.sin(wi)*Math.cos(Zn-Et),Go=-Math.sin(Zn-Et),co=Math.cos(wi)*Math.cos(Zn-Et),Sr=Math.cos(wi),Hl=-Math.sin(wi),zl=($n*Ce*(le.forwardVelocity??1)+Sr*Ee*(le.strafeVelocity??1))*Ii,fo=(Go*Ce*(le.forwardVelocity??1)+be*(le.ascendVelocity??1))*Ii,Vo=(co*Ce*(le.forwardVelocity??1)+Hl*Ee*(le.strafeVelocity??1))*Ii;J.current[0]+=(zl-J.current[0])*.1,J.current[1]+=(fo-J.current[1])*.1,J.current[2]+=(Vo-J.current[2])*.1;const Hn=_i.current;Hn[0]=Di[0]+J.current[0]*se,Hn[1]=Di[1]+J.current[1]*se,Hn[2]=Di[2]+J.current[2]*se;let Ui="none",Mn=0;if(ce==="1"){const _t=YA(Hn,he,Dl.current);_t<yi.current?(Ui="colliding",Mn=1,J.current[0]=0,J.current[1]=0,J.current[2]=0,at.current!=="colliding"&&Q-Kt.current>500&&(Kt.current=Q,$.enabled&&ft.current&&Vt.current&&Ni.current.playCollisionSound())):_t<Io.current&&(Ui="approaching",Mn=1-(_t-yi.current)/(Io.current-yi.current),Mn=Math.max(0,Math.min(1,Mn)))}Ui!=="colliding"&&(g.current.position[0]=Hn[0],g.current.position[1]=Hn[1],g.current.position[2]=Hn[2]),at.current!==Ui&&(at.current=Ui,De(Ui)),(Math.abs(Mn-cn.current)>.02||Mn===0||Mn===1)&&(cn.current=Mn,Rn(Mn));const Er=ot*Vl*(le.pitchVelocity??.3),Bl=bi*Vl*(le.yawVelocity??.3);ee.current[0]+=(Er-ee.current[0])*.07,ee.current[1]+=(Bl-ee.current[1])*.07,g.current.rotation[0]=Math.max(-1.57,Math.min(1.57,Zn+ee.current[0]*se)),g.current.rotation[1]=wi+ee.current[1]*se;const Wn=J.current,Ho=Math.sqrt(Wn[0]*Wn[0]+Wn[1]*Wn[1]+Wn[2]*Wn[2]),kl=Ho>1e-4;ae.current!==kl&&(ae.current=kl,ne(kl)),wl.current+=(-bi*(le.yawVelocity??.3)*.75*.4-wl.current)*.1,g.current.roll=wl.current;const jt=w.current,_r=5;Math.abs(jt.target-jt.current)>.001?(jt.current+=(jt.target-jt.current)*_r*se,N(jt.current)):jt.current!==jt.target&&(jt.current=jt.target,N(jt.current)),y.current.position[0]=g.current.position[0],y.current.position[1]=g.current.position[1],y.current.position[2]=g.current.position[2],y.current.rotation[0]=g.current.rotation[0],y.current.rotation[1]=g.current.rotation[1],y.current.roll=g.current.roll;const Oa=Q/1e3,Cr=(Ho-me.current)/se;me.current=Ho;const Bt=Il.current;if(Bt.speed=Ho,Bt.acceleration=Cr*.1,Bt.altitude=g.current.position[1]-ba[1],Bt.descent=-Wn[1]*2,Bt.turning=Math.abs(ee.current[1]),Bt.turningSigned=ee.current[1],Bt.heading=g.current.rotation[1]%(Math.PI*2)/(Math.PI*2),Bt.pitch=-g.current.rotation[0]/1.57,Bt.proximity=cn.current,Bt.time=Oa,ce==="1"&&ft.current&&Vt.current&&$.enabled){const _t=$.modulations||[],we=Xn.current;we.masterVolume=$.masterVolume,we["drone.gain"]=$.drone.gain,we["drone.filter"]=$.drone.filter,we["drone.pitch"]=$.drone.pitch,we["atmosphere.gain"]=$.atmosphere.gain,we["arp.gain"]=$.arp.gain,we["arp.speed"]=$.arp.speed,we["arp.filter"]=$.arp.filter,we["arp.octaves"]=$.arp.octaves,we["arp.direction"]=0,we["rhythm.gain"]=$.rhythm.gain,we["rhythm.filter"]=$.rhythm.filter,we["rhythm.bpm"]=$.rhythm.bpm,we["melody.gain"]=$.melody.gain,we["melody.density"]=$.melody.density,we["reverb.mix"]=$.reverb.mix,we["reverb.tone"]=$.reverb.tone;for(let en=0;en<_t.length;en++){const bn=_t[en];if(!bn.enabled)continue;const zn=JA[bn.target]||1;we[bn.target]+=(Bt[bn.source]||0)*bn.amount*zn}const je=Vt.current,He=ft.current.currentTime;if(je.drone&&$.drone.enabled){je.drone.filter.frequency.setTargetAtTime(Math.max(20,we["drone.filter"]),He,2);const en=je.drone.baseFreq,bn=we["drone.pitch"],zn=en*Math.pow(2,bn/12);je.drone.osc1.frequency.setTargetAtTime(zn,He,.5),je.drone.osc2.frequency.setTargetAtTime(zn*1.01,He,.5),je.drone.gain.gain.setTargetAtTime(Math.max(0,we["drone.gain"]),He,.1)}je.atmosphere&&$.atmosphere.enabled&&je.atmosphere.gain.gain.setTargetAtTime(Math.max(0,we["atmosphere.gain"]),He,1.5),je.arp&&$.arp.enabled&&(je.arp.filter.frequency.setTargetAtTime(Math.max(50,we["arp.filter"]),He,.5),je.arp.gain.gain.setTargetAtTime(Math.max(0,we["arp.gain"]),He,.1)),je.rhythm&&$.rhythm.enabled&&je.rhythm.gain.gain.setTargetAtTime(Math.max(0,we["rhythm.gain"]),He,.1),je.reverb&&$.reverb.enabled&&(je.reverb.output.gain.setTargetAtTime(Math.max(0,Math.min(1,we["reverb.mix"])),He,.5),je.reverb.setTone(Math.max(200,we["reverb.tone"]))),je.masterGain.gain.setTargetAtTime(Math.max(0,Math.min(1,we.masterVolume)),He,.1),Gn.current.rhythmBpm=Math.max(30,Math.min(300,we["rhythm.bpm"])),Gn.current.arpSpeed=Math.max(.1,Math.min(5,we["arp.speed"])),Gn.current.arpOctaves=Math.max(1,Math.min(5,we["arp.octaves"])),Gn.current.melodyDensity=Math.max(0,Math.min(1,we["melody.density"]));const mn=.1,{rhythmBpm:pn,arpSpeed:Fl,melodyDensity:Rr}=Gn.current;if($.melody.enabled&&He>=Wt.current-mn){const en=Math.max(He,Wt.current);Math.random()<Rr&&Ni.current.playGenerativeNote(en),Wt.current+=60/pn*(Math.random()*4+4)}if($.arp.enabled&&He>=rt.current-mn){const en=Math.max(He,rt.current);Ni.current.playArpNote(en),rt.current+=60/pn/(Fl*4)}if($.rhythm.enabled&&He>=Tt.current-mn){const en=Math.max(He,Tt.current);Ni.current.playRhythm(en),Tt.current+=60/pn}}const Ar=Xe.modulations||[],{modulations:Wc,...mo}=Xe;for(const _t of Ar){if(!_t.enabled)continue;const we=_t.target;if(!mo.hasOwnProperty(we))continue;const je=XA[_t.target]||1,po=(Bt[_t.source]||0)*_t.amount*je;mo[we]+=po}Po.current=mo,Nl.current&&Zt.current>0?Zt.current=Math.max(0,Zt.current-.33*se):Zt.current=Math.min(1,Zt.current+.2*se),io!==Zt.current&&Lo(Zt.current);const Nn=Ml.current,zo=Uo.current,Ya=Object.keys(Nn).concat(Object.keys(zo));if(Ya.length>0){const _t=new Set(Ya);_t.size>0&&f(we=>{const je={...we};let po=!1;return _t.forEach(He=>{const mn=Ei.current.find(Fl=>Fl.variableName===He);if(!mn)return;if(Nn[He]=(Nn[He]||0)+((zo[He]||0)-(Nn[He]||0))*.1,Math.abs(Nn[He])<1e-4&&zo[He]===0){delete Nn[He],delete zo[He];return}let pn=(je[He]??mn.defaultValue)+Nn[He]*Zt.current;pn>mn.max&&(pn=mn.max,Nn[He]=0),pn<mn.min&&(pn=mn.min,Nn[He]=0),je[He]!==pn&&(je[He]=pn,po=!0)}),po?je:we})}q=requestAnimationFrame(k)};return q=requestAnimationFrame(k),()=>cancelAnimationFrame(q)},[]);const Ni=D.useRef({playGenerativeNote:q=>{},playArpNote:q=>{},playRhythm:q=>{},playCollisionSound:()=>{}});D.useEffect(()=>{Ni.current={playGenerativeNote:Ul,playArpNote:Vn,playRhythm:Qn,playCollisionSound:Va}},[Ul,Vn,Qn,Va]);const Gl=D.useCallback((q,H)=>f(k=>({...k,[q]:H})),[]);return{activeShaderCode:i,sliders:l,uniforms:u,handleUniformChange:Gl,handleUniformsCommit:gr,canvasSize:te,setCanvasSize:ie,allUniforms:u,cameraRef:g,renderCameraRef:y,cameraVelocityRef:J,cameraAngularVelocityRef:ee,pressKey:Ai,releaseKey:Ri,cameraControlsEnabled:h,pressedKeys:G,isControlsOpen:X,setIsControlsOpen:fe,isHdEnabled:ge,setIsHdEnabled:Re,isFpsEnabled:Te,setIsFpsEnabled:qe,isHudEnabled:Ge,setIsHudEnabled:P,handleTerraformPress:xn,handleTerraformRelease:Ht,terraformPower:io,terraformConfig:Gt,handleTerraformConfigChange:Ha,currentSessionId:bt,EDITMODE:AA,handleSessionSelect:Ll,controlConfig:K,handleControlConfigChange:yr,sessionSource:ye,handleSourceChange:za,soundConfig:qn,handleSoundConfigChange:qo,addSoundModulation:vr,updateSoundModulation:zt,removeSoundModulation:Pl,fileInputRef:Ga,handleLoadSessionFromFile:Ba,handleSaveSessionToFile:ql,handleFileChange:ka,isMoving:O,debugElevation:Al,debugArpVolume:Rl,debugCameraAltitude:ur,debugCameraPitch:cr,debugCameraDistance:La,collisionState:xe,collisionProximity:We,collisionThresholdRed:fn,setCollisionThresholdRed:Qt,collisionThresholdYellow:Jn,setCollisionThresholdYellow:Ia,isInteracting:W,setIsInteracting:q=>j(q),viewMode:E,setViewMode:Kn,viewModeTransition:R,shipConfig:$t,effectiveShipConfigRef:Po,handleShipConfigChange:(q,H)=>Si(k=>({...k,[q]:H})),addShipModulation:Mi,updateShipModulation:Tr,removeShipModulation:Fa,debugCollisionPointRef:dr,debugRayStartPointRef:Pa,debugRayEndPointRef:mr,debugCollisionDistanceRef:pr,getSessionStateJson:xi}},QA=()=>({shaderCode:"",handleCodeEdit:()=>{},handleRun:()=>{},error:null,handleSliderConfigChange:()=>{},handleResetSliders:()=>{},handleRemoveSlider:()=>{},isSidebarVisible:!1,setIsSidebarVisible:()=>{},isSettingsOpen:!1,setIsSettingsOpen:()=>{},settingsRef:zc.createRef(),playbackState:"playing",handlePlayPause:()=>{},handleStop:()=>{},handleRestart:()=>{},handleNewSessionClick:()=>{},handleLoadSession:()=>{},handleSaveSession:()=>{},handleUndo:()=>{},historyIndex:0,handleRedo:()=>{},history:[],setIsNewSessionModalOpen:()=>{},handleConfirmNewSession:()=>{},geminiPrompt:"",setGeminiPrompt:()=>{},handleAiRequest:()=>{},handleAiSliderAdjust:()=>{},aiStage:kg.IDLE,geminiError:null,handleExplainCode:()=>{},isGeneratingExplanation:!1,explanation:null,explanationError:null,handleClearExplanation:()=>{},handleAnalyzeShader:()=>{},isAnalyzing:!1,analysisError:null,handleFetchSliderSuggestions:()=>{},isFetchingSuggestions:!1,sliderSuggestions:[],suggestionsError:null,handleClearSuggestions:()=>{},usedSuggestions:new Set,handleFixCodeWithAi:()=>{},isFixingCode:!1}),ZA=()=>{const i=KA(),t=QA(),{handleTerraformPress:l,handleTerraformRelease:a,terraformPower:u,isMoving:f,debugElevation:p,debugArpVolume:g,debugCameraAltitude:y,debugCameraPitch:h,debugCameraDistance:v,collisionState:E,collisionProximity:T,collisionThresholdRed:R,setCollisionThresholdRed:N,collisionThresholdYellow:w,setCollisionThresholdYellow:z,isInteracting:G,setIsInteracting:Z,viewMode:J,setViewMode:ee,viewModeTransition:te,shipConfig:ie,effectiveShipConfigRef:X,handleShipConfigChange:fe,addShipModulation:W,updateShipModulation:j,removeShipModulation:ge,debugCollisionPointRef:Re,debugRayStartPointRef:Te,debugRayEndPointRef:qe,debugCollisionDistanceRef:Ge,getSessionStateJson:P,...K}=i;return{...t,...K,handleTerraformPress:l,handleTerraformRelease:a,terraformPower:u,isMoving:f,debugElevation:p,debugArpVolume:g,debugCameraAltitude:y,debugCameraPitch:h,debugCameraDistance:v,collisionState:E,collisionProximity:T,collisionThresholdRed:R,setCollisionThresholdRed:N,collisionThresholdYellow:w,setCollisionThresholdYellow:z,isInteracting:G,setIsInteracting:Z,viewMode:J,setViewMode:ee,viewModeTransition:te,shipConfig:ie,effectiveShipConfigRef:X,handleShipConfigChange:fe,addShipModulation:W,updateShipModulation:j,removeShipModulation:ge,debugCollisionPointRef:Re,debugRayStartPointRef:Te,debugRayEndPointRef:qe,debugCollisionDistanceRef:Ge,getSessionStateJson:P}},$A=["w","a","s","d"," ","shift","arrowup","arrowdown","arrowleft","arrowright"],WA=()=>{const{canvasSize:i,sliders:t,uniforms:l,currentSessionId:a,activeShaderCode:u,allUniforms:f,renderCameraRef:p,cameraControlsEnabled:g,setIsControlsOpen:y,isHdEnabled:h,setIsHdEnabled:v,isFpsEnabled:E,EDITMODE:T,isMoving:R,isInteracting:N,pressedKeys:w,viewMode:z,setViewMode:G,viewModeTransition:Z,fileInputRef:J,handleFileChange:ee,soundConfig:te,handleSoundConfigChange:ie}=An(),[X,fe]=D.useState(!1);D.useCallback(()=>{const Ge={planet:a,canvasSize:i};t.forEach(re=>{const _e=l[re.variableName];typeof _e=="number"&&(Ge[re.variableName]=Number(_e.toFixed(3)))});const P=Object.entries(Ge).map(([re,_e])=>`${encodeURIComponent(re)}=${encodeURIComponent(String(_e))}`).join("&"),K=`${window.location.origin}${window.location.pathname}#${P}`;navigator.clipboard.writeText(K).then(()=>{fe(!0),setTimeout(()=>{fe(!1)},2e3)}).catch(re=>{console.error("Failed to copy link: ",re)})},[a,i,t,l]);const W=D.useCallback(()=>{te.enabled?ie("enabled",!1):(ie("enabled",!0),ie("masterVolume",.5))},[te.enabled,ie]),j={};i==="100%_square"?(j.width="100%",j.aspectRatio="1 / 1",j.height="auto"):i==="100%_height_square"?(j.height="100%",j.width="auto",j.aspectRatio="1 / 1",j.margin="0 auto"):i==="fit_screen_square"?(j.width="min(100%, 100vh - 100px)",j.height="auto",j.aspectRatio="1 / 1"):i==="100%"?(j.width="100%",j.height="100%"):(j.width=i,j.height=i,j.aspectRatio="1 / 1");const ge=D.useCallback(()=>{},[]),Re=$A.some(Ge=>w.has(Ge)),Te=R||N||Re,qe=()=>te.enabled?C.jsx(G0,{className:"w-6 h-6"}):C.jsx(V0,{className:"w-6 h-6"});return C.jsxs("div",{className:"h-screen w-screen bg-gray-900 text-white flex flex-col overflow-hidden relative",children:[C.jsx("input",{type:"file",ref:J,onChange:ee,className:"hidden",accept:".json"}),C.jsx("main",{className:"flex-grow bg-black flex items-center justify-center overflow-hidden",children:C.jsxs("div",{className:"relative",style:{...j,maxWidth:"100%",maxHeight:"100%"},children:[u&&C.jsx(L0,{fragmentSrc:u,onError:ge,uniforms:f,cameraRef:p,isHdEnabled:h,isFpsEnabled:E,isPlaying:!0,shouldReduceQuality:Te},u),C.jsx(FA,{})]})}),C.jsx(zA,{}),C.jsx(GA,{}),g&&C.jsx(HA,{}),C.jsxs("div",{className:"fixed top-4 left-4 z-30 flex flex-col gap-2",children:[C.jsx("button",{onClick:()=>v(!h),className:`w-12 h-12 flex items-center justify-center rounded-full transition-all transform hover:scale-110 shadow-lg border backdrop-blur-sm
                                ${h?"bg-white/90 text-black border-gray-300":"bg-gray-500/30 text-white border-white/20"}`,"aria-label":`Toggle HD Mode (${h?"On":"Off"})`,title:`HD Mode (${h?"On":"Off"})`,children:C.jsx("span",{className:"font-bold text-sm",children:"HD"})}),g&&xA]}),C.jsxs("div",{className:"fixed top-4 right-4 z-30 flex flex-col gap-2",children:[C.jsx("button",{onClick:()=>y(!0),className:"w-12 h-12 flex items-center justify-center bg-gray-500/30 backdrop-blur-sm border border-white/20 rounded-full text-white hover:bg-white/20 transition-all transform hover:scale-110 shadow-lg","aria-label":"Open Controls",title:"Open Controls Panel",children:C.jsx(q0,{className:"w-6 h-6"})}),C.jsx("button",{onClick:W,className:`w-12 h-12 flex items-center justify-center rounded-full transition-all transform hover:scale-110 shadow-lg border backdrop-blur-sm
                                    ${te.enabled?"bg-white/90 text-black border-gray-300":"bg-gray-500/30 text-white border-white/20"}`,"aria-label":"Toggle Sound",title:`Sound: ${te.enabled?"On":"Off"}`,children:qe()}),T&&RA]})]})},jA=()=>{const i=ZA();return C.jsx(P0,{value:i,children:C.jsx(WA,{})})},Fg=document.getElementById("root");if(!Fg)throw new Error("Could not find root element to mount to");const e1=D0.createRoot(Fg);e1.render(C.jsx(zc.StrictMode,{children:C.jsx(jA,{})}));
